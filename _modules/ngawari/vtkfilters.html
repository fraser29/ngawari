

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ngawari.vtkfilters &mdash; Ngawari 0.1.7 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=ca7ad2ea"></script>
      <script src="../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Ngawari
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../installation.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation.html#installation-methods">Installation Methods</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../installation.html#from-pypi-recommended">From PyPI (Recommended)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../installation.html#from-source">From Source</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../installation.html#development-installation">Development Installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../installation.html#verifying-installation">Verifying Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../installation.html#version-compatibility">Version Compatibility</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart.html">Quick Start Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../quickstart.html#basic-concepts">Basic Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quickstart.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quickstart.html#creating-basic-geometry">Creating Basic Geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quickstart.html#working-with-arrays">Working with Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quickstart.html#filtering-operations">Filtering Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quickstart.html#clipping-and-cutting">Clipping and Cutting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quickstart.html#file-i-o">File I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quickstart.html#mathematical-operations">Mathematical Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quickstart.html#complete-example">Complete Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quickstart.html#next-steps">Next Steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/index.html#core-modules">Core Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/ftk.html">ftk - Mathematical and Utility Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.getIDOfClosestFloat"><code class="docutils literal notranslate"><span class="pre">getIDOfClosestFloat()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.getClosestFloat"><code class="docutils literal notranslate"><span class="pre">getClosestFloat()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.getIDOfClosestPoint"><code class="docutils literal notranslate"><span class="pre">getIDOfClosestPoint()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.getClosestPoint"><code class="docutils literal notranslate"><span class="pre">getClosestPoint()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.distPointPoints"><code class="docutils literal notranslate"><span class="pre">distPointPoints()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.squareDistPointPoints"><code class="docutils literal notranslate"><span class="pre">squareDistPointPoints()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.sortedIDsOfClosestPoints"><code class="docutils literal notranslate"><span class="pre">sortedIDsOfClosestPoints()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.distTwoPoints"><code class="docutils literal notranslate"><span class="pre">distTwoPoints()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.getIDsOfClosestPoints"><code class="docutils literal notranslate"><span class="pre">getIDsOfClosestPoints()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.getIDsOfFartherestPoints"><code class="docutils literal notranslate"><span class="pre">getIDsOfFartherestPoints()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.vectorMagnitudes"><code class="docutils literal notranslate"><span class="pre">vectorMagnitudes()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.normaliseArray"><code class="docutils literal notranslate"><span class="pre">normaliseArray()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.angleBetween2Vec"><code class="docutils literal notranslate"><span class="pre">angleBetween2Vec()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.angleBetweenVecAndPlane"><code class="docutils literal notranslate"><span class="pre">angleBetweenVecAndPlane()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.areVecsMatching"><code class="docutils literal notranslate"><span class="pre">areVecsMatching()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.linearFit"><code class="docutils literal notranslate"><span class="pre">linearFit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.fitPlaneToPoints"><code class="docutils literal notranslate"><span class="pre">fitPlaneToPoints()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.polyfit2d"><code class="docutils literal notranslate"><span class="pre">polyfit2d()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.polyval2d"><code class="docutils literal notranslate"><span class="pre">polyval2d()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.projectPtsToPlane"><code class="docutils literal notranslate"><span class="pre">projectPtsToPlane()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.project3DPointsToPlanarCoordinateSystem"><code class="docutils literal notranslate"><span class="pre">project3DPointsToPlanarCoordinateSystem()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.project3DPointsToPlanarCoordinateSystem_OLD"><code class="docutils literal notranslate"><span class="pre">project3DPointsToPlanarCoordinateSystem_OLD()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.project3DPointsToPlanarCoordinateSystem2"><code class="docutils literal notranslate"><span class="pre">project3DPointsToPlanarCoordinateSystem2()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.convert2DPointsTo3DCoordinateSystem"><code class="docutils literal notranslate"><span class="pre">convert2DPointsTo3DCoordinateSystem()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.fitCircle2D"><code class="docutils literal notranslate"><span class="pre">fitCircle2D()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.fitCircleRANSAC"><code class="docutils literal notranslate"><span class="pre">fitCircleRANSAC()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.fitCircleRANSAC3D_xyz"><code class="docutils literal notranslate"><span class="pre">fitCircleRANSAC3D_xyz()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.fit_ellipse_2d"><code class="docutils literal notranslate"><span class="pre">fit_ellipse_2d()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.fit_ellipse_3d"><code class="docutils literal notranslate"><span class="pre">fit_ellipse_3d()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.buildCircle3D"><code class="docutils literal notranslate"><span class="pre">buildCircle3D()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.fitPlaneToPointCloud_RANSAC"><code class="docutils literal notranslate"><span class="pre">fitPlaneToPointCloud_RANSAC()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.deg2rad"><code class="docutils literal notranslate"><span class="pre">deg2rad()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.rad2deg"><code class="docutils literal notranslate"><span class="pre">rad2deg()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.rotateArray"><code class="docutils literal notranslate"><span class="pre">rotateArray()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.rotationMatrixFromThreeAngles"><code class="docutils literal notranslate"><span class="pre">rotationMatrixFromThreeAngles()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.getClosestInSortedList"><code class="docutils literal notranslate"><span class="pre">getClosestInSortedList()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.getIdOfClosestFloat"><code class="docutils literal notranslate"><span class="pre">getIdOfClosestFloat()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.polar2Cart"><code class="docutils literal notranslate"><span class="pre">polar2Cart()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.polar2z"><code class="docutils literal notranslate"><span class="pre">polar2z()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.z2Polar"><code class="docutils literal notranslate"><span class="pre">z2Polar()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.cart2Polar"><code class="docutils literal notranslate"><span class="pre">cart2Polar()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.unit_vector"><code class="docutils literal notranslate"><span class="pre">unit_vector()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.vecFromPtToLine"><code class="docutils literal notranslate"><span class="pre">vecFromPtToLine()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.fcdot"><code class="docutils literal notranslate"><span class="pre">fcdot()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.cosineDifferenceBetweenTwoMats"><code class="docutils literal notranslate"><span class="pre">cosineDifferenceBetweenTwoMats()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.getVectorComponentAlongRefVec"><code class="docutils literal notranslate"><span class="pre">getVectorComponentAlongRefVec()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.getVectorComponentAlongRefVec_Mag"><code class="docutils literal notranslate"><span class="pre">getVectorComponentAlongRefVec_Mag()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.getVectorComponentNormalToRefVec"><code class="docutils literal notranslate"><span class="pre">getVectorComponentNormalToRefVec()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.closeCurve"><code class="docutils literal notranslate"><span class="pre">closeCurve()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.splinePoints"><code class="docutils literal notranslate"><span class="pre">splinePoints()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.splineFunction"><code class="docutils literal notranslate"><span class="pre">splineFunction()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.splineXY"><code class="docutils literal notranslate"><span class="pre">splineXY()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.splineCurve"><code class="docutils literal notranslate"><span class="pre">splineCurve()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.getMaxsMinsInflections"><code class="docutils literal notranslate"><span class="pre">getMaxsMinsInflections()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.sigmoidFunction"><code class="docutils literal notranslate"><span class="pre">sigmoidFunction()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.extractContinuousSegFromPeriodic"><code class="docutils literal notranslate"><span class="pre">extractContinuousSegFromPeriodic()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.fitGaussianToData"><code class="docutils literal notranslate"><span class="pre">fitGaussianToData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.gaussianFunction"><code class="docutils literal notranslate"><span class="pre">gaussianFunction()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.calculate_signed_area_2d"><code class="docutils literal notranslate"><span class="pre">calculate_signed_area_2d()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.isClosedPolygonClockwise"><code class="docutils literal notranslate"><span class="pre">isClosedPolygonClockwise()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.ensureClosedPolyIsClockwise"><code class="docutils literal notranslate"><span class="pre">ensureClosedPolyIsClockwise()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.setFirstPtOfPolygon"><code class="docutils literal notranslate"><span class="pre">setFirstPtOfPolygon()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.reorderPointsStartClosestToX"><code class="docutils literal notranslate"><span class="pre">reorderPointsStartClosestToX()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.reorderPointsStatingAti"><code class="docutils literal notranslate"><span class="pre">reorderPointsStatingAti()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.sortPointsByClosest_RETURNIDs"><code class="docutils literal notranslate"><span class="pre">sortPointsByClosest_RETURNIDs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.sortPointsByClosest"><code class="docutils literal notranslate"><span class="pre">sortPointsByClosest()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.cumulativeDistanceAlongLine"><code class="docutils literal notranslate"><span class="pre">cumulativeDistanceAlongLine()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.getIdOfPointClosestToX"><code class="docutils literal notranslate"><span class="pre">getIdOfPointClosestToX()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.getPolygonMeanRadius"><code class="docutils literal notranslate"><span class="pre">getPolygonMeanRadius()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.getPolygonMeanDiameter"><code class="docutils literal notranslate"><span class="pre">getPolygonMeanDiameter()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.getPolygonCenterPoint"><code class="docutils literal notranslate"><span class="pre">getPolygonCenterPoint()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.lineMagnitude"><code class="docutils literal notranslate"><span class="pre">lineMagnitude()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.distancePointToLineSegPerpendicular"><code class="docutils literal notranslate"><span class="pre">distancePointToLineSegPerpendicular()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.ndarrayToListOfTuple3"><code class="docutils literal notranslate"><span class="pre">ndarrayToListOfTuple3()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.diff"><code class="docutils literal notranslate"><span class="pre">diff()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.circleFit2DErr"><code class="docutils literal notranslate"><span class="pre">circleFit2DErr()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.distanceToPlane"><code class="docutils literal notranslate"><span class="pre">distanceToPlane()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.residualPlane"><code class="docutils literal notranslate"><span class="pre">residualPlane()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.residualsCircle"><code class="docutils literal notranslate"><span class="pre">residualsCircle()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.icp"><code class="docutils literal notranslate"><span class="pre">icp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.fitPlane3DOptimize"><code class="docutils literal notranslate"><span class="pre">fitPlane3DOptimize()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.fitCircle3D"><code class="docutils literal notranslate"><span class="pre">fitCircle3D()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.lagBetweenTwoCurves"><code class="docutils literal notranslate"><span class="pre">lagBetweenTwoCurves()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.calculatePlaneThreePoints"><code class="docutils literal notranslate"><span class="pre">calculatePlaneThreePoints()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.getPlaneConstantsFromPointAndVector"><code class="docutils literal notranslate"><span class="pre">getPlaneConstantsFromPointAndVector()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.calculateDerivativeOnLine_backwardDiff"><code class="docutils literal notranslate"><span class="pre">calculateDerivativeOnLine_backwardDiff()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.calculateSecondDerivativeOnLine"><code class="docutils literal notranslate"><span class="pre">calculateSecondDerivativeOnLine()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.calculateCurvature3Pts"><code class="docutils literal notranslate"><span class="pre">calculateCurvature3Pts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.calculateCurvature_D"><code class="docutils literal notranslate"><span class="pre">calculateCurvature_D()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.setVectorDirection"><code class="docutils literal notranslate"><span class="pre">setVectorDirection()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.buildRotationMatrix"><code class="docutils literal notranslate"><span class="pre">buildRotationMatrix()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.adjustPointsCenterOfMassToOrigin"><code class="docutils literal notranslate"><span class="pre">adjustPointsCenterOfMassToOrigin()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.areVecsConsistent"><code class="docutils literal notranslate"><span class="pre">areVecsConsistent()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.setVecAConsitentWithVecB"><code class="docutils literal notranslate"><span class="pre">setVecAConsitentWithVecB()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.buildConvexHUll3D"><code class="docutils literal notranslate"><span class="pre">buildConvexHUll3D()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.orderPointsConvexHull_IDs"><code class="docutils literal notranslate"><span class="pre">orderPointsConvexHull_IDs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.orderPointsConvexHull"><code class="docutils literal notranslate"><span class="pre">orderPointsConvexHull()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.groupContinuousLinesByTol"><code class="docutils literal notranslate"><span class="pre">groupContinuousLinesByTol()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.buildContinuousLineByClosestPt"><code class="docutils literal notranslate"><span class="pre">buildContinuousLineByClosestPt()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.accumulatedAverage"><code class="docutils literal notranslate"><span class="pre">accumulatedAverage()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.interpolateNANsFromSurroundingValues_cubic"><code class="docutils literal notranslate"><span class="pre">interpolateNANsFromSurroundingValues_cubic()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.doesLineSegPierceTriangle"><code class="docutils literal notranslate"><span class="pre">doesLineSegPierceTriangle()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.doesLinePierceTriangle"><code class="docutils literal notranslate"><span class="pre">doesLinePierceTriangle()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.pluckerSideOperator"><code class="docutils literal notranslate"><span class="pre">pluckerSideOperator()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.pluckerLine"><code class="docutils literal notranslate"><span class="pre">pluckerLine()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.doesVectorPierceAnyTriangle"><code class="docutils literal notranslate"><span class="pre">doesVectorPierceAnyTriangle()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.calculateBSA"><code class="docutils literal notranslate"><span class="pre">calculateBSA()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.interpolateNANsFromSurroundingValues_linear"><code class="docutils literal notranslate"><span class="pre">interpolateNANsFromSurroundingValues_linear()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#ngawari.ftk.convexHull"><code class="docutils literal notranslate"><span class="pre">convexHull()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#vector-operations">Vector Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#matrix-operations">Matrix Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#geometric-calculations">Geometric Calculations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#point-and-line-utilities">Point and Line Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/ftk.html#mathematical-transformations">Mathematical Transformations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/fIO.html">fIO - File Input/Output</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.remove_symbols"><code class="docutils literal notranslate"><span class="pre">remove_symbols()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.remove_not_allowed"><code class="docutils literal notranslate"><span class="pre">remove_not_allowed()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.countFilesInDir"><code class="docutils literal notranslate"><span class="pre">countFilesInDir()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.getAllFilesUnderDir"><code class="docutils literal notranslate"><span class="pre">getAllFilesUnderDir()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.parseFileToTagsDictionary"><code class="docutils literal notranslate"><span class="pre">parseFileToTagsDictionary()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.writeDictionaryToFile"><code class="docutils literal notranslate"><span class="pre">writeDictionaryToFile()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.NumpyEncoder"><code class="docutils literal notranslate"><span class="pre">NumpyEncoder</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.writeDictionaryToJSON"><code class="docutils literal notranslate"><span class="pre">writeDictionaryToJSON()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.parseJsonToDictionary"><code class="docutils literal notranslate"><span class="pre">parseJsonToDictionary()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.strListToFloatList"><code class="docutils literal notranslate"><span class="pre">strListToFloatList()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.xmlIndent"><code class="docutils literal notranslate"><span class="pre">xmlIndent()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.findAndReplaceTextInFile"><code class="docutils literal notranslate"><span class="pre">findAndReplaceTextInFile()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.readFileToListOfLines"><code class="docutils literal notranslate"><span class="pre">readFileToListOfLines()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.appendFiles"><code class="docutils literal notranslate"><span class="pre">appendFiles()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pickleData"><code class="docutils literal notranslate"><span class="pre">pickleData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.unpickleData"><code class="docutils literal notranslate"><span class="pre">unpickleData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.tarGZLocal_AndMove"><code class="docutils literal notranslate"><span class="pre">tarGZLocal_AndMove()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.addSuffixToName"><code class="docutils literal notranslate"><span class="pre">addSuffixToName()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.checkIfExtnPresent"><code class="docutils literal notranslate"><span class="pre">checkIfExtnPresent()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.readDataCSV"><code class="docutils literal notranslate"><span class="pre">readDataCSV()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.writeCSVFile"><code class="docutils literal notranslate"><span class="pre">writeCSVFile()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.detectDelimiter"><code class="docutils literal notranslate"><span class="pre">detectDelimiter()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.writePlyFile"><code class="docutils literal notranslate"><span class="pre">writePlyFile()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.writeVTKFile"><code class="docutils literal notranslate"><span class="pre">writeVTKFile()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.readVTKFile"><code class="docutils literal notranslate"><span class="pre">readVTKFile()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.nii_to_niigz"><code class="docutils literal notranslate"><span class="pre">nii_to_niigz()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.writeNifti"><code class="docutils literal notranslate"><span class="pre">writeNifti()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.readNifti"><code class="docutils literal notranslate"><span class="pre">readNifti()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.readNRRD"><code class="docutils literal notranslate"><span class="pre">readNRRD()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.writeVTK_PVD_Dict"><code class="docutils literal notranslate"><span class="pre">writeVTK_PVD_Dict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pvdAddTimeToFieldData"><code class="docutils literal notranslate"><span class="pre">pvdAddTimeToFieldData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.writeZipFromVTK_PVD_Dict"><code class="docutils literal notranslate"><span class="pre">writeZipFromVTK_PVD_Dict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.deleteFilesByPVD"><code class="docutils literal notranslate"><span class="pre">deleteFilesByPVD()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.readPVDFileName"><code class="docutils literal notranslate"><span class="pre">readPVDFileName()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.readImageFileToDict"><code class="docutils literal notranslate"><span class="pre">readImageFileToDict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.readPVD"><code class="docutils literal notranslate"><span class="pre">readPVD()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pvdGetDict"><code class="docutils literal notranslate"><span class="pre">pvdGetDict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pvdGetClosestTimeToT"><code class="docutils literal notranslate"><span class="pre">pvdGetClosestTimeToT()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pvdGetTimes"><code class="docutils literal notranslate"><span class="pre">pvdGetTimes()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pvdGetIdOfT"><code class="docutils literal notranslate"><span class="pre">pvdGetIdOfT()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pvdGetFileAtT"><code class="docutils literal notranslate"><span class="pre">pvdGetFileAtT()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pvdGetNumberTimePoints"><code class="docutils literal notranslate"><span class="pre">pvdGetNumberTimePoints()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pvdGetDataFileRoot_Prefix_and_Ext"><code class="docutils literal notranslate"><span class="pre">pvdGetDataFileRoot_Prefix_and_Ext()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pvdGetDataClosestTo"><code class="docutils literal notranslate"><span class="pre">pvdGetDataClosestTo()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pvdMultiply"><code class="docutils literal notranslate"><span class="pre">pvdMultiply()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pvdReverse"><code class="docutils literal notranslate"><span class="pre">pvdReverse()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pvdRestart_t"><code class="docutils literal notranslate"><span class="pre">pvdRestart_t()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pvdRestart"><code class="docutils literal notranslate"><span class="pre">pvdRestart()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pvdClip"><code class="docutils literal notranslate"><span class="pre">pvdClip()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pvdResetTimes"><code class="docutils literal notranslate"><span class="pre">pvdResetTimes()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pvdResetStartPoint_Id"><code class="docutils literal notranslate"><span class="pre">pvdResetStartPoint_Id()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pvdResetStartPoint"><code class="docutils literal notranslate"><span class="pre">pvdResetStartPoint()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.pvdAddStartPointAtEndForPeriodicy"><code class="docutils literal notranslate"><span class="pre">pvdAddStartPointAtEndForPeriodicy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#ngawari.fIO.buildPVD_WaterFallRestarts"><code class="docutils literal notranslate"><span class="pre">buildPVD_WaterFallRestarts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#vtk-file-formats">VTK File Formats</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#other-file-formats">Other File Formats</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#pvd-file-operations">PVD File Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#data-conversion">Data Conversion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/fIO.html#batch-processing">Batch Processing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../api/vtkfilters.html">vtkfilters - VTK Filtering and Processing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.isVTI"><code class="docutils literal notranslate"><span class="pre">isVTI()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.isVTP"><code class="docutils literal notranslate"><span class="pre">isVTP()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.isVTS"><code class="docutils literal notranslate"><span class="pre">isVTS()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.angleBetweenTwoVectors"><code class="docutils literal notranslate"><span class="pre">angleBetweenTwoVectors()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getArrayNames"><code class="docutils literal notranslate"><span class="pre">getArrayNames()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getArray"><code class="docutils literal notranslate"><span class="pre">getArray()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getScalarsArrayName"><code class="docutils literal notranslate"><span class="pre">getScalarsArrayName()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getVectorsArrayName"><code class="docutils literal notranslate"><span class="pre">getVectorsArrayName()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getArrayId"><code class="docutils literal notranslate"><span class="pre">getArrayId()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.renameArray"><code class="docutils literal notranslate"><span class="pre">renameArray()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getArrayAsNumpy"><code class="docutils literal notranslate"><span class="pre">getArrayAsNumpy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getScalarsAsNumpy"><code class="docutils literal notranslate"><span class="pre">getScalarsAsNumpy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.setArrayFromNumpy"><code class="docutils literal notranslate"><span class="pre">setArrayFromNumpy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.addNpArray"><code class="docutils literal notranslate"><span class="pre">addNpArray()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.setArrayDtype"><code class="docutils literal notranslate"><span class="pre">setArrayDtype()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.setArrayAsScalars"><code class="docutils literal notranslate"><span class="pre">setArrayAsScalars()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.setArrayAsVectors"><code class="docutils literal notranslate"><span class="pre">setArrayAsVectors()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.ensureScalarsSet"><code class="docutils literal notranslate"><span class="pre">ensureScalarsSet()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.delArray"><code class="docutils literal notranslate"><span class="pre">delArray()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.delArraysExcept"><code class="docutils literal notranslate"><span class="pre">delArraysExcept()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.addFieldData"><code class="docutils literal notranslate"><span class="pre">addFieldData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getFieldData"><code class="docutils literal notranslate"><span class="pre">getFieldData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getFieldDataDict"><code class="docutils literal notranslate"><span class="pre">getFieldDataDict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getFieldDataNames"><code class="docutils literal notranslate"><span class="pre">getFieldDataNames()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.duplicateFieldData"><code class="docutils literal notranslate"><span class="pre">duplicateFieldData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.deleteFieldData"><code class="docutils literal notranslate"><span class="pre">deleteFieldData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getVtkPointsAsNumpy"><code class="docutils literal notranslate"><span class="pre">getVtkPointsAsNumpy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getPtsAsNumpy"><code class="docutils literal notranslate"><span class="pre">getPtsAsNumpy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getCellCenters"><code class="docutils literal notranslate"><span class="pre">getCellCenters()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildImplicitSphere"><code class="docutils literal notranslate"><span class="pre">buildImplicitSphere()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildSphereSource"><code class="docutils literal notranslate"><span class="pre">buildSphereSource()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildCylinderSource"><code class="docutils literal notranslate"><span class="pre">buildCylinderSource()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildImplicitBox"><code class="docutils literal notranslate"><span class="pre">buildImplicitBox()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildCubeSource"><code class="docutils literal notranslate"><span class="pre">buildCubeSource()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPolyLineBetweenTwoPoints"><code class="docutils literal notranslate"><span class="pre">buildPolyLineBetweenTwoPoints()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPolyTrianglesAtCp"><code class="docutils literal notranslate"><span class="pre">buildPolyTrianglesAtCp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPlaneCentredOnRoi"><code class="docutils literal notranslate"><span class="pre">buildPlaneCentredOnRoi()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPlaneCentredOnSphere"><code class="docutils literal notranslate"><span class="pre">buildPlaneCentredOnSphere()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPlanePtAndNorm"><code class="docutils literal notranslate"><span class="pre">buildPlanePtAndNorm()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPlaneCentredOnO"><code class="docutils literal notranslate"><span class="pre">buildPlaneCentredOnO()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPlaneSource"><code class="docutils literal notranslate"><span class="pre">buildPlaneSource()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPolyLineFromXYZ_spline"><code class="docutils literal notranslate"><span class="pre">buildPolyLineFromXYZ_spline()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPolyLineFromXYZ"><code class="docutils literal notranslate"><span class="pre">buildPolyLineFromXYZ()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPolydataFromXYZ"><code class="docutils literal notranslate"><span class="pre">buildPolydataFromXYZ()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.clippedByCircle"><code class="docutils literal notranslate"><span class="pre">clippedByCircle()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.sliceByPlane"><code class="docutils literal notranslate"><span class="pre">sliceByPlane()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getDataCutByPlane"><code class="docutils literal notranslate"><span class="pre">getDataCutByPlane()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getPolyDataClippedByROI"><code class="docutils literal notranslate"><span class="pre">getPolyDataClippedByROI()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getPolyDataClippedByBox"><code class="docutils literal notranslate"><span class="pre">getPolyDataClippedByBox()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getPolyDataClippedBySphere"><code class="docutils literal notranslate"><span class="pre">getPolyDataClippedBySphere()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.clippedByPolyData"><code class="docutils literal notranslate"><span class="pre">clippedByPolyData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.doesLinePierceTri"><code class="docutils literal notranslate"><span class="pre">doesLinePierceTri()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.doesLinePiercePolygon"><code class="docutils literal notranslate"><span class="pre">doesLinePiercePolygon()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.clippedByPlane"><code class="docutils literal notranslate"><span class="pre">clippedByPlane()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.clipDataByPlane"><code class="docutils literal notranslate"><span class="pre">clipDataByPlane()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.clippedByPlaneClosedSurface"><code class="docutils literal notranslate"><span class="pre">clippedByPlaneClosedSurface()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.clippedBySphere"><code class="docutils literal notranslate"><span class="pre">clippedBySphere()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.clippedByScalar"><code class="docutils literal notranslate"><span class="pre">clippedByScalar()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.clipVolumeToEightPolydataBoxes"><code class="docutils literal notranslate"><span class="pre">clipVolumeToEightPolydataBoxes()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.roi_line_to_roi_plane"><code class="docutils literal notranslate"><span class="pre">roi_line_to_roi_plane()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.clipPlaneToROI"><code class="docutils literal notranslate"><span class="pre">clipPlaneToROI()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.vtiToVts"><code class="docutils literal notranslate"><span class="pre">vtiToVts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.vtsToVti"><code class="docutils literal notranslate"><span class="pre">vtsToVti()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getVtsOrigin"><code class="docutils literal notranslate"><span class="pre">getVtsOrigin()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getVtsResolution"><code class="docutils literal notranslate"><span class="pre">getVtsResolution()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getResolution_VTI"><code class="docutils literal notranslate"><span class="pre">getResolution_VTI()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getDimsResOriginFromOutline"><code class="docutils literal notranslate"><span class="pre">getDimsResOriginFromOutline()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildRawImageDataFromPolyData"><code class="docutils literal notranslate"><span class="pre">buildRawImageDataFromPolyData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildRawImageDataFromOutline"><code class="docutils literal notranslate"><span class="pre">buildRawImageDataFromOutline()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildRawImageDataFromOutline_dims"><code class="docutils literal notranslate"><span class="pre">buildRawImageDataFromOutline_dims()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.duplicateImageData"><code class="docutils literal notranslate"><span class="pre">duplicateImageData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildRawImageData"><code class="docutils literal notranslate"><span class="pre">buildRawImageData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.surf2ImageBW"><code class="docutils literal notranslate"><span class="pre">surf2ImageBW()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getVarValueAtI_ImageData"><code class="docutils literal notranslate"><span class="pre">getVarValueAtI_ImageData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getImageX"><code class="docutils literal notranslate"><span class="pre">getImageX()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.imageX_ToStructuredCoords"><code class="docutils literal notranslate"><span class="pre">imageX_ToStructuredCoords()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.imageIndex_ToStructuredCoords"><code class="docutils literal notranslate"><span class="pre">imageIndex_ToStructuredCoords()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getNeighbours26_fromImageIndex"><code class="docutils literal notranslate"><span class="pre">getNeighbours26_fromImageIndex()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.imageStrucCoords_toIndex"><code class="docutils literal notranslate"><span class="pre">imageStrucCoords_toIndex()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.imageStrucCoords_toX"><code class="docutils literal notranslate"><span class="pre">imageStrucCoords_toX()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterFlipImageData"><code class="docutils literal notranslate"><span class="pre">filterFlipImageData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getPolyDataMeanFromCenter"><code class="docutils literal notranslate"><span class="pre">getPolyDataMeanFromCenter()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.copyPolyData"><code class="docutils literal notranslate"><span class="pre">copyPolyData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.copyData"><code class="docutils literal notranslate"><span class="pre">copyData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.contourFilter"><code class="docutils literal notranslate"><span class="pre">contourFilter()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.cleanData"><code class="docutils literal notranslate"><span class="pre">cleanData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.reduceNumberOfPoints"><code class="docutils literal notranslate"><span class="pre">reduceNumberOfPoints()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterBoolean"><code class="docutils literal notranslate"><span class="pre">filterBoolean()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.tubeFilter"><code class="docutils literal notranslate"><span class="pre">tubeFilter()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterVtpSpline"><code class="docutils literal notranslate"><span class="pre">filterVtpSpline()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterTransformPolyData"><code class="docutils literal notranslate"><span class="pre">filterTransformPolyData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.translatePoly_AxisA_To_AxisB"><code class="docutils literal notranslate"><span class="pre">translatePoly_AxisA_To_AxisB()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.transformPolydataA_to_B_ICP"><code class="docutils literal notranslate"><span class="pre">transformPolydataA_to_B_ICP()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.iterativeClosestPointsTransform"><code class="docutils literal notranslate"><span class="pre">iterativeClosestPointsTransform()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterWarpPolydataByVectors"><code class="docutils literal notranslate"><span class="pre">filterWarpPolydataByVectors()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.transformImageData"><code class="docutils literal notranslate"><span class="pre">transformImageData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.pointToCellData"><code class="docutils literal notranslate"><span class="pre">pointToCellData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.cellToPointData"><code class="docutils literal notranslate"><span class="pre">cellToPointData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getOutline"><code class="docutils literal notranslate"><span class="pre">getOutline()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getMaximumBounds"><code class="docutils literal notranslate"><span class="pre">getMaximumBounds()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.appendPolyData"><code class="docutils literal notranslate"><span class="pre">appendPolyData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.appendPolyDataList"><code class="docutils literal notranslate"><span class="pre">appendPolyDataList()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.appendImageList"><code class="docutils literal notranslate"><span class="pre">appendImageList()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.appendUnstructured"><code class="docutils literal notranslate"><span class="pre">appendUnstructured()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.mergeTwoImageData"><code class="docutils literal notranslate"><span class="pre">mergeTwoImageData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.multiblockToList"><code class="docutils literal notranslate"><span class="pre">multiblockToList()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.idListToVtkIDs"><code class="docutils literal notranslate"><span class="pre">idListToVtkIDs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.extractCells"><code class="docutils literal notranslate"><span class="pre">extractCells()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.extractSelection"><code class="docutils literal notranslate"><span class="pre">extractSelection()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.delCellsByEdgeLength"><code class="docutils literal notranslate"><span class="pre">delCellsByEdgeLength()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.delCellsByID"><code class="docutils literal notranslate"><span class="pre">delCellsByID()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getPolylineLength"><code class="docutils literal notranslate"><span class="pre">getPolylineLength()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getLoopSubDivided"><code class="docutils literal notranslate"><span class="pre">getLoopSubDivided()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.decimateTris"><code class="docutils literal notranslate"><span class="pre">decimateTris()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.shrinkWrapData"><code class="docutils literal notranslate"><span class="pre">shrinkWrapData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.poissonRecon"><code class="docutils literal notranslate"><span class="pre">poissonRecon()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.pointCloudRemoveOutliers"><code class="docutils literal notranslate"><span class="pre">pointCloudRemoveOutliers()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.smoothTris"><code class="docutils literal notranslate"><span class="pre">smoothTris()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.smoothTris_SINC"><code class="docutils literal notranslate"><span class="pre">smoothTris_SINC()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterExtractEdges"><code class="docutils literal notranslate"><span class="pre">filterExtractEdges()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.isPolyDataWaterTight"><code class="docutils literal notranslate"><span class="pre">isPolyDataWaterTight()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.isPolyDataPolyLine"><code class="docutils literal notranslate"><span class="pre">isPolyDataPolyLine()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.calculatePolyDataArea"><code class="docutils literal notranslate"><span class="pre">calculatePolyDataArea()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getPolyDataCenterPtNormal"><code class="docutils literal notranslate"><span class="pre">getPolyDataCenterPtNormal()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.addMagnitudeArray"><code class="docutils literal notranslate"><span class="pre">addMagnitudeArray()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.addNormalVelocities"><code class="docutils literal notranslate"><span class="pre">addNormalVelocities()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterDilateErode"><code class="docutils literal notranslate"><span class="pre">filterDilateErode()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterExtractSurface"><code class="docutils literal notranslate"><span class="pre">filterExtractSurface()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterExtractTri"><code class="docutils literal notranslate"><span class="pre">filterExtractTri()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterTriangulate"><code class="docutils literal notranslate"><span class="pre">filterTriangulate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getVolumeSurfaceAreaOfPolyData"><code class="docutils literal notranslate"><span class="pre">getVolumeSurfaceAreaOfPolyData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.mergeSurfsByPointsInsideVti"><code class="docutils literal notranslate"><span class="pre">mergeSurfsByPointsInsideVti()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getTriangleAreaAndNormal"><code class="docutils literal notranslate"><span class="pre">getTriangleAreaAndNormal()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.addNormalsToPolyData"><code class="docutils literal notranslate"><span class="pre">addNormalsToPolyData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getBoundaryEdges"><code class="docutils literal notranslate"><span class="pre">getBoundaryEdges()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getEdges"><code class="docutils literal notranslate"><span class="pre">getEdges()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getConnectedCellIds"><code class="docutils literal notranslate"><span class="pre">getConnectedCellIds()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.extractStructuredSubGrid"><code class="docutils literal notranslate"><span class="pre">extractStructuredSubGrid()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.extractVOI"><code class="docutils literal notranslate"><span class="pre">extractVOI()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.extractVOI_fromFov"><code class="docutils literal notranslate"><span class="pre">extractVOI_fromFov()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterNullOutsideSurface"><code class="docutils literal notranslate"><span class="pre">filterNullOutsideSurface()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterNullInsideSurface"><code class="docutils literal notranslate"><span class="pre">filterNullInsideSurface()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterResampleToDataset"><code class="docutils literal notranslate"><span class="pre">filterResampleToDataset()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterResampleToImage"><code class="docutils literal notranslate"><span class="pre">filterResampleToImage()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getAxesDirectionCosinesForNormal"><code class="docutils literal notranslate"><span class="pre">getAxesDirectionCosinesForNormal()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterResliceImage"><code class="docutils literal notranslate"><span class="pre">filterResliceImage()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterVtiMedian"><code class="docutils literal notranslate"><span class="pre">filterVtiMedian()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterImageGradient"><code class="docutils literal notranslate"><span class="pre">filterImageGradient()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterAnisotropicDiffusion"><code class="docutils literal notranslate"><span class="pre">filterAnisotropicDiffusion()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterSurfaceToImageStencil"><code class="docutils literal notranslate"><span class="pre">filterSurfaceToImageStencil()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterMaskImageBySurface"><code class="docutils literal notranslate"><span class="pre">filterMaskImageBySurface()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterGetPointsInsideSurface"><code class="docutils literal notranslate"><span class="pre">filterGetPointsInsideSurface()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterGetPointIDsInsideSurface"><code class="docutils literal notranslate"><span class="pre">filterGetPointIDsInsideSurface()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterGetPolydataInsideSurface"><code class="docutils literal notranslate"><span class="pre">filterGetPolydataInsideSurface()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterGetEnclosedPts"><code class="docutils literal notranslate"><span class="pre">filterGetEnclosedPts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterGetArrayValuesWithinSurface"><code class="docutils literal notranslate"><span class="pre">filterGetArrayValuesWithinSurface()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getDataWithThreshold"><code class="docutils literal notranslate"><span class="pre">getDataWithThreshold()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.countPointsInVti"><code class="docutils literal notranslate"><span class="pre">countPointsInVti()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getConnectedRegionLargest"><code class="docutils literal notranslate"><span class="pre">getConnectedRegionLargest()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getConnectedRegionContaining"><code class="docutils literal notranslate"><span class="pre">getConnectedRegionContaining()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getConnectedRegionClosestToX"><code class="docutils literal notranslate"><span class="pre">getConnectedRegionClosestToX()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getConnectedRegionClosestToX_UnStruct"><code class="docutils literal notranslate"><span class="pre">getConnectedRegionClosestToX_UnStruct()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getConnectedRegionAll"><code class="docutils literal notranslate"><span class="pre">getConnectedRegionAll()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#ngawari.vtkfilters.getConnectedRegionMinDistToX"><code class="docutils literal notranslate"><span class="pre">getConnectedRegionMinDistToX()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#data-type-checkers">Data Type Checkers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#array-operations">Array Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#geometry-creation">Geometry Creation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#filtering-operations">Filtering Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#clipping-and-cutting">Clipping and Cutting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#image-data-operations">Image Data Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#surface-operations">Surface Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#data-conversion">Data Conversion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../api/vtkfilters.html#utility-functions">Utility Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api/index.html#module-overview">Module Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/index.html#ftk-mathematical-and-utility-functions">ftk - Mathematical and Utility Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/index.html#fio-file-input-output">fIO - File Input/Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/index.html#vtkfilters-vtk-filtering-and-processing">vtkfilters - VTK Filtering and Processing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api/index.html#usage-examples">Usage Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/index.html#basic-import">Basic Import</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/index.html#common-patterns">Common Patterns</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../examples/index.html#basic-geometry-example">Basic Geometry Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/index.html#clipping-example">Clipping Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/index.html#image-data-example">Image Data Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/index.html#mathematical-operations-example">Mathematical Operations Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/index.html#file-i-o-example">File I/O Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing to Ngawari</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#development-setup">Development Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#code-style">Code Style</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#building-documentation">Building Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#pull-request-guidelines">Pull Request Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#issue-reporting">Issue Reporting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing.html#getting-help">Getting Help</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Ngawari</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
      <li class="breadcrumb-item active">ngawari.vtkfilters</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for ngawari.vtkfilters</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">@author Fraser Callaghan</span>
<span class="sd">&quot;&quot;&quot;</span>


<span class="kn">import</span><span class="w"> </span><span class="nn">vtk</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">vtk.util</span><span class="w"> </span><span class="kn">import</span> <span class="n">numpy_support</span> <span class="c1"># type: ignore</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Union</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Tuple</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">ftk</span>


<span class="c1"># ======================================================================================================================</span>
<span class="c1">#           VTK TYPE CHECKERS</span>
<span class="c1"># ======================================================================================================================</span>
<div class="viewcode-block" id="isVTI">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.isVTI">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">isVTI</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">IsA</span><span class="p">(</span><span class="s1">&#39;vtkImageData&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="isVTP">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.isVTP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">isVTP</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">IsA</span><span class="p">(</span><span class="s1">&#39;vtkPolyData&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span></div>



<div class="viewcode-block" id="isVTS">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.isVTS">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">isVTS</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">IsA</span><span class="p">(</span><span class="s1">&#39;vtkStructuredGrid&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span></div>



<span class="c1"># ======================================================================================================================</span>
<span class="c1">#           VTK MATH</span>
<span class="c1"># ======================================================================================================================</span>
<div class="viewcode-block" id="angleBetweenTwoVectors">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.angleBetweenTwoVectors">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">angleBetweenTwoVectors</span><span class="p">(</span><span class="n">vecA</span><span class="p">,</span> <span class="n">vecB</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkMath</span><span class="o">.</span><span class="n">AngleBetweenVectors</span><span class="p">(</span><span class="n">vecA</span><span class="p">,</span> <span class="n">vecB</span><span class="p">)</span></div>



<span class="c1"># ======================================================================================================================</span>
<span class="c1">#           VTK NUMPY SUPPORT HELPERS</span>
<span class="c1"># ======================================================================================================================</span>
<div class="viewcode-block" id="getArrayNames">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getArrayNames">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getArrayNames</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">pointData</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the list of array names from a VTK data object.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>
<span class="sd">        pointData (bool): Whether to get point data arrays.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[str]: The list of array names.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">pointData</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">GetArrayName</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">GetNumberOfArrays</span><span class="p">())]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">GetCellData</span><span class="p">()</span><span class="o">.</span><span class="n">GetArrayName</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetCellData</span><span class="p">()</span><span class="o">.</span><span class="n">GetNumberOfArrays</span><span class="p">())]</span></div>



<div class="viewcode-block" id="getArray">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getArray">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getArray</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">pointData</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkAbstractArray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get an array from a VTK data object.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>
<span class="sd">        arrayName (str): The name of the array to get.</span>
<span class="sd">        pointData (bool): Whether to get point data arrays.</span>

<span class="sd">    Returns:</span>
<span class="sd">        vtk.vtkAbstractArray: The array.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">pointData</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">GetAbstractArray</span><span class="p">(</span><span class="n">arrayName</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">GetCellData</span><span class="p">()</span><span class="o">.</span><span class="n">GetAbstractArray</span><span class="p">(</span><span class="n">arrayName</span><span class="p">)</span></div>



<div class="viewcode-block" id="getScalarsArrayName">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getScalarsArrayName">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getScalarsArrayName</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">pointData</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the name of the scalars array from a VTK data object.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>
<span class="sd">        pointData (bool): Whether to get point data arrays [default: True].</span>
<span class="sd">    Returns:</span>
<span class="sd">        str: The name of the scalars array (None if none found)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">aS</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">GetScalars</span><span class="p">()</span> <span class="k">if</span> <span class="n">pointData</span> <span class="k">else</span> <span class="n">data</span><span class="o">.</span><span class="n">GetCellData</span><span class="p">()</span><span class="o">.</span><span class="n">GetScalars</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">aS</span><span class="o">.</span><span class="n">GetName</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span> <span class="c1"># in case no scalars set</span>
        <span class="k">return</span> <span class="kc">None</span></div>



<div class="viewcode-block" id="getVectorsArrayName">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getVectorsArrayName">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getVectorsArrayName</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">pointData</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="n">aS</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">GetVectors</span><span class="p">()</span> <span class="k">if</span> <span class="n">pointData</span> <span class="k">else</span> <span class="n">data</span><span class="o">.</span><span class="n">GetCellData</span><span class="p">()</span><span class="o">.</span><span class="n">GetVectors</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">aS</span><span class="o">.</span><span class="n">GetName</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span> <span class="c1"># in case no scalars set</span>
        <span class="k">return</span> <span class="kc">None</span></div>



<div class="viewcode-block" id="getArrayId">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getArrayId">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getArrayId</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">pointData</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the index of an array in a VTK data object.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>
<span class="sd">        arrayName (str): The name of the array to get.</span>
<span class="sd">        pointData (bool): Whether to get point data arrays.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Optional[int]: The index of the array.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">pointData</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">GetNumberOfArrays</span><span class="p">()):</span>
            <span class="k">if</span> <span class="n">arrayName</span> <span class="o">==</span> <span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">GetArrayName</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">i</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetCellData</span><span class="p">()</span><span class="o">.</span><span class="n">GetNumberOfArrays</span><span class="p">()):</span>
            <span class="k">if</span> <span class="n">arrayName</span> <span class="o">==</span> <span class="n">data</span><span class="o">.</span><span class="n">GetCellData</span><span class="p">()</span><span class="o">.</span><span class="n">GetArrayName</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">i</span>
    <span class="k">return</span> <span class="kc">None</span></div>



<div class="viewcode-block" id="renameArray">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.renameArray">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">renameArray</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">arrayNameOld</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">arrayNameNew</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">pointData</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Rename an array in a VTK data object.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>
<span class="sd">        arrayNameOld (str): The old name of the array.</span>
<span class="sd">        arrayNameNew (str): The new name of the array.</span>
<span class="sd">        pointData (bool): Whether to rename point (or cell)data arrays [default: True].</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">pointData</span><span class="p">:</span>
        <span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">GetArray</span><span class="p">(</span><span class="n">arrayNameOld</span><span class="p">)</span><span class="o">.</span><span class="n">SetName</span><span class="p">(</span><span class="n">arrayNameNew</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">data</span><span class="o">.</span><span class="n">GetCellData</span><span class="p">()</span><span class="o">.</span><span class="n">GetArray</span><span class="p">(</span><span class="n">arrayNameOld</span><span class="p">)</span><span class="o">.</span><span class="n">SetName</span><span class="p">(</span><span class="n">arrayNameNew</span><span class="p">)</span></div>



<div class="viewcode-block" id="getArrayAsNumpy">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getArrayAsNumpy">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getArrayAsNumpy</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">RETURN_3D</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">pointData</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get an array from a VTK data object as a numpy array.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>
<span class="sd">        arrayName (str): The name of the array.</span>
<span class="sd">        RETURN_3D (bool): Whether to return a 3D array [default: False].</span>
<span class="sd">        pointData (bool): Whether to get point data arrays [default: True].</span>
<span class="sd">    Returns:</span>
<span class="sd">        np.ndarray: The array.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">numpy_support</span><span class="o">.</span><span class="n">vtk_to_numpy</span><span class="p">(</span><span class="n">getArray</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">,</span> <span class="n">pointData</span><span class="o">=</span><span class="n">pointData</span><span class="p">))</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">RETURN_3D</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">ndim</span><span class="p">(</span><span class="n">A</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">__getDimensions</span><span class="p">(</span><span class="n">data</span><span class="p">))</span><span class="o">+</span><span class="p">[</span><span class="n">A</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="s1">&#39;F&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">__getDimensions</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="s1">&#39;F&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">A</span></div>



<div class="viewcode-block" id="getScalarsAsNumpy">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getScalarsAsNumpy">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getScalarsAsNumpy</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">RETURN_3D</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">pointData</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the scalars as a numpy array.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>
<span class="sd">        RETURN_3D (bool): Whether to return a 3D array [default: False].</span>
<span class="sd">        pointData (bool): Whether to get point (or cell) data scalars [default: True].</span>
<span class="sd">    Returns:</span>
<span class="sd">        np.ndarray: The scalars.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">pointData</span><span class="p">:</span>   
        <span class="n">A</span> <span class="o">=</span> <span class="n">numpy_support</span><span class="o">.</span><span class="n">vtk_to_numpy</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">GetScalars</span><span class="p">())</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">A</span> <span class="o">=</span> <span class="n">numpy_support</span><span class="o">.</span><span class="n">vtk_to_numpy</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetCellData</span><span class="p">()</span><span class="o">.</span><span class="n">GetScalars</span><span class="p">())</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">RETURN_3D</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">ndim</span><span class="p">(</span><span class="n">A</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">__getDimensions</span><span class="p">(</span><span class="n">data</span><span class="p">))</span><span class="o">+</span><span class="p">[</span><span class="n">A</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="s1">&#39;F&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">__getDimensions</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="s1">&#39;F&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">A</span></div>



<span class="k">def</span><span class="w"> </span><span class="nf">__getDimensions</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">dims</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">data</span><span class="o">.</span><span class="n">GetDimensions</span><span class="p">(</span><span class="n">dims</span><span class="p">)</span> 
    <span class="k">return</span> <span class="n">dims</span>


<span class="c1"># ======================================================================================================================</span>
<span class="c1">#           SET ARRAYS</span>
<span class="c1"># ======================================================================================================================</span>
<div class="viewcode-block" id="setArrayFromNumpy">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.setArrayFromNumpy">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">setArrayFromNumpy</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">npArray</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">SET_SCALAR</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">SET_VECTOR</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">IS_3D</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">pointData</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add a numpy array to a VTK data object.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>
<span class="sd">        npArray (np.ndarray): The numpy array.</span>
<span class="sd">        arrayName (str): The name of the array.</span>
<span class="sd">        SET_SCALAR (bool): Whether to set the array as scalars.</span>
<span class="sd">        SET_VECTOR (bool): Whether to set the array as vectors.</span>
<span class="sd">        IS_3D (bool): Whether the array is 3D.</span>
<span class="sd">        pointData (bool): Whether to add point data arrays [default: True].</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">addNpArray</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">npArray</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">,</span> <span class="n">SET_SCALAR</span><span class="p">,</span> <span class="n">SET_VECTOR</span><span class="p">,</span> <span class="n">IS_3D</span><span class="p">,</span> <span class="n">pointData</span><span class="o">=</span><span class="n">pointData</span><span class="p">)</span></div>

    
<div class="viewcode-block" id="addNpArray">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.addNpArray">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addNpArray</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">npArray</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">SET_SCALAR</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">SET_VECTOR</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">IS_3D</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">pointData</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add a numpy array to a VTK data object. TO DEPRECIATE - RENAMED AS setArrayFromNumpy</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>
<span class="sd">        npArray (np.ndarray): The numpy array.</span>
<span class="sd">        arrayName (str): The name of the array.</span>
<span class="sd">        SET_SCALAR (bool): Whether to set the array as scalars.</span>
<span class="sd">        SET_VECTOR (bool): Whether to set the array as vectors.</span>
<span class="sd">        IS_3D (bool): Whether the array is 3D.</span>
<span class="sd">        pointData (bool): Whether to add point data arrays [default: True].</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">getArrayId</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">,</span> <span class="n">pointData</span><span class="o">=</span><span class="n">pointData</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">pointData</span><span class="p">:</span>
            <span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">RemoveArray</span><span class="p">(</span><span class="n">arrayName</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data</span><span class="o">.</span><span class="n">GetCellData</span><span class="p">()</span><span class="o">.</span><span class="n">RemoveArray</span><span class="p">(</span><span class="n">arrayName</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">IS_3D</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">ndim</span><span class="p">(</span><span class="n">npArray</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">npArray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">npArray</span><span class="p">,</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">prod</span><span class="p">(</span><span class="n">npArray</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">3</span><span class="p">]),</span> <span class="mi">3</span><span class="p">),</span> <span class="s1">&#39;F&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">npArray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">npArray</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">prod</span><span class="p">(</span><span class="n">__getDimensions</span><span class="p">(</span><span class="n">data</span><span class="p">)),</span> <span class="s1">&#39;F&#39;</span><span class="p">)</span>
    <span class="n">aArray</span> <span class="o">=</span> <span class="n">numpy_support</span><span class="o">.</span><span class="n">numpy_to_vtk</span><span class="p">(</span><span class="n">npArray</span><span class="p">,</span> <span class="n">deep</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">aArray</span><span class="o">.</span><span class="n">SetName</span><span class="p">(</span><span class="n">arrayName</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">SET_SCALAR</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">pointData</span><span class="p">:</span>
            <span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">SetScalars</span><span class="p">(</span><span class="n">aArray</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data</span><span class="o">.</span><span class="n">GetCellData</span><span class="p">()</span><span class="o">.</span><span class="n">SetScalars</span><span class="p">(</span><span class="n">aArray</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">SET_VECTOR</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">pointData</span><span class="p">:</span>
            <span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">SetVectors</span><span class="p">(</span><span class="n">aArray</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data</span><span class="o">.</span><span class="n">GetCellData</span><span class="p">()</span><span class="o">.</span><span class="n">SetVectors</span><span class="p">(</span><span class="n">aArray</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">pointData</span><span class="p">:</span>
            <span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">AddArray</span><span class="p">(</span><span class="n">aArray</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data</span><span class="o">.</span><span class="n">GetCellData</span><span class="p">()</span><span class="o">.</span><span class="n">AddArray</span><span class="p">(</span><span class="n">aArray</span><span class="p">)</span></div>



<div class="viewcode-block" id="setArrayDtype">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.setArrayDtype">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">setArrayDtype</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">SET_SCALAR</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">pointData</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">getArrayAsNumpy</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">,</span> <span class="n">pointData</span><span class="o">=</span><span class="n">pointData</span><span class="p">)</span>
    <span class="n">setArrayFromNumpy</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">A</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">dtype</span><span class="p">),</span> <span class="n">arrayName</span><span class="p">,</span> <span class="n">SET_SCALAR</span><span class="o">=</span><span class="n">SET_SCALAR</span><span class="p">,</span> <span class="n">pointData</span><span class="o">=</span><span class="n">pointData</span><span class="p">)</span></div>



<div class="viewcode-block" id="setArrayAsScalars">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.setArrayAsScalars">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">setArrayAsScalars</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">pointData</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set an array as scalars. Note: array must already be in data and if a scalars array already exists then it will be overwritten.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>
<span class="sd">        arrayName (str): The name of the array (already in data).</span>
<span class="sd">        pointData (bool): Whether to set point data scalars [default: True].</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">pointData</span><span class="p">:</span>
        <span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">SetScalars</span><span class="p">(</span><span class="n">getArray</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">,</span> <span class="n">pointData</span><span class="o">=</span><span class="n">pointData</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">data</span><span class="o">.</span><span class="n">GetCellData</span><span class="p">()</span><span class="o">.</span><span class="n">SetScalars</span><span class="p">(</span><span class="n">getArray</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">,</span> <span class="n">pointData</span><span class="o">=</span><span class="n">pointData</span><span class="p">))</span></div>



<div class="viewcode-block" id="setArrayAsVectors">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.setArrayAsVectors">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">setArrayAsVectors</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">pointData</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set an array as vectors. Note: array must already be in data and if a vectors array already exists then it will be overwritten.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>
<span class="sd">        arrayName (str): The name of the array (already in data).</span>
<span class="sd">        pointData (bool): Whether to set point data vectors [default: True].</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">pointData</span><span class="p">:</span>
        <span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">SetVectors</span><span class="p">(</span><span class="n">getArray</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">,</span> <span class="n">pointData</span><span class="o">=</span><span class="n">pointData</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">data</span><span class="o">.</span><span class="n">GetCellData</span><span class="p">()</span><span class="o">.</span><span class="n">SetVectors</span><span class="p">(</span><span class="n">getArray</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">,</span> <span class="n">pointData</span><span class="o">=</span><span class="n">pointData</span><span class="p">))</span></div>



<div class="viewcode-block" id="ensureScalarsSet">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.ensureScalarsSet">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">ensureScalarsSet</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">possibleName</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">pointData</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Ensure that scalars are set for a VTK data object. </span>
<span class="sd">    Necessary for some VTK filters. </span>
<span class="sd">    If no name given then first in list taken. </span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>
<span class="sd">        possibleName (Optional[str]): The name of the array to set as scalars.</span>
<span class="sd">        pointData (bool): Whether to set point data scalars [default: True].</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The name of the scalars array.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">aS</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">GetScalars</span><span class="p">()</span> <span class="k">if</span> <span class="n">pointData</span> <span class="k">else</span> <span class="n">data</span><span class="o">.</span><span class="n">GetCellData</span><span class="p">()</span><span class="o">.</span><span class="n">GetScalars</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">aS</span><span class="o">.</span><span class="n">GetName</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span> <span class="c1"># in case no scalars set</span>
        <span class="n">names</span> <span class="o">=</span> <span class="n">getArrayNames</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">pointData</span><span class="o">=</span><span class="n">pointData</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">names</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No arrays available to set as scalars&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">possibleName</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">possibleName</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
                <span class="n">setArrayAsScalars</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">possibleName</span><span class="p">,</span> <span class="n">pointData</span><span class="o">=</span><span class="n">pointData</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">possibleName</span>
        <span class="n">setArrayAsScalars</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">names</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pointData</span><span class="o">=</span><span class="n">pointData</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>



<span class="c1"># ======================================================================================================================</span>
<span class="c1">#           DELETE ARRAYS</span>
<span class="c1"># ======================================================================================================================</span>
<div class="viewcode-block" id="delArray">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.delArray">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">delArray</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">pointData</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete an array from a VTK data object.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>
<span class="sd">        arrayName (str): The name of the array to delete.</span>
<span class="sd">        pointData (bool): Whether to delete point data arrays [default: True].</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">pointData</span><span class="p">:</span>
        <span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">RemoveArray</span><span class="p">(</span><span class="n">arrayName</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">data</span><span class="o">.</span><span class="n">GetCellData</span><span class="p">()</span><span class="o">.</span><span class="n">RemoveArray</span><span class="p">(</span><span class="n">arrayName</span><span class="p">)</span></div>



<div class="viewcode-block" id="delArraysExcept">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.delArraysExcept">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">delArraysExcept</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">arrayNamesToKeep_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">pointData</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete all arrays except the specified ones.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>
<span class="sd">        arrayNamesToKeep_list (List[str]): The list of array names to keep.</span>
<span class="sd">        pointData (bool): Whether to delete point data arrays [default: True].</span>
<span class="sd">    Returns:</span>
<span class="sd">        vtk.vtkDataObject: The data object with the specified arrays kept.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">ia</span> <span class="ow">in</span> <span class="n">getArrayNames</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">pointData</span><span class="o">=</span><span class="n">pointData</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">ia</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">arrayNamesToKeep_list</span><span class="p">:</span>
            <span class="n">delArray</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ia</span><span class="p">,</span> <span class="n">pointData</span><span class="o">=</span><span class="n">pointData</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data</span></div>



<span class="c1"># ======================================================================================================================</span>
<span class="c1">#           VTK FIELD DATA</span>
<span class="c1"># ======================================================================================================================</span>
<div class="viewcode-block" id="addFieldData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.addFieldData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addFieldData</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">fieldVal</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">fieldName</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">tagArray</span> <span class="o">=</span> <span class="n">numpy_support</span><span class="o">.</span><span class="n">numpy_to_vtk</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="n">fieldVal</span><span class="p">)]))</span>
    <span class="n">tagArray</span><span class="o">.</span><span class="n">SetName</span><span class="p">(</span><span class="n">fieldName</span><span class="p">)</span>
    <span class="n">data</span><span class="o">.</span><span class="n">GetFieldData</span><span class="p">()</span><span class="o">.</span><span class="n">AddArray</span><span class="p">(</span><span class="n">tagArray</span><span class="p">)</span></div>



<div class="viewcode-block" id="getFieldData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getFieldData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getFieldData</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">fieldName</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">numpy_support</span><span class="o">.</span><span class="n">vtk_to_numpy</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetFieldData</span><span class="p">()</span><span class="o">.</span><span class="n">GetArray</span><span class="p">(</span><span class="n">fieldName</span><span class="p">))</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span></div>



<div class="viewcode-block" id="getFieldDataDict">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getFieldDataDict">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getFieldDataDict</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the field data as a dictionary. Note: will skip strings.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dict[str, np.ndarray]: The field data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dictOut</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">fieldName</span> <span class="ow">in</span> <span class="n">getFieldDataNames</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">dictOut</span><span class="p">[</span><span class="n">fieldName</span><span class="p">]</span> <span class="o">=</span> <span class="n">numpy_support</span><span class="o">.</span><span class="n">vtk_to_numpy</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetFieldData</span><span class="p">()</span><span class="o">.</span><span class="n">GetArray</span><span class="p">(</span><span class="n">fieldName</span><span class="p">))</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span> <span class="c1"># str</span>
            <span class="k">pass</span>
    <span class="k">return</span> <span class="n">dictOut</span></div>



<div class="viewcode-block" id="getFieldDataNames">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getFieldDataNames">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getFieldDataNames</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the field data names from a VTK data object.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[str]: The field data names.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">GetFieldData</span><span class="p">()</span><span class="o">.</span><span class="n">GetArrayName</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetFieldData</span><span class="p">()</span><span class="o">.</span><span class="n">GetNumberOfArrays</span><span class="p">())]</span>
    <span class="k">return</span> <span class="n">names</span></div>



<div class="viewcode-block" id="duplicateFieldData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.duplicateFieldData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">duplicateFieldData</span><span class="p">(</span><span class="n">srcData</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">destData</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Duplicate the field data from one VTK data object to another.</span>

<span class="sd">    Args:</span>
<span class="sd">        srcData (vtk.vtkDataObject): The source VTK data object.</span>
<span class="sd">        destData (vtk.vtkDataObject): The destination VTK data object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">srcData</span><span class="o">.</span><span class="n">GetFieldData</span><span class="p">()</span><span class="o">.</span><span class="n">GetNumberOfArrays</span><span class="p">()):</span>
        <span class="n">fName</span> <span class="o">=</span> <span class="n">srcData</span><span class="o">.</span><span class="n">GetFieldData</span><span class="p">()</span><span class="o">.</span><span class="n">GetArrayName</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">numpy_support</span><span class="o">.</span><span class="n">vtk_to_numpy</span><span class="p">(</span><span class="n">srcData</span><span class="o">.</span><span class="n">GetFieldData</span><span class="p">()</span><span class="o">.</span><span class="n">GetArray</span><span class="p">(</span><span class="n">fName</span><span class="p">))</span>
            <span class="n">tagArray</span> <span class="o">=</span> <span class="n">numpy_support</span><span class="o">.</span><span class="n">numpy_to_vtk</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
            <span class="n">tagArray</span><span class="o">.</span><span class="n">SetName</span><span class="p">(</span><span class="n">fName</span><span class="p">)</span>
            <span class="n">destData</span><span class="o">.</span><span class="n">GetFieldData</span><span class="p">()</span><span class="o">.</span><span class="n">AddArray</span><span class="p">(</span><span class="n">tagArray</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">pass</span></div>



<div class="viewcode-block" id="deleteFieldData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.deleteFieldData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">deleteFieldData</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Remove the field data from a VTK data object.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        vtk.vtkDataObject: The data object with the field data removed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">aNames</span> <span class="o">=</span> <span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">GetFieldData</span><span class="p">()</span><span class="o">.</span><span class="n">GetArrayName</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetFieldData</span><span class="p">()</span><span class="o">.</span><span class="n">GetNumberOfArrays</span><span class="p">())]</span>
    <span class="k">for</span> <span class="n">fName</span> <span class="ow">in</span> <span class="n">aNames</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; rm </span><span class="si">{</span><span class="n">fName</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">data</span><span class="o">.</span><span class="n">GetFieldData</span><span class="p">()</span><span class="o">.</span><span class="n">RemoveArray</span><span class="p">(</span><span class="n">fName</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data</span></div>



<span class="c1"># ======================================================================================================================</span>
<span class="c1">#           VTK POINTS</span>
<span class="c1"># ======================================================================================================================</span>
<div class="viewcode-block" id="getVtkPointsAsNumpy">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getVtkPointsAsNumpy">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getVtkPointsAsNumpy</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the points as a numpy array.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        np.ndarray: The points.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">isVTI</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">data</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="n">pointID</span><span class="p">)</span> <span class="k">for</span> <span class="n">pointID</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetNumberOfPoints</span><span class="p">())])</span>
    <span class="k">return</span> <span class="n">numpy_support</span><span class="o">.</span><span class="n">vtk_to_numpy</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetData</span><span class="p">())</span></div>



<div class="viewcode-block" id="getPtsAsNumpy">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getPtsAsNumpy">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getPtsAsNumpy</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the points as a numpy array.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        np.ndarray: The points.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">getVtkPointsAsNumpy</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>



<div class="viewcode-block" id="getCellCenters">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getCellCenters">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getCellCenters</span><span class="p">(</span><span class="n">structuredData</span><span class="p">):</span>
    <span class="n">cellCentersFilter</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkCellCenters</span><span class="p">()</span>
    <span class="n">cellCentersFilter</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">structuredData</span><span class="p">)</span>
    <span class="n">cellCentersFilter</span><span class="o">.</span><span class="n">VertexCellsOn</span><span class="p">()</span>
    <span class="n">cellCentersFilter</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">cellCentersFilter</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>


<span class="c1"># ======================================================================================================================</span>
<span class="c1">#           VTK SOURCE</span>
<span class="c1"># ======================================================================================================================</span>
<div class="viewcode-block" id="buildImplicitSphere">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildImplicitSphere">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildImplicitSphere</span><span class="p">(</span><span class="n">centerPt</span><span class="p">,</span> <span class="n">radius</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; returns vtkSphere - for implicit functions etc</span>
<span class="sd">        use buildSphereSource if want polydata</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">vtksphere</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkSphere</span><span class="p">()</span>
    <span class="n">vtksphere</span><span class="o">.</span><span class="n">SetCenter</span><span class="p">(</span><span class="n">centerPt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">centerPt</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">centerPt</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">vtksphere</span><span class="o">.</span><span class="n">SetRadius</span><span class="p">(</span><span class="n">radius</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">vtksphere</span></div>


<div class="viewcode-block" id="buildSphereSource">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildSphereSource">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildSphereSource</span><span class="p">(</span><span class="n">centerPt</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">res</span><span class="o">=</span><span class="mi">8</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; returns sphere polydata</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">vtksphere</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkSphereSource</span><span class="p">()</span>
    <span class="n">vtksphere</span><span class="o">.</span><span class="n">SetCenter</span><span class="p">(</span><span class="n">centerPt</span><span class="p">)</span>
    <span class="n">vtksphere</span><span class="o">.</span><span class="n">SetRadius</span><span class="p">(</span><span class="n">radius</span><span class="p">)</span>
    <span class="n">vtksphere</span><span class="o">.</span><span class="n">SetPhiResolution</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
    <span class="n">vtksphere</span><span class="o">.</span><span class="n">SetThetaResolution</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
    <span class="n">vtksphere</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">vtksphere</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>


<div class="viewcode-block" id="buildCylinderSource">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildCylinderSource">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildCylinderSource</span><span class="p">(</span><span class="n">centerPt</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">res</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; returns sphere polydata</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">vtkCyl</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkCylinderSource</span><span class="p">()</span>
    <span class="n">vtkCyl</span><span class="o">.</span><span class="n">SetCenter</span><span class="p">(</span><span class="n">centerPt</span><span class="p">)</span>
    <span class="n">vtkCyl</span><span class="o">.</span><span class="n">SetRadius</span><span class="p">(</span><span class="n">radius</span><span class="p">)</span>
    <span class="n">vtkCyl</span><span class="o">.</span><span class="n">SetHeight</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
    <span class="n">vtkCyl</span><span class="o">.</span><span class="n">SetResolution</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
    <span class="n">vtkCyl</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="n">cyl</span> <span class="o">=</span> <span class="n">vtkCyl</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">norm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">translatePoly_AxisA_To_AxisB</span><span class="p">(</span><span class="n">cyl</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">norm</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cyl</span></div>


<div class="viewcode-block" id="buildImplicitBox">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildImplicitBox">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildImplicitBox</span><span class="p">(</span><span class="n">faceCP</span><span class="p">,</span> <span class="n">norm</span><span class="p">,</span> <span class="n">boxWidth</span><span class="p">,</span> <span class="n">boxThick</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds a box so that the face cp is given and then a thick in the norm direction</span>
<span class="sd">    :param faceCP:</span>
<span class="sd">    :param norm:</span>
<span class="sd">    :param boxWidth:</span>
<span class="sd">    :param boxThick:</span>
<span class="sd">    :return:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">norm</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">normaliseArray</span><span class="p">(</span><span class="n">norm</span><span class="p">)</span>
    <span class="n">vtkBox</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkBox</span><span class="p">()</span>
    <span class="n">bW</span><span class="p">,</span> <span class="n">bT</span> <span class="o">=</span> <span class="n">boxWidth</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">,</span> <span class="n">boxThick</span> <span class="o">/</span> <span class="mf">2.0</span>
    <span class="n">vtkBox</span><span class="o">.</span><span class="n">SetBounds</span><span class="p">(</span><span class="o">-</span><span class="n">bW</span><span class="p">,</span> <span class="n">bW</span><span class="p">,</span> <span class="o">-</span><span class="n">bW</span><span class="p">,</span> <span class="n">bW</span><span class="p">,</span> <span class="o">-</span><span class="n">bT</span><span class="p">,</span> <span class="n">bT</span><span class="p">)</span>
    <span class="n">aLabelTransform</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkTransform</span><span class="p">()</span>
    <span class="n">aLabelTransform</span><span class="o">.</span><span class="n">PostMultiply</span><span class="p">()</span>
    <span class="n">aLabelTransform</span><span class="o">.</span><span class="n">Identity</span><span class="p">()</span>
    <span class="n">rad</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">angleBetween2Vec</span><span class="p">(</span><span class="n">norm</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">rotVec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">norm</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">deg</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">(</span><span class="n">rad</span><span class="p">)</span>
    <span class="n">tt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">faceCP</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">norm</span><span class="p">)</span> <span class="o">*</span> <span class="n">bT</span>
    <span class="n">aLabelTransform</span><span class="o">.</span><span class="n">RotateWXYZ</span><span class="p">(</span><span class="o">-</span><span class="n">deg</span><span class="p">,</span> <span class="n">rotVec</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rotVec</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">rotVec</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">aLabelTransform</span><span class="o">.</span><span class="n">Translate</span><span class="p">(</span><span class="n">tt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">tt</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">tt</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">vtkBox</span><span class="o">.</span><span class="n">SetTransform</span><span class="p">(</span><span class="n">aLabelTransform</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">vtkBox</span></div>


<div class="viewcode-block" id="buildCubeSource">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildCubeSource">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildCubeSource</span><span class="p">(</span><span class="n">faceCP</span><span class="p">,</span> <span class="n">norm</span><span class="p">,</span> <span class="n">boxWidth</span><span class="p">,</span> <span class="n">boxThick</span><span class="p">):</span>
    <span class="n">cube</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkCubeSource</span><span class="p">()</span>
    <span class="n">bW</span><span class="p">,</span> <span class="n">bT</span> <span class="o">=</span> <span class="n">boxWidth</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">,</span> <span class="n">boxThick</span> <span class="o">/</span> <span class="mf">2.0</span>
    <span class="n">cube</span><span class="o">.</span><span class="n">SetBounds</span><span class="p">(</span><span class="o">-</span><span class="n">bW</span><span class="p">,</span> <span class="n">bW</span><span class="p">,</span> <span class="o">-</span><span class="n">bW</span><span class="p">,</span> <span class="n">bW</span><span class="p">,</span> <span class="o">-</span><span class="n">bT</span><span class="p">,</span> <span class="n">bT</span><span class="p">)</span>
    <span class="n">cube</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="n">aLabelTransform</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkTransform</span><span class="p">()</span>
    <span class="n">aLabelTransform</span><span class="o">.</span><span class="n">PostMultiply</span><span class="p">()</span>
    <span class="n">aLabelTransform</span><span class="o">.</span><span class="n">Identity</span><span class="p">()</span>
    <span class="n">rad</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">angleBetween2Vec</span><span class="p">(</span><span class="n">norm</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">rotVec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">norm</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">deg</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">(</span><span class="n">rad</span><span class="p">)</span>
    <span class="n">tt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">faceCP</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">norm</span><span class="p">)</span> <span class="o">*</span> <span class="n">bT</span>
    <span class="n">aLabelTransform</span><span class="o">.</span><span class="n">RotateWXYZ</span><span class="p">(</span><span class="o">-</span><span class="n">deg</span><span class="p">,</span> <span class="n">rotVec</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rotVec</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">rotVec</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">aLabelTransform</span><span class="o">.</span><span class="n">Translate</span><span class="p">(</span><span class="n">tt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">tt</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">tt</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">tpd</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkTransformPolyDataFilter</span><span class="p">()</span>
    <span class="n">tpd</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">cube</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">())</span>
    <span class="n">tpd</span><span class="o">.</span><span class="n">SetTransform</span><span class="p">(</span><span class="n">aLabelTransform</span><span class="p">)</span>
    <span class="n">tpd</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">tpd</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="buildPolyLineBetweenTwoPoints">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPolyLineBetweenTwoPoints">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildPolyLineBetweenTwoPoints</span><span class="p">(</span><span class="n">ptStart</span><span class="p">,</span> <span class="n">ptEnd</span><span class="p">,</span> <span class="n">nPts</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; build a poly line between start and end points, with nPts</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ptStart</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ptStart</span><span class="p">)</span>
    <span class="n">vec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ptEnd</span><span class="p">)</span> <span class="o">-</span> <span class="n">ptStart</span>
    <span class="n">vecM</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span>
    <span class="n">vec_unit</span> <span class="o">=</span> <span class="n">vec</span> <span class="o">/</span> <span class="n">vecM</span>
    <span class="n">dv</span> <span class="o">=</span> <span class="n">vecM</span> <span class="o">/</span> <span class="p">(</span><span class="n">nPts</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">vPts</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPoints</span><span class="p">()</span>
    <span class="n">polyLine</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyLine</span><span class="p">()</span>
    <span class="n">vPts</span><span class="o">.</span><span class="n">InsertPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">ptStart</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ptStart</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">ptStart</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
    <span class="n">polyLine</span><span class="o">.</span><span class="n">GetPointIds</span><span class="p">()</span><span class="o">.</span><span class="n">InsertId</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">nPts</span><span class="p">):</span>
        <span class="n">newP</span> <span class="o">=</span> <span class="n">ptStart</span> <span class="o">+</span> <span class="p">(</span><span class="n">k</span> <span class="o">*</span> <span class="n">dv</span> <span class="o">*</span> <span class="n">vec_unit</span><span class="p">)</span>
        <span class="n">vPts</span><span class="o">.</span><span class="n">InsertPoint</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="p">(</span><span class="n">newP</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">newP</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">newP</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
        <span class="n">polyLine</span><span class="o">.</span><span class="n">GetPointIds</span><span class="p">()</span><span class="o">.</span><span class="n">InsertId</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
    <span class="n">cells</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkCellArray</span><span class="p">()</span>
    <span class="n">cells</span><span class="o">.</span><span class="n">InsertNextCell</span><span class="p">(</span><span class="n">polyLine</span><span class="p">)</span>
    <span class="n">polyData</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyData</span><span class="p">()</span>
    <span class="n">polyData</span><span class="o">.</span><span class="n">SetPoints</span><span class="p">(</span><span class="n">vPts</span><span class="p">)</span>
    <span class="n">polyData</span><span class="o">.</span><span class="n">SetLines</span><span class="p">(</span><span class="n">cells</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">polyData</span></div>



<div class="viewcode-block" id="buildPolyTrianglesAtCp">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPolyTrianglesAtCp">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildPolyTrianglesAtCp</span><span class="p">(</span><span class="n">pts</span><span class="p">,</span> <span class="n">refVec</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">NORMALS_OUT</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cp</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span> <span class="c1"># FIXME - to labels</span>
    <span class="k">if</span> <span class="n">refVec</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">pts</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">isClockwise</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">isClosedPolygonClockwise</span><span class="p">(</span><span class="n">pts</span><span class="p">,</span> <span class="n">refVec</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">NORMALS_OUT</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">isClockwise</span><span class="p">:</span>
                    <span class="n">pts</span> <span class="o">=</span> <span class="n">pts</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">isClockwise</span><span class="p">:</span>
                    <span class="n">pts</span> <span class="o">=</span> <span class="n">pts</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">cp</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">cp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">pts</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">nPts</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">pts</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">points</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPoints</span><span class="p">()</span>
    <span class="n">points</span><span class="o">.</span><span class="n">SetNumberOfPoints</span><span class="p">(</span><span class="n">nPts</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">triCellArray</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkCellArray</span><span class="p">()</span>
    <span class="n">polyData</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyData</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nPts</span><span class="p">):</span>
        <span class="n">tri</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkTriangle</span><span class="p">()</span>
        <span class="n">tri</span><span class="o">.</span><span class="n">GetPointIds</span><span class="p">()</span><span class="o">.</span><span class="n">SetId</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
        <span class="n">id2</span> <span class="o">=</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="p">(</span><span class="n">nPts</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">id2</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">tri</span><span class="o">.</span><span class="n">GetPointIds</span><span class="p">()</span><span class="o">.</span><span class="n">SetId</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">id2</span><span class="p">)</span>
        <span class="n">tri</span><span class="o">.</span><span class="n">GetPointIds</span><span class="p">()</span><span class="o">.</span><span class="n">SetId</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">nPts</span><span class="p">)</span>
        <span class="n">triCellArray</span><span class="o">.</span><span class="n">InsertNextCell</span><span class="p">(</span><span class="n">tri</span><span class="p">)</span>
        <span class="c1"># points.InsertNextPoint(pts[k])</span>
        <span class="n">points</span><span class="o">.</span><span class="n">SetPoint</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">pts</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
    <span class="c1"># points.InsertNextPoint(cp)</span>
    <span class="n">points</span><span class="o">.</span><span class="n">SetPoint</span><span class="p">(</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">cp</span><span class="p">)</span>
    <span class="n">polyData</span><span class="o">.</span><span class="n">SetPoints</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
    <span class="n">polyData</span><span class="o">.</span><span class="n">SetPolys</span><span class="p">(</span><span class="n">triCellArray</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">polyData</span></div>



<span class="k">def</span><span class="w"> </span><span class="nf">_getOptimalPlaneSize_Resolution</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">subDivide</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
    <span class="n">PLANE_SIZE</span> <span class="o">=</span> <span class="n">getMaximumBounds</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">RESOLUTION</span> <span class="o">=</span> <span class="n">PLANE_SIZE</span> <span class="o">/</span> <span class="n">subDivide</span>
    <span class="k">return</span> <span class="n">PLANE_SIZE</span><span class="p">,</span> <span class="n">RESOLUTION</span>


<div class="viewcode-block" id="buildPlaneCentredOnRoi">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPlaneCentredOnRoi">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildPlaneCentredOnRoi</span><span class="p">(</span><span class="n">roiVTK</span><span class="p">,</span> <span class="n">PLANE_SIZE</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">RESOLUTION</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">subDivide</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">PLANE_SIZE</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">PLANE_SIZE</span><span class="p">,</span> <span class="n">RESOLUTION</span> <span class="o">=</span> <span class="n">_getOptimalPlaneSize_Resolution</span><span class="p">(</span><span class="n">roiVTK</span><span class="p">,</span> <span class="n">subDivide</span><span class="p">)</span>
    <span class="n">pts</span> <span class="o">=</span> <span class="n">getVtkPointsAsNumpy</span><span class="p">(</span><span class="n">roiVTK</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">buildPlaneCentredOnO</span><span class="p">(</span><span class="n">roiVTK</span><span class="o">.</span><span class="n">GetCenter</span><span class="p">(),</span> <span class="n">pts</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ftk</span><span class="o">.</span><span class="n">fitPlaneToPoints</span><span class="p">(</span><span class="n">pts</span><span class="p">)[:</span><span class="mi">3</span><span class="p">],</span> <span class="n">PLANE_SIZE</span><span class="p">,</span> <span class="n">RESOLUTION</span><span class="p">)</span></div>



<div class="viewcode-block" id="buildPlaneCentredOnSphere">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPlaneCentredOnSphere">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildPlaneCentredOnSphere</span><span class="p">(</span><span class="n">sphereVTK</span><span class="p">,</span> <span class="n">structVTK</span><span class="p">,</span> <span class="n">vecArrayName</span><span class="o">=</span><span class="s1">&#39;Velocity_m_per_s&#39;</span><span class="p">,</span>
                              <span class="n">PLANE_SIZE</span><span class="o">=</span><span class="mf">0.07</span><span class="p">,</span> <span class="n">RESOLUTION</span><span class="o">=</span><span class="mf">0.001</span><span class="p">):</span>
    <span class="n">structPts</span> <span class="o">=</span> <span class="n">getVtkPointsAsNumpy</span><span class="p">(</span><span class="n">structVTK</span><span class="p">)</span>
    <span class="n">cID</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">getIdOfPointClosestToX</span><span class="p">(</span><span class="n">sphereVTK</span><span class="o">.</span><span class="n">GetCenter</span><span class="p">(),</span> <span class="n">structPts</span><span class="p">)</span>
    <span class="n">norm</span> <span class="o">=</span> <span class="n">getArrayAsNumpy</span><span class="p">(</span><span class="n">structVTK</span><span class="p">,</span> <span class="n">vecArrayName</span><span class="p">)[</span><span class="n">cID</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">buildPlanePtAndNorm</span><span class="p">(</span><span class="n">sphereVTK</span><span class="o">.</span><span class="n">GetCenter</span><span class="p">(),</span> <span class="n">norm</span><span class="p">,</span> <span class="n">PLANE_SIZE</span><span class="p">,</span> <span class="n">RESOLUTION</span><span class="p">)</span></div>



<div class="viewcode-block" id="buildPlanePtAndNorm">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPlanePtAndNorm">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildPlanePtAndNorm</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">norm</span><span class="p">,</span> <span class="n">PLANE_SIZE</span><span class="o">=</span><span class="mf">0.07</span><span class="p">,</span> <span class="n">RESOLUTION</span><span class="o">=</span><span class="mf">0.001</span><span class="p">):</span>
    <span class="n">norm</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">normaliseArray</span><span class="p">(</span><span class="n">norm</span><span class="p">)</span>
    <span class="n">cc</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">buildCircle3D</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">norm</span><span class="p">,</span> <span class="n">PLANE_SIZE</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
    <span class="n">v1</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">normaliseArray</span><span class="p">(</span><span class="n">cc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">X</span><span class="p">)</span>
    <span class="n">v2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">norm</span><span class="p">,</span> <span class="n">v1</span><span class="p">)</span>
    <span class="n">v3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">norm</span><span class="p">,</span> <span class="n">v2</span><span class="p">)</span>
    <span class="n">nDiv</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">PLANE_SIZE</span> <span class="o">/</span> <span class="n">RESOLUTION</span><span class="p">)</span>
    <span class="n">newPlane</span> <span class="o">=</span> <span class="n">buildPlaneSource</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">X</span> <span class="o">+</span> <span class="n">PLANE_SIZE</span> <span class="o">*</span> <span class="n">v2</span><span class="p">,</span> <span class="n">X</span> <span class="o">+</span> <span class="n">PLANE_SIZE</span> <span class="o">*</span> <span class="n">v3</span><span class="p">,</span> <span class="p">[</span><span class="n">nDiv</span><span class="p">,</span> <span class="n">nDiv</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">filterTransformPolyData</span><span class="p">(</span><span class="n">newPlane</span><span class="p">,</span> <span class="n">disp</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">newPlane</span><span class="o">.</span><span class="n">GetCenter</span><span class="p">()))</span></div>



<div class="viewcode-block" id="buildPlaneCentredOnO">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPlaneCentredOnO">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildPlaneCentredOnO</span><span class="p">(</span><span class="n">O</span><span class="p">,</span> <span class="n">pointInplane</span><span class="p">,</span> <span class="n">norm</span><span class="p">,</span> <span class="n">PLANE_SIZE</span><span class="o">=</span><span class="mf">0.07</span><span class="p">,</span> <span class="n">RESOLUTION</span><span class="o">=</span><span class="mf">0.001</span><span class="p">):</span>
    <span class="n">v1</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">normaliseArray</span><span class="p">(</span><span class="n">pointInplane</span> <span class="o">-</span> <span class="n">O</span><span class="p">)</span>
    <span class="n">nDiv</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">PLANE_SIZE</span> <span class="o">/</span> <span class="n">RESOLUTION</span><span class="p">)</span>
    <span class="n">v2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">norm</span><span class="p">)</span>
    <span class="n">newPlane</span> <span class="o">=</span> <span class="n">buildPlaneSource</span><span class="p">(</span><span class="n">O</span><span class="p">,</span> <span class="n">O</span> <span class="o">+</span> <span class="n">PLANE_SIZE</span> <span class="o">*</span> <span class="n">v1</span><span class="p">,</span> <span class="n">O</span> <span class="o">+</span> <span class="n">PLANE_SIZE</span> <span class="o">*</span> <span class="n">v2</span><span class="p">,</span> <span class="p">[</span><span class="n">nDiv</span><span class="p">,</span> <span class="n">nDiv</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">filterTransformPolyData</span><span class="p">(</span><span class="n">newPlane</span><span class="p">,</span> <span class="n">disp</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">O</span><span class="p">)</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">newPlane</span><span class="o">.</span><span class="n">GetCenter</span><span class="p">()))</span></div>



<div class="viewcode-block" id="buildPlaneSource">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPlaneSource">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildPlaneSource</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">pt1</span><span class="p">,</span> <span class="n">pt2</span><span class="p">,</span> <span class="n">nDivXY</span><span class="p">):</span>
    <span class="n">plane</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPlaneSource</span><span class="p">()</span>
    <span class="n">plane</span><span class="o">.</span><span class="n">SetOrigin</span><span class="p">(</span><span class="n">origin</span><span class="p">)</span>
    <span class="n">plane</span><span class="o">.</span><span class="n">SetPoint1</span><span class="p">(</span><span class="n">pt1</span><span class="p">)</span>
    <span class="n">plane</span><span class="o">.</span><span class="n">SetPoint2</span><span class="p">(</span><span class="n">pt2</span><span class="p">)</span>
    <span class="n">plane</span><span class="o">.</span><span class="n">SetResolution</span><span class="p">(</span><span class="n">nDivXY</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nDivXY</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">plane</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">plane</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="buildPolyLineFromXYZ_spline">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPolyLineFromXYZ_spline">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildPolyLineFromXYZ_spline</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span> <span class="n">splineDist</span><span class="p">,</span> <span class="n">LOOP</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">pp</span> <span class="o">=</span> <span class="n">buildPolyLineFromXYZ</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span> <span class="n">LOOP</span><span class="o">=</span><span class="n">LOOP</span><span class="p">)</span>
    <span class="n">pp</span> <span class="o">=</span> <span class="n">filterVtpSpline</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">splineDist</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pp</span></div>



<div class="viewcode-block" id="buildPolyLineFromXYZ">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPolyLineFromXYZ">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildPolyLineFromXYZ</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span> <span class="n">LOOP</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; build a poly line</span>
<span class="sd">        - if LOOP - then close with extra lineseg between last and first points</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">vPts</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPoints</span><span class="p">()</span>
    <span class="n">polyLine</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyLine</span><span class="p">()</span>
    <span class="n">vPts</span><span class="o">.</span><span class="n">InsertPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">xyz</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">xyz</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">xyz</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]))</span>
    <span class="n">polyLine</span><span class="o">.</span><span class="n">GetPointIds</span><span class="p">()</span><span class="o">.</span><span class="n">InsertId</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">xyz</span><span class="p">)):</span>
        <span class="n">vPts</span><span class="o">.</span><span class="n">InsertPoint</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="p">(</span><span class="n">xyz</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">xyz</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">xyz</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="mi">2</span><span class="p">]))</span>
        <span class="n">polyLine</span><span class="o">.</span><span class="n">GetPointIds</span><span class="p">()</span><span class="o">.</span><span class="n">InsertId</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">LOOP</span><span class="p">:</span>
        <span class="n">polyLine</span><span class="o">.</span><span class="n">GetPointIds</span><span class="p">()</span><span class="o">.</span><span class="n">InsertId</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">xyz</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cells</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkCellArray</span><span class="p">()</span>
    <span class="n">cells</span><span class="o">.</span><span class="n">InsertNextCell</span><span class="p">(</span><span class="n">polyLine</span><span class="p">)</span>
    <span class="n">polyData</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyData</span><span class="p">()</span>
    <span class="n">polyData</span><span class="o">.</span><span class="n">SetPoints</span><span class="p">(</span><span class="n">vPts</span><span class="p">)</span>
    <span class="n">polyData</span><span class="o">.</span><span class="n">SetLines</span><span class="p">(</span><span class="n">cells</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">polyData</span></div>



<div class="viewcode-block" id="buildPolydataFromXYZ">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildPolydataFromXYZ">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildPolydataFromXYZ</span><span class="p">(</span><span class="n">xyz</span><span class="p">):</span>
    <span class="n">xyz</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">__forcePts_nx3</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
    <span class="n">myVtkPoints</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPoints</span><span class="p">()</span>
    <span class="n">vertices</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkCellArray</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">xyz</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ptID</span> <span class="o">=</span> <span class="n">myVtkPoints</span><span class="o">.</span><span class="n">InsertNextPoint</span><span class="p">(</span><span class="n">xyz</span><span class="p">[</span><span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">xyz</span><span class="p">[</span><span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">xyz</span><span class="p">[</span><span class="n">k</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">vertices</span><span class="o">.</span><span class="n">InsertNextCell</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">vertices</span><span class="o">.</span><span class="n">InsertCellPoint</span><span class="p">(</span><span class="n">ptID</span><span class="p">)</span>
    <span class="n">polyData</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyData</span><span class="p">()</span>
    <span class="n">polyData</span><span class="o">.</span><span class="n">SetPoints</span><span class="p">(</span><span class="n">myVtkPoints</span><span class="p">)</span>
    <span class="n">polyData</span><span class="o">.</span><span class="n">SetVerts</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">polyData</span></div>



<span class="c1"># ======================================================================================================================</span>
<span class="c1">#           CLIPPING &amp; CUTTING</span>
<span class="c1"># ======================================================================================================================</span>
<div class="viewcode-block" id="clippedByCircle">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.clippedByCircle">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">clippedByCircle</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">centerPt</span><span class="p">,</span> <span class="n">normal</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">COPY</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">data2</span> <span class="o">=</span> <span class="n">getDataCutByPlane</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">normal</span><span class="p">,</span> <span class="n">centerPt</span><span class="p">)</span>
    <span class="n">pOut</span> <span class="o">=</span> <span class="n">getPolyDataClippedBySphere</span><span class="p">(</span><span class="n">data2</span><span class="p">,</span> <span class="n">centerPt</span><span class="p">,</span> <span class="n">radius</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">COPY</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">copyPolyData</span><span class="p">(</span><span class="n">pOut</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pOut</span></div>


<div class="viewcode-block" id="sliceByPlane">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.sliceByPlane">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">sliceByPlane</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">pt</span><span class="p">,</span> <span class="n">norm</span><span class="p">):</span> <span class="c1"># THIS IS DEPRECIATED</span>
    <span class="k">return</span> <span class="n">getDataCutByPlane</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">norm</span><span class="p">,</span> <span class="n">pt</span><span class="p">)</span></div>


<div class="viewcode-block" id="getDataCutByPlane">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getDataCutByPlane">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getDataCutByPlane</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">normal</span><span class="p">,</span> <span class="n">planePt</span><span class="p">):</span>
    <span class="n">vtkplane</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPlane</span><span class="p">()</span>
    <span class="n">vtkplane</span><span class="o">.</span><span class="n">SetOrigin</span><span class="p">(</span><span class="n">planePt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">planePt</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">planePt</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">vtkplane</span><span class="o">.</span><span class="n">SetNormal</span><span class="p">(</span><span class="n">normal</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">normal</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">normal</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">vtkcutplane</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkCutter</span><span class="p">()</span>
    <span class="n">vtkcutplane</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">vtkcutplane</span><span class="o">.</span><span class="n">SetCutFunction</span><span class="p">(</span><span class="n">vtkplane</span><span class="p">)</span>
    <span class="n">vtkcutplane</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">vtkcutplane</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="getPolyDataClippedByROI">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getPolyDataClippedByROI">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getPolyDataClippedByROI</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">roi</span><span class="p">,</span> <span class="n">INSIDE</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">axialDisplacement</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span>
                            <span class="n">closestPt</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">refNorm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">boxWidth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">boxWidthFactor</span><span class="o">=</span><span class="mf">3.0</span><span class="p">):</span> <span class="c1"># FIXME</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; If no closest point given will return largest.</span>
<span class="sd">        refNorm points into volume</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">R</span> <span class="o">=</span> <span class="n">getPolyDataMeanFromCenter</span><span class="p">(</span><span class="n">roi</span><span class="p">)</span>
        <span class="n">X</span> <span class="o">=</span> <span class="n">roi</span><span class="o">.</span><span class="n">GetCenter</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="n">X</span> <span class="o">=</span> <span class="n">roi</span>
        <span class="n">R</span> <span class="o">=</span> <span class="mf">0.025</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">len</span><span class="p">(</span><span class="n">refNorm</span><span class="p">)</span>
        <span class="n">normT</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">fitPlaneToPoints</span><span class="p">(</span><span class="n">getPtsAsNumpy</span><span class="p">(</span><span class="n">roi</span><span class="p">))[:</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">norm</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">setVecAConsitentWithVecB</span><span class="p">(</span><span class="n">normT</span><span class="p">,</span> <span class="n">refNorm</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="n">norm</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">fitPlaneToPoints</span><span class="p">(</span><span class="n">getPtsAsNumpy</span><span class="p">(</span><span class="n">roi</span><span class="p">))[:</span><span class="mi">3</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">boxWidth</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">boxWidth</span> <span class="o">=</span> <span class="n">boxWidthFactor</span> <span class="o">*</span> <span class="n">R</span>
    <span class="k">if</span> <span class="n">closestPt</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">refNorm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">closestPt</span> <span class="o">=</span> <span class="s1">&#39;CP-NORM&#39;</span>
    <span class="k">return</span> <span class="n">getPolyDataClippedByBox</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">norm</span><span class="p">,</span> <span class="n">boxWidth</span><span class="p">,</span> <span class="n">axialDisplacement</span><span class="p">,</span>
                                   <span class="n">INSIDE</span><span class="o">=</span><span class="n">INSIDE</span><span class="p">,</span> <span class="n">closestPt</span><span class="o">=</span><span class="n">closestPt</span><span class="p">)</span></div>



<div class="viewcode-block" id="getPolyDataClippedByBox">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getPolyDataClippedByBox">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getPolyDataClippedByBox</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">cp</span><span class="p">,</span> <span class="n">norm</span><span class="p">,</span> <span class="n">boxWidth</span><span class="p">,</span> <span class="n">boxThick</span><span class="p">,</span> <span class="n">INSIDE</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                            <span class="n">closestPt</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">RETURN_FULL</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Note - norm moves the box opposite so if inside then flip norm</span>
<span class="sd">        If no closest point given will return largest</span>
<span class="sd">        If closestPt == &#39;CP-NORM&#39; then will use cp and norm and boxThick to calc closest pt</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">norm</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">normaliseArray</span><span class="p">(</span><span class="n">norm</span><span class="p">)</span>
    <span class="n">vtkBox</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkBox</span><span class="p">()</span>
    <span class="n">bW</span><span class="p">,</span> <span class="n">bT</span> <span class="o">=</span> <span class="n">boxWidth</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">,</span> <span class="n">boxThick</span> <span class="o">/</span> <span class="mf">2.0</span>
    <span class="n">vtkBox</span><span class="o">.</span><span class="n">SetBounds</span><span class="p">(</span><span class="o">-</span><span class="n">bW</span><span class="p">,</span> <span class="n">bW</span><span class="p">,</span> <span class="o">-</span><span class="n">bW</span><span class="p">,</span> <span class="n">bW</span><span class="p">,</span> <span class="o">-</span><span class="n">bT</span><span class="p">,</span> <span class="n">bT</span><span class="p">)</span>
    <span class="n">aLabelTransform</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkTransform</span><span class="p">()</span>
    <span class="n">aLabelTransform</span><span class="o">.</span><span class="n">Identity</span><span class="p">()</span>
    <span class="n">rad</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">angleBetween2Vec</span><span class="p">(</span><span class="n">norm</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">rotVec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">norm</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">deg</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">(</span><span class="n">rad</span><span class="p">)</span>
    <span class="n">aLabelTransform</span><span class="o">.</span><span class="n">RotateWXYZ</span><span class="p">(</span><span class="n">deg</span><span class="p">,</span> <span class="n">rotVec</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rotVec</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">rotVec</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">tt</span> <span class="o">=</span> <span class="n">cp</span> <span class="o">-</span> <span class="n">norm</span> <span class="o">*</span> <span class="n">bT</span>
    <span class="n">aLabelTransform</span><span class="o">.</span><span class="n">Translate</span><span class="p">(</span><span class="o">-</span><span class="n">tt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="o">-</span><span class="n">tt</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="o">-</span><span class="n">tt</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">vtkBox</span><span class="o">.</span><span class="n">SetTransform</span><span class="p">(</span><span class="n">aLabelTransform</span><span class="p">)</span>
    <span class="n">vtkcutbox</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkClipPolyData</span><span class="p">()</span>
    <span class="n">vtkcutbox</span><span class="o">.</span><span class="n">SetClipFunction</span><span class="p">(</span><span class="n">vtkBox</span><span class="p">)</span>
    <span class="n">vtkcutbox</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">INSIDE</span><span class="p">:</span>
        <span class="n">vtkcutbox</span><span class="o">.</span><span class="n">InsideOutOn</span><span class="p">()</span>
    <span class="n">vtkcutbox</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="n">clipVol</span> <span class="o">=</span> <span class="n">vtkcutbox</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">RETURN_FULL</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">clipVol</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">closestPt</span><span class="p">)</span><span class="o">==</span><span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">closestPt</span> <span class="o">==</span> <span class="s1">&#39;CP-NORM&#39;</span><span class="p">):</span>
        <span class="n">closestPt</span> <span class="o">=</span> <span class="n">cp</span><span class="o">+</span><span class="p">(</span><span class="n">norm</span><span class="o">*</span><span class="mf">3.0</span><span class="o">*</span><span class="n">bT</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">len</span><span class="p">(</span><span class="n">closestPt</span><span class="p">)</span>
        <span class="c1"># return getConnectedRegionClosestToX(clipVol, closestPt)</span>
        <span class="k">return</span> <span class="n">getConnectedRegionMinDistToX</span><span class="p">(</span><span class="n">clipVol</span><span class="p">,</span> <span class="n">closestPt</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">getConnectedRegionLargest</span><span class="p">(</span><span class="n">clipVol</span><span class="p">)</span></div>



<div class="viewcode-block" id="getPolyDataClippedBySphere">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getPolyDataClippedBySphere">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getPolyDataClippedBySphere</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">centerPt</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">CRINKLECLIP</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">vtksphere</span> <span class="o">=</span> <span class="n">buildImplicitSphere</span><span class="p">(</span><span class="n">centerPt</span><span class="p">,</span> <span class="n">radius</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">CRINKLECLIP</span><span class="p">:</span>
        <span class="n">vtkcutsphere</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkExtractGeometry</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">vtkcutsphere</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkClipPolyData</span><span class="p">()</span>
    <span class="n">vtkcutsphere</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">CRINKLECLIP</span><span class="p">:</span>
        <span class="n">vtkcutsphere</span><span class="o">.</span><span class="n">SetImplicitFunction</span><span class="p">(</span><span class="n">vtksphere</span><span class="p">)</span>
        <span class="n">vtkcutsphere</span><span class="o">.</span><span class="n">ExtractInsideOn</span><span class="p">()</span>
        <span class="n">vtkcutsphere</span><span class="o">.</span><span class="n">ExtractBoundaryCellsOn</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">vtkcutsphere</span><span class="o">.</span><span class="n">SetClipFunction</span><span class="p">(</span><span class="n">vtksphere</span><span class="p">)</span>
        <span class="n">vtkcutsphere</span><span class="o">.</span><span class="n">InsideOutOn</span><span class="p">()</span>
    <span class="n">vtkcutsphere</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">vtkcutsphere</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="clippedByPolyData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.clippedByPolyData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">clippedByPolyData</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">polyData</span><span class="p">):</span>
    <span class="n">implicitPolyDataDistance</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkImplicitPolyDataDistance</span><span class="p">()</span>
    <span class="n">implicitPolyDataDistance</span><span class="o">.</span><span class="n">SetInput</span><span class="p">(</span><span class="n">polyData</span><span class="p">)</span>
    <span class="c1">#</span>
    <span class="n">signedDistances</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkFloatArray</span><span class="p">()</span>
    <span class="n">signedDistances</span><span class="o">.</span><span class="n">SetNumberOfComponents</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">signedDistances</span><span class="o">.</span><span class="n">SetName</span><span class="p">(</span><span class="s2">&quot;SignedDistances&quot;</span><span class="p">)</span>
    <span class="c1"># Evaluate the signed distance function at all of the grid points</span>
    <span class="k">for</span> <span class="n">pointId</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetNumberOfPoints</span><span class="p">()):</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="n">pointId</span><span class="p">)</span>
        <span class="n">signedDistance</span> <span class="o">=</span> <span class="n">implicitPolyDataDistance</span><span class="o">.</span><span class="n">EvaluateFunction</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
        <span class="n">signedDistances</span><span class="o">.</span><span class="n">InsertNextValue</span><span class="p">(</span><span class="n">signedDistance</span><span class="p">)</span>
    <span class="c1"># add the SignedDistances to the grid</span>
    <span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">SetScalars</span><span class="p">(</span><span class="n">signedDistances</span><span class="p">)</span>
    <span class="c1"># use vtkClipDataSet to slice the grid with the polydata</span>
    <span class="n">clipper</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkClipDataSet</span><span class="p">()</span>
    <span class="n">clipper</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">clipper</span><span class="o">.</span><span class="n">InsideOutOn</span><span class="p">()</span>
    <span class="n">clipper</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
    <span class="n">clipper</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">clipper</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="doesLinePierceTri">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.doesLinePierceTri">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">doesLinePierceTri</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">triCell</span><span class="p">):</span>
    <span class="c1"># Perform intersection.</span>
    <span class="n">tol</span> <span class="o">=</span> <span class="mf">1e-7</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>  <span class="c1"># Intersection.</span>
    <span class="n">xp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>  <span class="c1"># Parametric coordinates of intersection.</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">mutable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># Line position, 0 &lt;= t &lt;= 1.</span>
    <span class="n">subId</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">mutable</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># subId? No idea what it is, usually not needed.</span>
    <span class="n">hasIntersection</span> <span class="o">=</span> <span class="n">triCell</span><span class="o">.</span><span class="n">IntersectWithLine</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">xp</span><span class="p">,</span> <span class="n">subId</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">hasIntersection</span><span class="p">,</span> <span class="n">x</span></div>



<div class="viewcode-block" id="doesLinePiercePolygon">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.doesLinePiercePolygon">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">doesLinePiercePolygon</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">polygon</span><span class="p">):</span>
    <span class="n">nTris</span> <span class="o">=</span> <span class="n">polygon</span><span class="o">.</span><span class="n">GetNumberOfCells</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">k2</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nTris</span><span class="p">):</span>
        <span class="n">tf</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">doesLinePierceTri</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">polygon</span><span class="o">.</span><span class="n">GetCell</span><span class="p">(</span><span class="n">k2</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">tf</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">k2</span>
    <span class="k">return</span> <span class="kc">None</span></div>



<div class="viewcode-block" id="clippedByPlane">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.clippedByPlane">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">clippedByPlane</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">centrePt</span><span class="p">,</span> <span class="n">planeNormal</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">clipDataByPlane</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">centrePt</span><span class="p">,</span> <span class="n">planeNormal</span><span class="p">)</span></div>



<div class="viewcode-block" id="clipDataByPlane">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.clipDataByPlane">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">clipDataByPlane</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">centrePt</span><span class="p">,</span> <span class="n">planeNormal</span><span class="p">):</span>
    <span class="n">plane</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPlane</span><span class="p">()</span>
    <span class="n">plane</span><span class="o">.</span><span class="n">SetOrigin</span><span class="p">(</span><span class="n">centrePt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">centrePt</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">centrePt</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">plane</span><span class="o">.</span><span class="n">SetNormal</span><span class="p">(</span><span class="n">planeNormal</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">planeNormal</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">planeNormal</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">vtkcutplane</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkClipDataSet</span><span class="p">()</span>
    <span class="n">vtkcutplane</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">vtkcutplane</span><span class="o">.</span><span class="n">SetClipFunction</span><span class="p">(</span><span class="n">plane</span><span class="p">)</span>
    <span class="n">vtkcutplane</span><span class="o">.</span><span class="n">GenerateClipScalarsOn</span><span class="p">()</span>
    <span class="n">vtkcutplane</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">vtkcutplane</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="clippedByPlaneClosedSurface">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.clippedByPlaneClosedSurface">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">clippedByPlaneClosedSurface</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">centrePt</span><span class="p">,</span> <span class="n">planeNormal</span><span class="p">):</span>
    <span class="n">plane</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPlane</span><span class="p">()</span>
    <span class="n">plane</span><span class="o">.</span><span class="n">SetOrigin</span><span class="p">(</span><span class="n">centrePt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">centrePt</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">centrePt</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">plane</span><span class="o">.</span><span class="n">SetNormal</span><span class="p">(</span><span class="n">planeNormal</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">planeNormal</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">planeNormal</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">capPlanes</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPlaneCollection</span><span class="p">()</span>
    <span class="n">capPlanes</span><span class="o">.</span><span class="n">AddItem</span><span class="p">(</span><span class="n">plane</span><span class="p">)</span>
    <span class="n">clip</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkClipClosedSurface</span><span class="p">()</span>
    <span class="n">clip</span><span class="o">.</span><span class="n">SetClippingPlanes</span><span class="p">(</span><span class="n">capPlanes</span><span class="p">)</span>
    <span class="n">clip</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">clip</span><span class="o">.</span><span class="n">GenerateFacesOn</span><span class="p">()</span>
    <span class="n">clip</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">clip</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="clippedBySphere">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.clippedBySphere">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">clippedBySphere</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">centerPt</span><span class="p">,</span> <span class="n">radius</span><span class="p">):</span>
    <span class="n">vtksphere</span> <span class="o">=</span> <span class="n">buildImplicitSphere</span><span class="p">(</span><span class="n">centerPt</span><span class="p">,</span> <span class="n">radius</span><span class="p">)</span>
    <span class="n">vtkcutsphere</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkClipDataSet</span><span class="p">()</span>
    <span class="n">vtkcutsphere</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">vtkcutsphere</span><span class="o">.</span><span class="n">SetClipFunction</span><span class="p">(</span><span class="n">vtksphere</span><span class="p">)</span>
    <span class="n">vtkcutsphere</span><span class="o">.</span><span class="n">InsideOutOn</span><span class="p">()</span>
    <span class="n">vtkcutsphere</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">vtkcutsphere</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="clippedByScalar">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.clippedByScalar">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">clippedByScalar</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">,</span> <span class="n">clipValue</span><span class="p">,</span> <span class="n">INSIDE_OUT</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">vtkClipper</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkClipDataSet</span><span class="p">()</span>
    <span class="n">vtkClipper</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">vtkClipper</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">clipValue</span><span class="p">)</span>
    <span class="n">vtkClipper</span><span class="o">.</span><span class="n">SetInputArrayToProcess</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">INSIDE_OUT</span><span class="p">:</span>
        <span class="n">vtkClipper</span><span class="o">.</span><span class="n">InsideOutOn</span><span class="p">()</span>
    <span class="n">vtkClipper</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">vtkClipper</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="clipVolumeToEightPolydataBoxes">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.clipVolumeToEightPolydataBoxes">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">clipVolumeToEightPolydataBoxes</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">RETURN_ptIDs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Clips same ordering as outline filter</span>
<span class="sd">    6-7</span>
<span class="sd">    4-5</span>
<span class="sd">    | |</span>
<span class="sd">    2-3</span>
<span class="sd">    0-1</span>
<span class="sd">    :param data:</span>
<span class="sd">    :param RETURN_ptIDs: much faster for downstream operations</span>
<span class="sd">    :return: 8 polydata surfs</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">cp</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">GetCenter</span><span class="p">()</span>
    <span class="n">d</span> <span class="o">=</span> <span class="mf">0.00</span>
    <span class="k">if</span> <span class="n">RETURN_ptIDs</span><span class="p">:</span>
        <span class="n">setArrayFromNumpy</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">GetNumberOfPoints</span><span class="p">()),</span> <span class="s1">&#39;pIDs&#39;</span><span class="p">)</span>
    <span class="n">halfPX</span> <span class="o">=</span> <span class="n">clipDataByPlane</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="p">[</span><span class="n">cp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">d</span><span class="p">,</span><span class="n">cp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">halfNX</span> <span class="o">=</span> <span class="n">clipDataByPlane</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="p">[</span><span class="n">cp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">d</span><span class="p">,</span><span class="n">cp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">quartPXPY</span> <span class="o">=</span> <span class="n">clipDataByPlane</span><span class="p">(</span><span class="n">halfPX</span><span class="p">,</span> <span class="p">[</span><span class="n">cp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">d</span><span class="p">,</span><span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">quartPXNY</span> <span class="o">=</span> <span class="n">clipDataByPlane</span><span class="p">(</span><span class="n">halfPX</span><span class="p">,</span> <span class="p">[</span><span class="n">cp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">d</span><span class="p">,</span><span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">quartNXPY</span> <span class="o">=</span> <span class="n">clipDataByPlane</span><span class="p">(</span><span class="n">halfNX</span><span class="p">,</span> <span class="p">[</span><span class="n">cp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">d</span><span class="p">,</span><span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">quartNXNY</span> <span class="o">=</span> <span class="n">clipDataByPlane</span><span class="p">(</span><span class="n">halfNX</span><span class="p">,</span> <span class="p">[</span><span class="n">cp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">d</span><span class="p">,</span><span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
    <span class="n">c0</span> <span class="o">=</span> <span class="n">clipDataByPlane</span><span class="p">(</span><span class="n">quartNXNY</span><span class="p">,</span> <span class="p">[</span><span class="n">cp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="n">d</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c1</span> <span class="o">=</span> <span class="n">clipDataByPlane</span><span class="p">(</span><span class="n">quartPXNY</span><span class="p">,</span> <span class="p">[</span><span class="n">cp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="n">d</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c2</span> <span class="o">=</span> <span class="n">clipDataByPlane</span><span class="p">(</span><span class="n">quartNXPY</span><span class="p">,</span> <span class="p">[</span><span class="n">cp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="n">d</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c3</span> <span class="o">=</span> <span class="n">clipDataByPlane</span><span class="p">(</span><span class="n">quartPXPY</span><span class="p">,</span> <span class="p">[</span><span class="n">cp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="n">d</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c4</span> <span class="o">=</span> <span class="n">clipDataByPlane</span><span class="p">(</span><span class="n">quartNXNY</span><span class="p">,</span> <span class="p">[</span><span class="n">cp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="n">d</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c5</span> <span class="o">=</span> <span class="n">clipDataByPlane</span><span class="p">(</span><span class="n">quartPXNY</span><span class="p">,</span> <span class="p">[</span><span class="n">cp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="n">d</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c6</span> <span class="o">=</span> <span class="n">clipDataByPlane</span><span class="p">(</span><span class="n">quartNXPY</span><span class="p">,</span> <span class="p">[</span><span class="n">cp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="n">d</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">c7</span> <span class="o">=</span> <span class="n">clipDataByPlane</span><span class="p">(</span><span class="n">quartPXPY</span><span class="p">,</span> <span class="p">[</span><span class="n">cp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">cp</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="n">d</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">RETURN_ptIDs</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">getArrayAsNumpy</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;pIDs&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="n">c0</span><span class="p">,</span><span class="n">c1</span><span class="p">,</span><span class="n">c2</span><span class="p">,</span><span class="n">c3</span><span class="p">,</span><span class="n">c4</span><span class="p">,</span><span class="n">c5</span><span class="p">,</span><span class="n">c6</span><span class="p">,</span><span class="n">c7</span><span class="p">]]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">vtpBoxes</span> <span class="o">=</span> <span class="p">[</span><span class="n">filterExtractSurface</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="n">c0</span><span class="p">,</span><span class="n">c1</span><span class="p">,</span><span class="n">c2</span><span class="p">,</span><span class="n">c3</span><span class="p">,</span><span class="n">c4</span><span class="p">,</span><span class="n">c5</span><span class="p">,</span><span class="n">c6</span><span class="p">,</span><span class="n">c7</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">IsA</span><span class="p">(</span><span class="s1">&#39;vtkPolyData&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">vtpBoxes</span>
        <span class="n">vtpBoxes</span> <span class="o">=</span> <span class="p">[</span><span class="n">decimateTris</span><span class="p">(</span><span class="n">filterTriangulate</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="mf">0.9</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">vtpBoxes</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">vtpBoxes</span></div>



<div class="viewcode-block" id="roi_line_to_roi_plane">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.roi_line_to_roi_plane">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">roi_line_to_roi_plane</span><span class="p">(</span><span class="n">roiLine</span><span class="p">,</span> <span class="n">resolution</span><span class="p">):</span>
    <span class="n">R</span> <span class="o">=</span> <span class="n">getPolyDataMeanFromCenter</span><span class="p">(</span><span class="n">roiLine</span><span class="p">)</span>
    <span class="n">plane</span> <span class="o">=</span> <span class="n">buildPlaneCentredOnRoi</span><span class="p">(</span><span class="n">roiLine</span><span class="p">,</span> <span class="n">R</span><span class="o">*</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">resolution</span><span class="p">)</span>
    <span class="n">planeClip</span> <span class="o">=</span> <span class="n">clipPlaneToROI</span><span class="p">(</span><span class="n">plane</span><span class="p">,</span> <span class="n">roiLine</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">planeClip</span></div>



<div class="viewcode-block" id="clipPlaneToROI">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.clipPlaneToROI">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">clipPlaneToROI</span><span class="p">(</span><span class="n">fullPlane</span><span class="p">,</span> <span class="n">ROI</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    :param fullPlane: a plane covering ROI</span>
<span class="sd">    :param ROI: the ROI</span>
<span class="sd">    :return: plane cliped to pixels within the ROI stencil (polydata)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">SCALE</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="n">ROI</span><span class="o">.</span><span class="n">GetNumberOfCells</span><span class="p">()</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s1">&#39;ROI should be single cell polyline&#39;</span><span class="p">)</span>
    <span class="n">maxBounds</span> <span class="o">=</span> <span class="n">getMaximumBounds</span><span class="p">(</span><span class="n">ROI</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">maxBounds</span> <span class="o">&lt;</span> <span class="mf">1.0</span><span class="p">:</span>
        <span class="n">SCALE</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">scalef</span> <span class="o">=</span> <span class="mf">1000.0</span> <span class="o">/</span> <span class="n">maxBounds</span>
        <span class="n">ROI</span> <span class="o">=</span> <span class="n">filterTransformPolyData</span><span class="p">(</span><span class="n">ROI</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="p">[</span><span class="n">scalef</span><span class="p">,</span><span class="n">scalef</span><span class="p">,</span><span class="n">scalef</span><span class="p">])</span>
        <span class="n">ROI</span> <span class="o">=</span> <span class="n">filterVtpSpline</span><span class="p">(</span><span class="n">ROI</span><span class="p">,</span> <span class="n">getMaximumBounds</span><span class="p">(</span><span class="n">ROI</span><span class="p">)</span><span class="o">*</span><span class="mf">0.001</span><span class="p">)</span>
        <span class="n">fullPlane</span> <span class="o">=</span> <span class="n">filterTransformPolyData</span><span class="p">(</span><span class="n">fullPlane</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="p">[</span><span class="n">scalef</span><span class="p">,</span><span class="n">scalef</span><span class="p">,</span><span class="n">scalef</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ROI</span> <span class="o">=</span> <span class="n">filterVtpSpline</span><span class="p">(</span><span class="n">ROI</span><span class="p">,</span> <span class="n">maxBounds</span><span class="o">*</span><span class="mf">0.001</span><span class="p">)</span>
    <span class="n">loop</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkImplicitSelectionLoop</span><span class="p">()</span>
    <span class="n">loop</span><span class="o">.</span><span class="n">SetLoop</span><span class="p">(</span><span class="n">ROI</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">())</span>
    <span class="n">extract</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkExtractGeometry</span><span class="p">()</span>
    <span class="n">extract</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">fullPlane</span><span class="p">)</span>
    <span class="n">extract</span><span class="o">.</span><span class="n">SetImplicitFunction</span><span class="p">(</span><span class="n">loop</span><span class="p">)</span>
    <span class="n">connect</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkConnectivityFilter</span><span class="p">()</span>
    <span class="n">connect</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">extract</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
    <span class="n">connect</span><span class="o">.</span><span class="n">SetExtractionModeToClosestPointRegion</span><span class="p">()</span>
    <span class="n">connect</span><span class="o">.</span><span class="n">SetClosestPoint</span><span class="p">(</span><span class="n">ROI</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
    <span class="n">connect</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="n">clipOut</span> <span class="o">=</span> <span class="n">filterExtractSurface</span><span class="p">(</span><span class="n">connect</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">clipOut</span><span class="o">.</span><span class="n">GetNumberOfPoints</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Error - try with different size plane&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">SCALE</span><span class="p">:</span>
        <span class="n">clipOut</span> <span class="o">=</span> <span class="n">filterTransformPolyData</span><span class="p">(</span><span class="n">clipOut</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="o">/</span><span class="n">scalef</span><span class="p">,</span><span class="mf">1.0</span><span class="o">/</span><span class="n">scalef</span><span class="p">,</span><span class="mf">1.0</span><span class="o">/</span><span class="n">scalef</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">clipOut</span></div>






<span class="c1"># ======================================================================================================================</span>
<span class="c1">#           IMAGE DATA</span>
<span class="c1"># ======================================================================================================================</span>
<div class="viewcode-block" id="vtiToVts">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.vtiToVts">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">vtiToVts</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">sg</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkImageDataToPointSet</span><span class="p">()</span>
    <span class="n">sg</span><span class="o">.</span><span class="n">AddInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">sg</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">sg</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="vtsToVti">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.vtsToVti">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">vtsToVti</span><span class="p">(</span><span class="n">dataVts</span><span class="p">):</span><span class="c1">#, MAKE_ISOTROPIC=False):</span>
    <span class="k">return</span> <span class="n">filterResampleToImage</span><span class="p">(</span><span class="n">dataVts</span><span class="p">)</span></div>



<div class="viewcode-block" id="getVtsOrigin">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getVtsOrigin">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getVtsOrigin</span><span class="p">(</span><span class="n">dataVts</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">dataVts</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span></div>



<div class="viewcode-block" id="getVtsResolution">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getVtsResolution">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getVtsResolution</span><span class="p">(</span><span class="n">dataVts</span><span class="p">):</span>
    <span class="n">o</span><span class="p">,</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">,</span><span class="n">p3</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],[</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">]</span>
    <span class="n">i0</span><span class="p">,</span><span class="n">i1</span><span class="p">,</span><span class="n">j0</span><span class="p">,</span><span class="n">j1</span><span class="p">,</span><span class="n">k0</span><span class="p">,</span><span class="n">k1</span> <span class="o">=</span> <span class="n">dataVts</span><span class="o">.</span><span class="n">GetExtent</span><span class="p">()</span>
    <span class="n">dataVts</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="n">i0</span><span class="p">,</span><span class="n">j0</span><span class="p">,</span><span class="n">k0</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
    <span class="n">dataVts</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="n">i0</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">j0</span><span class="p">,</span><span class="n">k0</span><span class="p">,</span> <span class="n">p1</span><span class="p">)</span>
    <span class="n">dataVts</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="n">i0</span><span class="p">,</span><span class="n">j0</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">k0</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span>
    <span class="n">dataVts</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="n">i0</span><span class="p">,</span><span class="n">j0</span><span class="p">,</span><span class="n">k0</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">p3</span><span class="p">)</span>
    <span class="n">di</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">ftk</span><span class="o">.</span><span class="n">distTwoPoints</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">o</span><span class="p">))</span>
    <span class="n">dj</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">ftk</span><span class="o">.</span><span class="n">distTwoPoints</span><span class="p">(</span><span class="n">p2</span><span class="p">,</span> <span class="n">o</span><span class="p">))</span>
    <span class="n">dk</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">ftk</span><span class="o">.</span><span class="n">distTwoPoints</span><span class="p">(</span><span class="n">p3</span><span class="p">,</span> <span class="n">o</span><span class="p">))</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">di</span><span class="p">,</span> <span class="n">dj</span><span class="p">,</span> <span class="n">dk</span><span class="p">]</span></div>



<div class="viewcode-block" id="getResolution_VTI">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getResolution_VTI">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getResolution_VTI</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">GetSpacing</span><span class="p">()</span></div>



<div class="viewcode-block" id="getDimsResOriginFromOutline">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getDimsResOriginFromOutline">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getDimsResOriginFromOutline</span><span class="p">(</span><span class="n">outline</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="n">pad</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">di</span><span class="p">,</span> <span class="n">dj</span><span class="p">,</span> <span class="n">dk</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">res</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">res</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">di</span><span class="p">,</span> <span class="n">dj</span><span class="p">,</span> <span class="n">dk</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="n">di</span><span class="p">,</span> <span class="n">dj</span><span class="p">,</span> <span class="n">dk</span> <span class="o">=</span> <span class="n">res</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="n">res</span>
    <span class="n">origin</span> <span class="o">=</span> <span class="n">outline</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">DI</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">distTwoPoints</span><span class="p">(</span><span class="n">outline</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">outline</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">DJ</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">distTwoPoints</span><span class="p">(</span><span class="n">outline</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">outline</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
    <span class="n">DK</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">distTwoPoints</span><span class="p">(</span><span class="n">outline</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">outline</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
    <span class="n">nR</span><span class="p">,</span> <span class="n">nC</span><span class="p">,</span> <span class="n">nK</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">DI</span><span class="o">/</span><span class="n">di</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="o">+</span><span class="n">pad</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">DJ</span><span class="o">/</span><span class="n">dj</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="o">+</span><span class="n">pad</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">DK</span><span class="o">/</span><span class="n">dk</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="o">+</span><span class="n">pad</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">nR</span><span class="p">,</span><span class="n">nC</span><span class="p">,</span><span class="n">nK</span><span class="p">],</span> <span class="p">[</span><span class="n">di</span><span class="p">,</span><span class="n">dj</span><span class="p">,</span><span class="n">dk</span><span class="p">],</span> <span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="n">j</span><span class="o">*</span><span class="n">pad</span><span class="o">/</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">origin</span><span class="p">,[</span><span class="n">di</span><span class="p">,</span><span class="n">dj</span><span class="p">,</span><span class="n">dk</span><span class="p">])]</span></div>



<div class="viewcode-block" id="buildRawImageDataFromPolyData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildRawImageDataFromPolyData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildRawImageDataFromPolyData</span><span class="p">(</span><span class="n">polyData</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">buildRawImageDataFromOutline</span><span class="p">(</span><span class="n">getOutline</span><span class="p">(</span><span class="n">polyData</span><span class="p">),</span> <span class="n">res</span><span class="p">,</span> <span class="n">pad</span><span class="p">)</span></div>



<div class="viewcode-block" id="buildRawImageDataFromOutline">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildRawImageDataFromOutline">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildRawImageDataFromOutline</span><span class="p">(</span><span class="n">outline</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">dd</span><span class="p">,</span> <span class="n">rr</span><span class="p">,</span> <span class="n">oo</span> <span class="o">=</span> <span class="n">getDimsResOriginFromOutline</span><span class="p">(</span><span class="n">outline</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="n">pad</span><span class="p">)</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">buildRawImageData</span><span class="p">(</span><span class="n">dd</span><span class="p">,</span> <span class="n">rr</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">img</span></div>



<div class="viewcode-block" id="buildRawImageDataFromOutline_dims">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildRawImageDataFromOutline_dims">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildRawImageDataFromOutline_dims</span><span class="p">(</span><span class="n">outline</span><span class="p">,</span> <span class="n">dims</span><span class="p">):</span>
    <span class="n">origin</span> <span class="o">=</span> <span class="n">outline</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">DI</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">distTwoPoints</span><span class="p">(</span><span class="n">outline</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">outline</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">DJ</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">distTwoPoints</span><span class="p">(</span><span class="n">outline</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">outline</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
    <span class="n">DK</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">distTwoPoints</span><span class="p">(</span><span class="n">outline</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">outline</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
    <span class="n">di</span> <span class="o">=</span> <span class="n">DI</span> <span class="o">/</span> <span class="n">dims</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">dj</span> <span class="o">=</span> <span class="n">DJ</span> <span class="o">/</span> <span class="n">dims</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">dk</span> <span class="o">=</span> <span class="n">DK</span> <span class="o">/</span> <span class="n">dims</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">buildRawImageData</span><span class="p">(</span><span class="n">dims</span><span class="p">,</span> <span class="p">[</span><span class="n">di</span><span class="p">,</span> <span class="n">dj</span><span class="p">,</span> <span class="n">dk</span><span class="p">],</span> <span class="n">origin</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">img</span></div>



<div class="viewcode-block" id="duplicateImageData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.duplicateImageData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">duplicateImageData</span><span class="p">(</span><span class="n">imData</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">buildRawImageData</span><span class="p">(</span><span class="n">__getDimensions</span><span class="p">(</span><span class="n">imData</span><span class="p">),</span>
                             <span class="n">imData</span><span class="o">.</span><span class="n">GetSpacing</span><span class="p">(),</span> 
                             <span class="n">imData</span><span class="o">.</span><span class="n">GetOrigin</span><span class="p">())</span></div>



<div class="viewcode-block" id="buildRawImageData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.buildRawImageData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">buildRawImageData</span><span class="p">(</span><span class="n">dims</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span> <span class="p">,</span><span class="mi">0</span> <span class="p">,</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">newImg</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkImageData</span><span class="p">()</span>
    <span class="n">newImg</span><span class="o">.</span><span class="n">SetSpacing</span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">,</span><span class="n">res</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">,</span><span class="n">res</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">newImg</span><span class="o">.</span><span class="n">SetOrigin</span><span class="p">(</span><span class="n">origin</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">origin</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">origin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">newImg</span><span class="o">.</span><span class="n">SetDimensions</span><span class="p">(</span><span class="n">dims</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">,</span><span class="n">dims</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">,</span><span class="n">dims</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">newImg</span></div>



<div class="viewcode-block" id="surf2ImageBW">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.surf2ImageBW">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">surf2ImageBW</span><span class="p">(</span><span class="n">dataSurf</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="n">nDilate</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">nMed</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="n">imBW</span> <span class="o">=</span> <span class="n">buildRawImageDataFromOutline</span><span class="p">(</span><span class="n">getOutline</span><span class="p">(</span><span class="n">dataSurf</span><span class="p">),</span> <span class="n">res</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">IDs</span> <span class="o">=</span> <span class="n">filterGetEnclosedPts</span><span class="p">(</span><span class="n">imBW</span><span class="p">,</span> <span class="n">dataSurf</span><span class="p">,</span> <span class="s1">&#39;ID&#39;</span><span class="p">)</span>
    <span class="n">inside</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">imBW</span><span class="o">.</span><span class="n">GetNumberOfPoints</span><span class="p">())</span>
    <span class="n">inside</span><span class="p">[</span><span class="n">IDs</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
    <span class="n">setArrayFromNumpy</span><span class="p">(</span><span class="n">imBW</span><span class="p">,</span> <span class="n">inside</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">,</span> <span class="n">SET_SCALAR</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="c1"># dilate</span>
    <span class="k">if</span> <span class="n">nDilate</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nDilate</span><span class="p">):</span>
            <span class="n">imBW</span> <span class="o">=</span> <span class="n">filterDilateErode</span><span class="p">(</span><span class="n">imBW</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">valDilate</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">valErode</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">nMed</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">imBW</span> <span class="o">=</span> <span class="n">filterVtiMedian</span><span class="p">(</span><span class="n">imBW</span><span class="p">,</span> <span class="n">nMed</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">imBW</span></div>



<div class="viewcode-block" id="getVarValueAtI_ImageData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getVarValueAtI_ImageData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getVarValueAtI_ImageData</span><span class="p">(</span><span class="n">imData</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Useful to get the vel value at a location from imdata</span>
<span class="sd">    :param imData:</span>
<span class="sd">    :param X:</span>
<span class="sd">    :param arrayName:</span>
<span class="sd">    :return: tuple</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">iXID</span> <span class="o">=</span> <span class="n">imData</span><span class="o">.</span><span class="n">FindPoint</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">imData</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">GetArray</span><span class="p">(</span><span class="n">arrayName</span><span class="p">)</span><span class="o">.</span><span class="n">GetTuple</span><span class="p">(</span><span class="n">iXID</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">n</span></div>



<div class="viewcode-block" id="getImageX">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getImageX">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getImageX</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">pointID</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get X from image matching pointID. NOTE: opposite: iXID = imData.FindPoint(X)</span>
<span class="sd">    :param data: image data</span>
<span class="sd">    :param pointID: int</span>
<span class="sd">    :return: tuple - the point x,y,z</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="n">pointID</span><span class="p">)</span></div>



<div class="viewcode-block" id="imageX_ToStructuredCoords">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.imageX_ToStructuredCoords">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">imageX_ToStructuredCoords</span><span class="p">(</span><span class="n">imageData</span><span class="p">,</span> <span class="n">xyz_list</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Note - this is no good if extracted a VOI from image already</span>
<span class="sd">    in this :</span>

<span class="sd">        id2 = ii.FindPoint(xyz)</span>
<span class="sd">        ijk = vtkfilters.imageIndex_ToStructuredCoords(ii, [id2])</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># return a list of ijk</span>
    <span class="n">ijk_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">iX</span> <span class="ow">in</span> <span class="n">xyz_list</span><span class="p">:</span>
        <span class="n">ijk</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="n">pcoords</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">imageData</span><span class="o">.</span><span class="n">ComputeStructuredCoordinates</span><span class="p">(</span><span class="n">iX</span><span class="p">,</span> <span class="n">ijk</span><span class="p">,</span> <span class="n">pcoords</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">res</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">ijk_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ijk</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ijk_list</span></div>



<div class="viewcode-block" id="imageIndex_ToStructuredCoords">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.imageIndex_ToStructuredCoords">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">imageIndex_ToStructuredCoords</span><span class="p">(</span><span class="n">imageData</span><span class="p">,</span> <span class="n">index_list</span><span class="p">):</span>
    <span class="n">dd</span> <span class="o">=</span> <span class="n">__getDimensions</span><span class="p">(</span><span class="n">imageData</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">unravel_index</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="n">dd</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;F&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">index_list</span><span class="p">]</span></div>



<div class="viewcode-block" id="getNeighbours26_fromImageIndex">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getNeighbours26_fromImageIndex">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getNeighbours26_fromImageIndex</span><span class="p">(</span><span class="n">imageData</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">RETURN_STRUCTCOORDS</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the 26 neighbours from an image index</span>
<span class="sd">    :param imageData: image data</span>
<span class="sd">    :param index: int</span>
<span class="sd">    :param delta: int</span>
<span class="sd">    :param RETURN_STRUCTCOORDS: bool</span>
<span class="sd">    :return: list of ints</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dims</span> <span class="o">=</span> <span class="n">__getDimensions</span><span class="p">(</span><span class="n">imageData</span><span class="p">)</span>
    <span class="n">strucCoord</span> <span class="o">=</span> <span class="n">imageIndex_ToStructuredCoords</span><span class="p">(</span><span class="n">imageData</span><span class="p">,</span> <span class="p">[</span><span class="n">index</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">newStructCoords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">k0</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="o">-</span><span class="n">delta</span><span class="p">,</span> <span class="mi">1</span><span class="o">+</span><span class="n">delta</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">k1</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="o">-</span><span class="n">delta</span><span class="p">,</span> <span class="mi">1</span><span class="o">+</span><span class="n">delta</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">k2</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="o">-</span><span class="n">delta</span><span class="p">,</span> <span class="mi">1</span><span class="o">+</span><span class="n">delta</span><span class="p">):</span>
                <span class="n">newIjk</span> <span class="o">=</span> <span class="p">(</span><span class="n">strucCoord</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">k0</span><span class="p">,</span> <span class="n">strucCoord</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">k1</span><span class="p">,</span> <span class="n">strucCoord</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">k2</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">newIjk</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">newIjk</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">dims</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="ow">or</span> <span class="p">(</span><span class="n">newIjk</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">dims</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="ow">or</span> <span class="p">(</span><span class="n">newIjk</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">dims</span><span class="p">[</span><span class="mi">2</span><span class="p">]):</span>
                    <span class="k">continue</span>
                <span class="k">if</span> <span class="n">newIjk</span> <span class="o">==</span> <span class="n">strucCoord</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="n">newStructCoords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newIjk</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">RETURN_STRUCTCOORDS</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">newStructCoords</span>
    <span class="k">return</span> <span class="n">imageStrucCoords_toIndex</span><span class="p">(</span><span class="n">imageData</span><span class="p">,</span> <span class="n">newStructCoords</span><span class="p">)</span></div>



<div class="viewcode-block" id="imageStrucCoords_toIndex">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.imageStrucCoords_toIndex">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">imageStrucCoords_toIndex</span><span class="p">(</span><span class="n">imageData</span><span class="p">,</span> <span class="n">strucCoords_list</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert structured coordinates to image indices</span>
<span class="sd">    :param imageData: image data</span>
<span class="sd">    :param strucCoords_list: list of tuples</span>
<span class="sd">    :return: list of ints</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">strucCoords_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">strucCoords_list</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="n">strucCoords_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">strucCoords_list</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">imageData</span><span class="o">.</span><span class="n">ComputePointId</span><span class="p">(</span><span class="n">ijk</span><span class="p">)</span> <span class="k">for</span> <span class="n">ijk</span> <span class="ow">in</span> <span class="n">strucCoords_list</span><span class="p">]</span></div>



<div class="viewcode-block" id="imageStrucCoords_toX">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.imageStrucCoords_toX">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">imageStrucCoords_toX</span><span class="p">(</span><span class="n">imageData</span><span class="p">,</span> <span class="n">strucCoords_list</span><span class="p">):</span>
    <span class="c1"># Be awre - this is not considering any transform</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">getImageX</span><span class="p">(</span><span class="n">imageData</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">imageStrucCoords_toIndex</span><span class="p">(</span><span class="n">imageData</span><span class="p">,</span> <span class="n">strucCoords_list</span><span class="p">)]</span></div>



<div class="viewcode-block" id="filterFlipImageData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterFlipImageData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterFlipImageData</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">,</span> <span class="n">axis</span><span class="p">):</span>
    <span class="n">flipper</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkImageFlip</span><span class="p">()</span>
    <span class="n">flipper</span><span class="o">.</span><span class="n">SetFilteredAxes</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
    <span class="n">flipper</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">)</span>
    <span class="n">flipper</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">flipper</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>

    
<span class="c1"># ======================================================================================================================</span>
<span class="c1">#           POLY DATA</span>
<span class="c1"># ======================================================================================================================</span>
<div class="viewcode-block" id="getPolyDataMeanFromCenter">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getPolyDataMeanFromCenter">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getPolyDataMeanFromCenter</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">ftk</span><span class="o">.</span><span class="n">distPointPoints</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetCenter</span><span class="p">(),</span> <span class="n">getPtsAsNumpy</span><span class="p">(</span><span class="n">data</span><span class="p">)))</span></div>




<span class="c1"># ======================================================================================================================</span>
<span class="c1">#           COPY DATA</span>
<span class="c1"># ======================================================================================================================</span>
<div class="viewcode-block" id="copyPolyData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.copyPolyData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">copyPolyData</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">dataOut</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyData</span><span class="p">()</span>
    <span class="n">dataOut</span><span class="o">.</span><span class="n">DeepCopy</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dataOut</span></div>



<div class="viewcode-block" id="copyData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.copyData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">copyData</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">IsA</span><span class="p">(</span><span class="s1">&#39;vtkImageData&#39;</span><span class="p">):</span>
        <span class="n">dataOut</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkImageData</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">data</span><span class="o">.</span><span class="n">IsA</span><span class="p">(</span><span class="s1">&#39;vtkPolyData&#39;</span><span class="p">):</span>
        <span class="n">dataOut</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyData</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">data</span><span class="o">.</span><span class="n">IsA</span><span class="p">(</span><span class="s1">&#39;vtkUnstructuredGrid&#39;</span><span class="p">):</span>
        <span class="n">dataOut</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkUnstructuredGrid</span><span class="p">()</span>
    <span class="n">dataOut</span><span class="o">.</span><span class="n">DeepCopy</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dataOut</span></div>




<span class="c1"># ======================================================================================================================</span>
<span class="c1">#           VTK FILTERS</span>
<span class="c1"># ======================================================================================================================</span>
<div class="viewcode-block" id="contourFilter">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.contourFilter">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">contourFilter</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">isoValue</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyData</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Find the triangles that lie along the &#39;isoValue&#39; contour.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>
<span class="sd">        isoValue (float): The iso value.</span>

<span class="sd">    Returns:</span>
<span class="sd">        vtk.vtkPolyData: The filtered data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cF</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkContourFilter</span><span class="p">()</span>
    <span class="n">cF</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">cF</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">isoValue</span><span class="p">)</span>
    <span class="n">cF</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">cF</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="cleanData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.cleanData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">cleanData</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">DO_POINT_MERGING</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyData</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Cleans PolyData - merge points, remove pts not in cell, remove cells</span>
<span class="sd">        with no points etc.</span>
<span class="sd">        30.9.14: Set default tol=0.0, should be faster merging as no look up</span>
<span class="sd">                 of every pt. See class docs</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cleaner</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkCleanPolyData</span><span class="p">()</span>
    <span class="n">cleaner</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">cleaner</span><span class="o">.</span><span class="n">SetAbsoluteTolerance</span><span class="p">(</span><span class="n">tolerance</span><span class="p">)</span>
    <span class="n">cleaner</span><span class="o">.</span><span class="n">SetToleranceIsAbsolute</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">DO_POINT_MERGING</span><span class="p">:</span>
        <span class="n">cleaner</span><span class="o">.</span><span class="n">PointMergingOff</span><span class="p">()</span>
    <span class="n">cleaner</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">cleaner</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="reduceNumberOfPoints">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.reduceNumberOfPoints">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">reduceNumberOfPoints</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">targetNumberOfPoints</span><span class="p">):</span>
    <span class="n">totIN</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">GetNumberOfPoints</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">targetNumberOfPoints</span> <span class="o">&gt;=</span> <span class="n">totIN</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">data</span>
    <span class="n">IDS</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">totIN</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">targetNumberOfPoints</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">id_list</span> <span class="o">=</span> <span class="n">idListToVtkIDs</span><span class="p">(</span><span class="n">IDS</span><span class="p">)</span>
        <span class="n">extract</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkExtractPoints</span><span class="p">()</span>
        <span class="n">extract</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">extract</span><span class="o">.</span><span class="n">SetPointIds</span><span class="p">(</span><span class="n">id_list</span><span class="p">)</span>
        <span class="n">extract</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">extract</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="n">pts</span> <span class="o">=</span> <span class="n">getPtsAsNumpy</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">pts_</span> <span class="o">=</span> <span class="n">pts</span><span class="p">[</span><span class="n">IDS</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">buildPolydataFromXYZ</span><span class="p">(</span><span class="n">pts_</span><span class="p">)</span></div>



<div class="viewcode-block" id="filterBoolean">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterBoolean">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterBoolean</span><span class="p">(</span><span class="n">dataA</span><span class="p">,</span> <span class="n">dataB</span><span class="p">,</span> <span class="n">booleanOperationType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Perform a boolean operation on two datasets. Ensure that the data is triangulated.</span>

<span class="sd">    Args:</span>
<span class="sd">        dataA (vtk.vtkDataObject): The first dataset.</span>
<span class="sd">        dataB (vtk.vtkDataObject): The second dataset.</span>
<span class="sd">        booleanOperationType (str): The type of boolean operation to perform. Can be &#39;union&#39;, &#39;intersection&#39;, or &#39;difference&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        vtk.vtkPolyData: The result of the boolean operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">booleanOperation</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkBooleanOperationPolyDataFilter</span><span class="p">()</span>
    <span class="n">booleanOperation</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">dataA</span><span class="p">)</span>
    <span class="n">booleanOperation</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">dataB</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">booleanOperationType</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;un&#39;</span><span class="p">):</span>
        <span class="n">booleanOperation</span><span class="o">.</span><span class="n">SetOperationToUnion</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">booleanOperationType</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;inter&#39;</span><span class="p">):</span>
        <span class="n">booleanOperation</span><span class="o">.</span><span class="n">SetOperationToIntersection</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">booleanOperationType</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;diff&#39;</span><span class="p">):</span>
        <span class="n">booleanOperation</span><span class="o">.</span><span class="n">SetOperationToDifference</span><span class="p">()</span>
    <span class="n">booleanOperation</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">booleanOperation</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="tubeFilter">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.tubeFilter">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">tubeFilter</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">nSides</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">CAPS</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert a polyline to a tube.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (vtk.vtkDataObject): The VTK data object.</span>
<span class="sd">        radius (float): The radius of the tube. If None then will use scalar of polydata</span>
<span class="sd">        nSides (int, optional): The number of sides of the tube. Defaults to 12.</span>
<span class="sd">        CAPS (bool, optional): Whether to cap the ends of the tube. Defaults to True.</span>

<span class="sd">    Returns:</span>
<span class="sd">        vtk.vtkPolyData: The filtered data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tuber</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkTubeFilter</span><span class="p">()</span>
    <span class="n">tuber</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">radius</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">tuber</span><span class="o">.</span><span class="n">SetVaryRadiusToVaryRadiusByAbsoluteScalar</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">tuber</span><span class="o">.</span><span class="n">SetRadius</span><span class="p">(</span><span class="n">radius</span><span class="p">)</span>
    <span class="n">tuber</span><span class="o">.</span><span class="n">SetNumberOfSides</span><span class="p">(</span><span class="n">nSides</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">CAPS</span><span class="p">:</span>
        <span class="n">tuber</span><span class="o">.</span><span class="n">SetCapping</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">tuber</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">tuber</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="filterVtpSpline">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterVtpSpline">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterVtpSpline</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nPoints</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">smoothFactor</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">spacing</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">nPoints</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Either spacing or nPoints must be provided&quot;</span><span class="p">)</span>
    <span class="n">p0</span><span class="p">,</span> <span class="n">pE</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">data</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetNumberOfPoints</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">smoothFactor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">filterVtpSpline</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">nPoints</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetNumberOfPoints</span><span class="p">()</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">smoothFactor</span><span class="p">)))</span>
    <span class="n">sf</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkSplineFilter</span><span class="p">()</span>
    <span class="n">sf</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">nPoints</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">sf</span><span class="o">.</span><span class="n">SetNumberOfSubdivisions</span><span class="p">(</span><span class="n">nPoints</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">spacing</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">distTwoPoints</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span> <span class="n">pE</span><span class="p">)</span> <span class="o">/</span> <span class="n">nPoints</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">sf</span><span class="o">.</span><span class="n">SetSubdivideToLength</span><span class="p">()</span>
        <span class="n">sf</span><span class="o">.</span><span class="n">SetLength</span><span class="p">(</span><span class="n">spacing</span><span class="p">)</span>
    <span class="n">sf</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="n">cl1</span> <span class="o">=</span> <span class="n">sf</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span>
    <span class="n">cl1</span> <span class="o">=</span> <span class="n">cleanData</span><span class="p">(</span><span class="n">cl1</span><span class="p">,</span> <span class="mf">0.05</span> <span class="o">*</span> <span class="n">spacing</span><span class="p">)</span>
    <span class="n">d0</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">distTwoPoints</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span> <span class="n">cl1</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
    <span class="n">d1</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">distTwoPoints</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span> <span class="n">cl1</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="n">cl1</span><span class="o">.</span><span class="n">GetNumberOfPoints</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">d1</span> <span class="o">&lt;</span> <span class="n">d0</span><span class="p">:</span>
        <span class="n">xyz</span> <span class="o">=</span> <span class="n">getPtsAsNumpy</span><span class="p">(</span><span class="n">cl1</span><span class="p">)</span>
        <span class="n">cl1</span> <span class="o">=</span> <span class="n">buildPolyLineFromXYZ</span><span class="p">(</span><span class="n">xyz</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">cl1</span></div>



<div class="viewcode-block" id="filterTransformPolyData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterTransformPolyData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterTransformPolyData</span><span class="p">(</span><span class="n">polyData</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span> <span class="n">disp</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="n">rotate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">matrix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">rotateXYZ</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">transP</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkTransform</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">matrix</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">transP</span><span class="o">.</span><span class="n">SetMatrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="n">transP</span> <span class="o">=</span> <span class="n">matrix</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">transP</span><span class="o">.</span><span class="n">Translate</span><span class="p">(</span><span class="n">disp</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">disp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">disp</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">transP</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">scale</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">scale</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">scale</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="n">transP</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">scale</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="n">scale</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">rotate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">transP</span><span class="o">.</span><span class="n">RotateWXYZ</span><span class="p">(</span><span class="n">rotate</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">rotate</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">rotate</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">rotate</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">rotateXYZ</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">transP</span><span class="o">.</span><span class="n">RotateX</span><span class="p">(</span><span class="n">rotateXYZ</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">transP</span><span class="o">.</span><span class="n">RotateY</span><span class="p">(</span><span class="n">rotateXYZ</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">transP</span><span class="o">.</span><span class="n">RotateZ</span><span class="p">(</span><span class="n">rotateXYZ</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">tpd</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkTransformPolyDataFilter</span><span class="p">()</span>
    <span class="n">tpd</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">polyData</span><span class="p">)</span>
    <span class="n">tpd</span><span class="o">.</span><span class="n">SetTransform</span><span class="p">(</span><span class="n">transP</span><span class="p">)</span>
    <span class="n">tpd</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">tpd</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="translatePoly_AxisA_To_AxisB">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.translatePoly_AxisA_To_AxisB">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">translatePoly_AxisA_To_AxisB</span><span class="p">(</span><span class="n">polyData</span><span class="p">,</span> <span class="n">vecA</span><span class="p">,</span> <span class="n">vecB</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">a1</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">angleBetween2Vec</span><span class="p">(</span><span class="n">vecB</span><span class="p">,</span> <span class="n">vecA</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">polyData</span> <span class="c1"># vecA and vecB are basically aligned</span>
    <span class="n">Rvec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">vecB</span><span class="p">,</span> <span class="n">vecA</span><span class="p">)</span>
    <span class="n">rotate</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">ftk</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">(</span><span class="n">a1</span><span class="p">),</span> <span class="n">Rvec</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Rvec</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Rvec</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span>
    <span class="n">data0</span> <span class="o">=</span> <span class="n">filterTransformPolyData</span><span class="p">(</span><span class="n">polyData</span><span class="p">,</span> <span class="n">disp</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">1.0</span> <span class="o">*</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">polyData</span><span class="o">.</span><span class="n">GetCenter</span><span class="p">()])</span>
    <span class="n">data0R</span> <span class="o">=</span> <span class="n">filterTransformPolyData</span><span class="p">(</span><span class="n">data0</span><span class="p">,</span> <span class="n">rotate</span><span class="o">=</span><span class="n">rotate</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">filterTransformPolyData</span><span class="p">(</span><span class="n">data0R</span><span class="p">,</span> <span class="n">disp</span><span class="o">=</span><span class="n">polyData</span><span class="o">.</span><span class="n">GetCenter</span><span class="p">())</span></div>



<div class="viewcode-block" id="transformPolydataA_to_B_ICP">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.transformPolydataA_to_B_ICP">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">transformPolydataA_to_B_ICP</span><span class="p">(</span><span class="n">sourcePoly</span><span class="p">,</span> <span class="n">target_poly</span><span class="p">,</span> <span class="n">maxMeanDist</span><span class="p">,</span> <span class="n">RIGID</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">AFFINE</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">internalIterations</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">maxLandmarks</span><span class="o">=</span><span class="mi">1000</span><span class="p">):</span>
    <span class="n">tx</span> <span class="o">=</span> <span class="n">iterativeClosestPointsTransform</span><span class="p">(</span><span class="n">sourcePoly</span><span class="p">,</span> <span class="n">target_poly</span><span class="p">,</span> <span class="n">maxMeanDist</span><span class="p">,</span> <span class="n">RIGID</span><span class="o">=</span><span class="n">RIGID</span><span class="p">,</span> 
                                        <span class="n">AFFINE</span><span class="o">=</span><span class="n">AFFINE</span><span class="p">,</span> <span class="n">internalIterations</span><span class="o">=</span><span class="n">internalIterations</span><span class="p">,</span> 
                                        <span class="n">maxLandmarks</span><span class="o">=</span><span class="n">maxLandmarks</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">filterTransformPolyData</span><span class="p">(</span><span class="n">sourcePoly</span><span class="p">,</span> <span class="n">matrix</span><span class="o">=</span><span class="n">tx</span><span class="o">.</span><span class="n">GetMatrix</span><span class="p">())</span></div>



<div class="viewcode-block" id="iterativeClosestPointsTransform">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.iterativeClosestPointsTransform">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">iterativeClosestPointsTransform</span><span class="p">(</span><span class="n">sourcePoly</span><span class="p">,</span> <span class="n">target_poly</span><span class="p">,</span> <span class="n">maxMeanDist</span><span class="p">,</span> <span class="n">RIGID</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">AFFINE</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">internalIterations</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">maxLandmarks</span><span class="o">=</span><span class="mi">1000</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Iterative Closest Points Transform</span>

<span class="sd">    Args:</span>
<span class="sd">        sourcePoly (vtk.vtkPolyData): The source polydata.</span>
<span class="sd">        target_poly (vtk.vtkPolyData): The target polydata.</span>
<span class="sd">        maxMeanDist (float): The maximum mean distance.</span>
<span class="sd">        RIGID (bool, optional): Whether to use rigid transformation. Defaults to False. (default Similarity)</span>
<span class="sd">        AFFINE (bool, optional): Whether to use affine transformation. Defaults to False. (default Similarity)</span>
<span class="sd">        internalIterations (int, optional): The number of internal iterations. Defaults to 50.</span>
<span class="sd">        maxLandmarks (int, optional): The maximum number of landmarks. Defaults to 1000.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">icp</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkIterativeClosestPointTransform</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">RIGID</span><span class="p">:</span>
        <span class="n">icp</span><span class="o">.</span><span class="n">GetLandmarkTransform</span><span class="p">()</span><span class="o">.</span><span class="n">SetModeToRigidBody</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">AFFINE</span><span class="p">:</span>
        <span class="n">icp</span><span class="o">.</span><span class="n">GetLandmarkTransform</span><span class="p">()</span><span class="o">.</span><span class="n">SetModeToAffine</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">icp</span><span class="o">.</span><span class="n">GetLandmarkTransform</span><span class="p">()</span><span class="o">.</span><span class="n">SetModeToSimilarity</span><span class="p">()</span> <span class="c1"># Trans, Rot and Scale only</span>
    <span class="n">icp</span><span class="o">.</span><span class="n">SetSource</span><span class="p">(</span><span class="n">sourcePoly</span><span class="p">)</span>
    <span class="n">icp</span><span class="o">.</span><span class="n">SetTarget</span><span class="p">(</span><span class="n">target_poly</span><span class="p">)</span>
    <span class="c1"># icp.DebugOn()</span>
    <span class="n">icp</span><span class="o">.</span><span class="n">SetMaximumNumberOfIterations</span><span class="p">(</span><span class="n">internalIterations</span><span class="p">)</span>
    <span class="n">icp</span><span class="o">.</span><span class="n">StartByMatchingCentroidsOn</span><span class="p">()</span>
    <span class="n">icp</span><span class="o">.</span><span class="n">SetMaximumMeanDistance</span><span class="p">(</span><span class="n">maxMeanDist</span><span class="p">)</span>
    <span class="n">icp</span><span class="o">.</span><span class="n">SetMeanDistanceModeToAbsoluteValue</span><span class="p">()</span>
    <span class="n">icp</span><span class="o">.</span><span class="n">SetMaximumNumberOfLandmarks</span><span class="p">(</span><span class="n">maxLandmarks</span><span class="p">)</span>
    <span class="n">icp</span><span class="o">.</span><span class="n">Modified</span><span class="p">()</span>
    <span class="n">icp</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">icp</span></div>



<div class="viewcode-block" id="filterWarpPolydataByVectors">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterWarpPolydataByVectors">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterWarpPolydataByVectors</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">vecArrayName</span><span class="p">,</span> <span class="n">scaleFactor</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
    <span class="n">warpF</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkWarpVector</span><span class="p">()</span>
    <span class="n">setArrayAsVectors</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">vecArrayName</span><span class="p">)</span>
    <span class="n">warpF</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">warpF</span><span class="o">.</span><span class="n">SetScaleFactor</span><span class="p">(</span><span class="n">scaleFactor</span><span class="p">)</span>
    <span class="n">warpF</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">warpF</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="transformImageData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.transformImageData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">transformImageData</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">matrix</span><span class="p">,</span> <span class="n">scaleF</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">]):</span>
    <span class="c1"># Returns vts</span>
    <span class="n">transMatrix</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkTransform</span><span class="p">()</span>
    <span class="n">transMatrix</span><span class="o">.</span><span class="n">SetMatrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
    <span class="n">tfilterMatrix</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkTransformFilter</span><span class="p">()</span>
    <span class="n">tfilterMatrix</span><span class="o">.</span><span class="n">SetTransform</span><span class="p">(</span><span class="n">transMatrix</span><span class="p">)</span>
    <span class="n">tfilterMatrix</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">tfilterMatrix</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="c1">##</span>
    <span class="n">transScale</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkTransform</span><span class="p">()</span>
    <span class="n">transScale</span><span class="o">.</span><span class="n">Identity</span><span class="p">()</span>
    <span class="n">transScale</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">scaleF</span><span class="p">)</span>
    <span class="n">tfilterScale</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkTransformFilter</span><span class="p">()</span>
    <span class="n">tfilterScale</span><span class="o">.</span><span class="n">SetTransform</span><span class="p">(</span><span class="n">transScale</span><span class="p">)</span>
    <span class="n">tfilterScale</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">tfilterMatrix</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">())</span>
    <span class="n">tfilterScale</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">tfilterScale</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="pointToCellData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.pointToCellData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">pointToCellData</span><span class="p">(</span><span class="n">data</span><span class="p">):</span> <span class="c1"># pointsToCells</span>
    <span class="n">p2c</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPointDataToCellData</span><span class="p">()</span>
    <span class="n">p2c</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">p2c</span><span class="o">.</span><span class="n">PassPointDataOn</span><span class="p">()</span>
    <span class="n">p2c</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">p2c</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="cellToPointData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.cellToPointData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">cellToPointData</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">cellToPt_f</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkCellDataToPointData</span><span class="p">()</span>
    <span class="n">cellToPt_f</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">cellToPt_f</span><span class="o">.</span><span class="n">PassCellDataOn</span><span class="p">()</span>
    <span class="n">cellToPt_f</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">cellToPt_f</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="getOutline">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getOutline">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getOutline</span><span class="p">(</span><span class="n">dataIn</span><span class="p">):</span>
    <span class="n">of</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkOutlineFilter</span><span class="p">()</span>
    <span class="n">of</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">dataIn</span><span class="p">)</span>
    <span class="n">of</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">of</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="getMaximumBounds">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getMaximumBounds">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getMaximumBounds</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">oo</span> <span class="o">=</span> <span class="n">getOutline</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">dd</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">pts</span> <span class="o">=</span> <span class="n">getPtsAsNumpy</span><span class="p">(</span><span class="n">oo</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k1</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pts</span><span class="p">)):</span>
        <span class="k">for</span> <span class="n">k2</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k1</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">pts</span><span class="p">)):</span>
            <span class="n">dx</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">distTwoPoints</span><span class="p">(</span><span class="n">pts</span><span class="p">[</span><span class="n">k1</span><span class="p">],</span> <span class="n">pts</span><span class="p">[</span><span class="n">k2</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">dx</span> <span class="o">&gt;</span> <span class="n">dd</span><span class="p">:</span>
                <span class="n">dd</span> <span class="o">=</span> <span class="n">dx</span>
    <span class="k">return</span> <span class="n">dd</span></div>



<div class="viewcode-block" id="appendPolyData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.appendPolyData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">appendPolyData</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">):</span>
    <span class="n">appendFilter</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkAppendPolyData</span><span class="p">()</span>
    <span class="n">appendFilter</span><span class="o">.</span><span class="n">AddInputData</span><span class="p">(</span><span class="n">data1</span><span class="p">)</span>
    <span class="c1"># appendFilter.SetInputData(data1)</span>
    <span class="n">appendFilter</span><span class="o">.</span><span class="n">AddInputData</span><span class="p">(</span><span class="n">data2</span><span class="p">)</span>
    <span class="c1"># appendFilter.SetInputData(data2)</span>
    <span class="n">appendFilter</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">appendFilter</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="appendPolyDataList">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.appendPolyDataList">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">appendPolyDataList</span><span class="p">(</span><span class="n">dataList</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dataList</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">dataList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">appendFilter</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkAppendPolyData</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">iData</span> <span class="ow">in</span> <span class="n">dataList</span><span class="p">:</span>
        <span class="n">appendFilter</span><span class="o">.</span><span class="n">AddInputData</span><span class="p">(</span><span class="n">iData</span><span class="p">)</span>
    <span class="n">appendFilter</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">appendFilter</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="appendImageList">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.appendImageList">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">appendImageList</span><span class="p">(</span><span class="n">image_list</span><span class="p">,</span> <span class="n">appendAxis</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Combines images into one .&quot;&quot;&quot;</span>
    <span class="n">append_filter</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkImageAppend</span><span class="p">()</span>
    <span class="n">append_filter</span><span class="o">.</span><span class="n">SetAppendAxis</span><span class="p">(</span><span class="n">appendAxis</span><span class="p">)</span>  
    <span class="k">for</span> <span class="n">iImage</span> <span class="ow">in</span> <span class="n">image_list</span><span class="p">:</span>
        <span class="n">append_filter</span><span class="o">.</span><span class="n">AddInputData</span><span class="p">(</span><span class="n">iImage</span><span class="p">)</span>
    <span class="n">append_filter</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">append_filter</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="appendUnstructured">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.appendUnstructured">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">appendUnstructured</span><span class="p">(</span><span class="n">dataList</span><span class="p">):</span>
    <span class="n">appendFilter</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkAppendFilter</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">iData</span> <span class="ow">in</span> <span class="n">dataList</span><span class="p">:</span>
        <span class="n">appendFilter</span><span class="o">.</span><span class="n">AddInputData</span><span class="p">(</span><span class="n">iData</span><span class="p">)</span>
    <span class="n">appendFilter</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">appendFilter</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="mergeTwoImageData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.mergeTwoImageData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">mergeTwoImageData</span><span class="p">(</span><span class="n">ii1</span><span class="p">,</span> <span class="n">ii2</span><span class="p">,</span> <span class="n">newRes</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">):</span>
    <span class="n">oo12</span> <span class="o">=</span> <span class="n">appendPolyData</span><span class="p">(</span><span class="n">getOutline</span><span class="p">(</span><span class="n">ii1</span><span class="p">),</span> <span class="n">getOutline</span><span class="p">(</span><span class="n">ii2</span><span class="p">))</span>
    <span class="n">oC</span> <span class="o">=</span> <span class="n">getOutline</span><span class="p">(</span><span class="n">oo12</span><span class="p">)</span>
    <span class="n">iiC</span> <span class="o">=</span> <span class="n">buildRawImageDataFromOutline</span><span class="p">(</span><span class="n">oC</span><span class="p">,</span> <span class="n">newRes</span><span class="p">)</span>
    <span class="n">A1</span> <span class="o">=</span> <span class="n">getArrayAsNumpy</span><span class="p">(</span><span class="n">filterResampleToDataset</span><span class="p">(</span><span class="n">ii1</span><span class="p">,</span> <span class="n">iiC</span><span class="p">),</span> <span class="n">arrayName</span><span class="p">)</span>
    <span class="n">A2</span> <span class="o">=</span> <span class="n">getArrayAsNumpy</span><span class="p">(</span><span class="n">filterResampleToDataset</span><span class="p">(</span><span class="n">ii2</span><span class="p">,</span> <span class="n">iiC</span><span class="p">),</span> <span class="n">arrayName</span><span class="p">)</span>
    <span class="n">AA</span> <span class="o">=</span> <span class="p">(</span><span class="n">A1</span> <span class="o">+</span> <span class="n">A2</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span>
    <span class="n">setArrayFromNumpy</span><span class="p">(</span><span class="n">iiC</span><span class="p">,</span> <span class="n">AA</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">,</span> <span class="n">SET_SCALAR</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">iiC</span></div>



<div class="viewcode-block" id="multiblockToList">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.multiblockToList">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">multiblockToList</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">listOut</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">k1</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetNumberOfBlocks</span><span class="p">()):</span>
        <span class="n">pd</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">GetBlock</span><span class="p">(</span><span class="n">k1</span><span class="p">)</span>
        <span class="n">listOut</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">listOut</span></div>



<div class="viewcode-block" id="idListToVtkIDs">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.idListToVtkIDs">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">idListToVtkIDs</span><span class="p">(</span><span class="n">idsList</span><span class="p">):</span>
    <span class="n">ids</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkIdList</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">idsList</span><span class="p">:</span>
        <span class="n">ids</span><span class="o">.</span><span class="n">InsertNextId</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">ids</span></div>



<div class="viewcode-block" id="extractCells">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.extractCells">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">extractCells</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">vtkCellIds</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; returns unstructuredgrid of output cells &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">vtkCellIds</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
        <span class="n">vtkCellIds</span> <span class="o">=</span> <span class="n">idListToVtkIDs</span><span class="p">(</span><span class="n">vtkCellIds</span><span class="p">)</span>
    <span class="n">exCells</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkExtractCells</span><span class="p">()</span>
    <span class="n">exCells</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">exCells</span><span class="o">.</span><span class="n">SetCellList</span><span class="p">(</span><span class="n">vtkCellIds</span><span class="p">)</span>
    <span class="n">exCells</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">exCells</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="extractSelection">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.extractSelection">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">extractSelection</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">vtkSelection</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Data = vtu, vtkSelection made from vtkSelectionNode, vtkSelection</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">extractSelection</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkExtractSelection</span><span class="p">()</span>
    <span class="n">extractSelection</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
    <span class="n">extractSelection</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">vtkSelection</span><span class="p">)</span>
    <span class="n">extractSelection</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">extractSelection</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="delCellsByEdgeLength">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.delCellsByEdgeLength">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">delCellsByEdgeLength</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">edgeLength</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Delete cells with edges greater than edgeLength</span>
<span class="sd">        Returns unstructuredGrid</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">allIds</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetNumberOfCells</span><span class="p">()))</span>
    <span class="k">for</span> <span class="n">k0</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetNumberOfCells</span><span class="p">()):</span>
        <span class="k">for</span> <span class="n">k1</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetCell</span><span class="p">(</span><span class="n">k0</span><span class="p">)</span><span class="o">.</span><span class="n">GetNumberOfEdges</span><span class="p">()):</span>
            <span class="n">p0</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">GetCell</span><span class="p">(</span><span class="n">k0</span><span class="p">)</span><span class="o">.</span><span class="n">GetEdge</span><span class="p">(</span><span class="n">k1</span><span class="p">)</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">p1</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">GetCell</span><span class="p">(</span><span class="n">k0</span><span class="p">)</span><span class="o">.</span><span class="n">GetEdge</span><span class="p">(</span><span class="n">k1</span><span class="p">)</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ftk</span><span class="o">.</span><span class="n">distTwoPoints</span><span class="p">(</span><span class="n">p0</span><span class="p">,</span> <span class="n">p1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">edgeLength</span><span class="p">:</span>
                <span class="n">allIds</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">k0</span><span class="p">)</span>
                <span class="k">break</span>
    <span class="c1">#</span>
    <span class="n">ids</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkIdList</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">allIds</span><span class="p">:</span>
        <span class="n">ids</span><span class="o">.</span><span class="n">InsertNextId</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">extractCells</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ids</span><span class="p">)</span></div>



<div class="viewcode-block" id="delCellsByID">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.delCellsByID">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">delCellsByID</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">IDsToDEL</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Delete cells from list of IDs</span>
<span class="sd">        Returns unstructuredGrid</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">allIds</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetNumberOfCells</span><span class="p">()))</span>
    <span class="k">for</span> <span class="n">delID</span> <span class="ow">in</span> <span class="n">IDsToDEL</span><span class="p">:</span>
        <span class="n">allIds</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">delID</span><span class="p">)</span>
    <span class="c1"># have IDs to keep</span>
    <span class="n">ids</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkIdList</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">allIds</span><span class="p">:</span>
        <span class="n">ids</span><span class="o">.</span><span class="n">InsertNextId</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">extractCells</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ids</span><span class="p">)</span></div>



<div class="viewcode-block" id="getPolylineLength">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getPolylineLength">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getPolylineLength</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">ftk</span><span class="o">.</span><span class="n">cumulativeDistanceAlongLine</span><span class="p">(</span><span class="n">getPtsAsNumpy</span><span class="p">(</span><span class="n">data</span><span class="p">))[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span></div>



<div class="viewcode-block" id="getLoopSubDivided">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getLoopSubDivided">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getLoopSubDivided</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">nLoops</span><span class="p">):</span>
    <span class="n">loopSubDiv</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkLoopSubdivisionFilter</span><span class="p">()</span>
    <span class="n">loopSubDiv</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">loopSubDiv</span><span class="o">.</span><span class="n">SetNumberOfSubdivisions</span><span class="p">(</span><span class="n">nLoops</span><span class="p">)</span>
    <span class="n">loopSubDiv</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">loopSubDiv</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="decimateTris">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.decimateTris">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">decimateTris</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">factor</span><span class="p">):</span>
    <span class="n">dF</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDecimatePro</span><span class="p">()</span>
    <span class="n">dF</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">dF</span><span class="o">.</span><span class="n">SetTargetReduction</span><span class="p">(</span><span class="n">factor</span><span class="p">)</span>
    <span class="n">dF</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">dF</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="shrinkWrapData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.shrinkWrapData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">shrinkWrapData</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">wrappingData</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">DEFAULT_WRAP_RES</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    :param data:</span>
<span class="sd">    :param wrappingData: if None - then just make a sphere larger</span>
<span class="sd">    :return: wrapped data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sw</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkSmoothPolyDataFilter</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">wrappingData</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">GetCenter</span><span class="p">()</span>
        <span class="n">R</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">ftk</span><span class="o">.</span><span class="n">distPointPoints</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">getPtsAsNumpy</span><span class="p">(</span><span class="n">data</span><span class="p">)))</span>
        <span class="n">wrappingData</span> <span class="o">=</span> <span class="n">buildSphereSource</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">R</span><span class="o">*</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">DEFAULT_WRAP_RES</span><span class="p">)</span>
    <span class="n">sw</span><span class="o">.</span><span class="n">SetSourceData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">sw</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">wrappingData</span><span class="p">)</span>
    <span class="n">sw</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">sw</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="poissonRecon">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.poissonRecon">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">poissonRecon</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">9</span><span class="p">):</span>
    <span class="n">surface</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPoissonReconstruction</span><span class="p">()</span>
    <span class="n">surface</span><span class="o">.</span><span class="n">SetDepth</span><span class="p">(</span><span class="n">depth</span><span class="p">)</span>

    <span class="n">sampleSize</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">GetNumberOfPoints</span><span class="p">()</span> <span class="o">*</span> <span class="mf">.00005</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">sampleSize</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">):</span>
        <span class="n">sampleSize</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetPointData</span><span class="p">()</span><span class="o">.</span><span class="n">GetNormals</span><span class="p">()):</span>
        <span class="n">surface</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1">#  &quot;Estimating normals using PCANormalEstimation&quot; </span>
        <span class="n">normals</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPCANormalEstimation</span><span class="p">()</span>
        <span class="n">normals</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">normals</span><span class="o">.</span><span class="n">SetSampleSize</span><span class="p">(</span><span class="n">sampleSize</span><span class="p">)</span>
        <span class="n">normals</span><span class="o">.</span><span class="n">SetNormalOrientationToGraphTraversal</span><span class="p">()</span>
        <span class="n">normals</span><span class="o">.</span><span class="n">FlipNormalsOff</span><span class="p">()</span>
        <span class="n">surface</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">normals</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
    <span class="n">surface</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">surface</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="pointCloudRemoveOutliers">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.pointCloudRemoveOutliers">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">pointCloudRemoveOutliers</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">locator</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkStaticPointLocator</span><span class="p">()</span>
    <span class="n">locator</span><span class="o">.</span><span class="n">SetDataSet</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">locator</span><span class="o">.</span><span class="n">BuildLocator</span><span class="p">()</span>
    <span class="n">removal</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkStatisticalOutlierRemoval</span><span class="p">()</span>
    <span class="n">removal</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">removal</span><span class="o">.</span><span class="n">SetLocator</span><span class="p">(</span><span class="n">locator</span><span class="p">)</span>
    <span class="n">removal</span><span class="o">.</span><span class="n">SetSampleSize</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">removal</span><span class="o">.</span><span class="n">SetStandardDeviationFactor</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
    <span class="n">removal</span><span class="o">.</span><span class="n">GenerateOutliersOn</span><span class="p">()</span>
    <span class="n">removal</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="n">pp</span> <span class="o">=</span> <span class="n">removal</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">buildPolydataFromXYZ</span><span class="p">(</span><span class="n">getPtsAsNumpy</span><span class="p">(</span><span class="n">pp</span><span class="p">))</span></div>


<div class="viewcode-block" id="smoothTris">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.smoothTris">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">smoothTris</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">200</span><span class="p">):</span>
    <span class="n">sF</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkSmoothPolyDataFilter</span><span class="p">()</span>
    <span class="n">sF</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">sF</span><span class="o">.</span><span class="n">SetNumberOfIterations</span><span class="p">(</span><span class="n">iterations</span><span class="p">)</span>
    <span class="n">sF</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">sF</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>


<div class="viewcode-block" id="smoothTris_SINC">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.smoothTris_SINC">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">smoothTris_SINC</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span>
    <span class="n">pass_band</span> <span class="o">=</span> <span class="mf">0.001</span>
    <span class="n">feature_angle</span> <span class="o">=</span> <span class="mf">60.0</span>
    <span class="n">smoother</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkWindowedSincPolyDataFilter</span><span class="p">()</span>
    <span class="n">smoother</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">smoother</span><span class="o">.</span><span class="n">SetNumberOfIterations</span><span class="p">(</span><span class="n">iterations</span><span class="p">)</span>
    <span class="n">smoother</span><span class="o">.</span><span class="n">BoundarySmoothingOff</span><span class="p">()</span>
    <span class="n">smoother</span><span class="o">.</span><span class="n">FeatureEdgeSmoothingOff</span><span class="p">()</span>
    <span class="n">smoother</span><span class="o">.</span><span class="n">SetFeatureAngle</span><span class="p">(</span><span class="n">feature_angle</span><span class="p">)</span>
    <span class="n">smoother</span><span class="o">.</span><span class="n">SetPassBand</span><span class="p">(</span><span class="n">pass_band</span><span class="p">)</span>
    <span class="n">smoother</span><span class="o">.</span><span class="n">NonManifoldSmoothingOn</span><span class="p">()</span>
    <span class="n">smoother</span><span class="o">.</span><span class="n">NormalizeCoordinatesOff</span><span class="p">()</span>
    <span class="n">smoother</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">smoother</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>


<div class="viewcode-block" id="filterExtractEdges">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterExtractEdges">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterExtractEdges</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">ee</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkExtractEdges</span><span class="p">()</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">ee</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">ee</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>


<div class="viewcode-block" id="isPolyDataWaterTight">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.isPolyDataWaterTight">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">isPolyDataWaterTight</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">alg</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkFeatureEdges</span><span class="p">()</span>
    <span class="n">alg</span><span class="o">.</span><span class="n">FeatureEdgesOff</span><span class="p">()</span>
    <span class="n">alg</span><span class="o">.</span><span class="n">BoundaryEdgesOn</span><span class="p">()</span>
    <span class="n">alg</span><span class="o">.</span><span class="n">NonManifoldEdgesOff</span><span class="p">()</span>
    <span class="n">alg</span><span class="o">.</span><span class="n">SetInputDataObject</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">alg</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="n">is_water_tight</span> <span class="o">=</span> <span class="n">alg</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span><span class="o">.</span><span class="n">GetNumberOfCells</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">is_water_tight</span></div>


<div class="viewcode-block" id="isPolyDataPolyLine">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.isPolyDataPolyLine">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">isPolyDataPolyLine</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">k1</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetNumberOfCells</span><span class="p">()):</span>
        <span class="n">aa</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">GetCell</span><span class="p">(</span><span class="n">k1</span><span class="p">)</span><span class="o">.</span><span class="n">IsA</span><span class="p">(</span><span class="s1">&#39;vtkPolyLine&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">aa</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span> <span class="c1"># if find any non-line - return false</span>
    <span class="k">return</span> <span class="kc">True</span></div>



<div class="viewcode-block" id="calculatePolyDataArea">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.calculatePolyDataArea">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">calculatePolyDataArea</span><span class="p">(</span><span class="n">vtpdata</span><span class="p">):</span>  <span class="c1"># latest version will allow compute on polydata</span>
    <span class="n">nCells</span> <span class="o">=</span> <span class="n">vtpdata</span><span class="o">.</span><span class="n">GetNumberOfCells</span><span class="p">()</span>
    <span class="n">A</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="k">for</span> <span class="n">k1</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nCells</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">A</span> <span class="o">+=</span> <span class="n">vtpdata</span><span class="o">.</span><span class="n">GetCell</span><span class="p">(</span><span class="n">k1</span><span class="p">)</span><span class="o">.</span><span class="n">ComputeArea</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="c1"># This deals with case of polyline representing the ROI</span>
            <span class="k">return</span> <span class="n">calculatePolyDataArea</span><span class="p">(</span><span class="n">buildPolyTrianglesAtCp</span><span class="p">(</span><span class="n">getPtsAsNumpy</span><span class="p">(</span><span class="n">vtpdata</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">A</span></div>


<div class="viewcode-block" id="getPolyDataCenterPtNormal">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getPolyDataCenterPtNormal">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getPolyDataCenterPtNormal</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">refNorm</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; return 2x np array center point, normal for each tri in poly data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">nCells</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">GetNumberOfCells</span><span class="p">()</span>
    <span class="n">cp</span><span class="p">,</span> <span class="n">norm</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">k1</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nCells</span><span class="p">):</span>
        <span class="n">iCell</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">GetCell</span><span class="p">(</span><span class="n">k1</span><span class="p">)</span>
        <span class="n">centerPt</span><span class="p">,</span> <span class="n">normal</span> <span class="o">=</span> <span class="n">__getTriangleCenterAndNormal</span><span class="p">(</span><span class="n">iCell</span><span class="p">)</span>
        <span class="n">cp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">centerPt</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">refNorm</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">normal</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">setVecAConsitentWithVecB</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">normal</span><span class="p">),</span> <span class="n">refNorm</span><span class="p">)</span>
        <span class="n">norm</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">normal</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">cp</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">norm</span><span class="p">)</span></div>


<div class="viewcode-block" id="addMagnitudeArray">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.addMagnitudeArray">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addMagnitudeArray</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">vecArrayName</span><span class="p">,</span> <span class="n">vecArrayNameOut</span><span class="p">):</span>
    <span class="n">magA</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">getArrayAsNumpy</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">vecArrayName</span><span class="p">),</span> <span class="mf">2.0</span><span class="p">),</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">setArrayFromNumpy</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">magA</span><span class="p">,</span> <span class="n">vecArrayNameOut</span><span class="p">)</span></div>



<div class="viewcode-block" id="addNormalVelocities">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.addNormalVelocities">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addNormalVelocities</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">normal</span><span class="p">,</span> <span class="n">vecArrayName</span><span class="p">,</span> <span class="n">vecArrayNameOut</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Will add scalar array of normal velocity magnitude</span>
<span class="sd">        output array: fDC.varNameVelocityNormal</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">normal</span> <span class="o">=</span> <span class="n">normal</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">normal</span><span class="p">)</span>
    <span class="n">velArray</span> <span class="o">=</span> <span class="n">getArrayAsNumpy</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">vecArrayName</span><span class="p">)</span>
    <span class="n">vN</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">velArray</span><span class="p">,</span> <span class="n">normal</span><span class="p">)</span>
    <span class="n">setArrayFromNumpy</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">vN</span><span class="p">,</span> <span class="n">vecArrayNameOut</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data</span></div>



<div class="viewcode-block" id="filterDilateErode">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterDilateErode">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterDilateErode</span><span class="p">(</span><span class="n">imData</span><span class="p">,</span> <span class="n">kernal</span><span class="p">,</span> <span class="n">valDilate</span><span class="p">,</span> <span class="n">valErode</span><span class="p">):</span>
    <span class="c1"># if binary then for dilate set valDilate=1, valErode=0</span>
    <span class="c1">#                for erode  set valDilate=0, valErode=1</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">len</span><span class="p">(</span><span class="n">kernal</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="n">kernal</span> <span class="o">=</span> <span class="p">[</span><span class="n">kernal</span><span class="p">,</span><span class="n">kernal</span><span class="p">,</span><span class="n">kernal</span><span class="p">]</span>
    <span class="n">dilateErode</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkImageDilateErode3D</span><span class="p">()</span>
    <span class="n">dilateErode</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">imData</span><span class="p">)</span>
    <span class="n">dilateErode</span><span class="o">.</span><span class="n">SetDilateValue</span><span class="p">(</span><span class="n">valDilate</span><span class="p">)</span>
    <span class="n">dilateErode</span><span class="o">.</span><span class="n">SetErodeValue</span><span class="p">(</span><span class="n">valErode</span><span class="p">)</span>
    <span class="n">dilateErode</span><span class="o">.</span><span class="n">SetKernelSize</span><span class="p">(</span><span class="n">kernal</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">kernal</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">kernal</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">dilateErode</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">dilateErode</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="filterExtractSurface">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterExtractSurface">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterExtractSurface</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">geometryFilter</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkGeometryFilter</span><span class="p">()</span>
    <span class="n">geometryFilter</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">geometryFilter</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">geometryFilter</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="filterExtractTri">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterExtractTri">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterExtractTri</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">ss</span> <span class="o">=</span> <span class="n">filterExtractSurface</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">filterTriangulate</span><span class="p">(</span><span class="n">ss</span><span class="p">)</span></div>



<div class="viewcode-block" id="filterTriangulate">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterTriangulate">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterTriangulate</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">triFilter</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkTriangleFilter</span><span class="p">()</span>
    <span class="n">triFilter</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">triFilter</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">triFilter</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="getVolumeSurfaceAreaOfPolyData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getVolumeSurfaceAreaOfPolyData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getVolumeSurfaceAreaOfPolyData</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">filterTriangulate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">massFilter</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkMassProperties</span><span class="p">()</span>
    <span class="n">massFilter</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">massFilter</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">massFilter</span><span class="o">.</span><span class="n">GetVolume</span><span class="p">(),</span> <span class="n">massFilter</span><span class="o">.</span><span class="n">GetSurfaceArea</span><span class="p">())</span></div>



<div class="viewcode-block" id="mergeSurfsByPointsInsideVti">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.mergeSurfsByPointsInsideVti">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">mergeSurfsByPointsInsideVti</span><span class="p">(</span><span class="n">surf1</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="nb">list</span><span class="p">],</span> <span class="n">surf2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">res</span><span class="o">=</span><span class="mf">0.001</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An alternative &quot;boolean union&quot; method. </span>

<span class="sd">    Args:</span>
<span class="sd">        surf1 (Union[vtk.vtkDataObject, list]): surfA or list of surfaces to bool union</span>
<span class="sd">        surf2 (vtk.vtkDataObject, optional): surfB. Defaults to None if surfA is list.</span>
<span class="sd">        res (float, optional): resolution to perform merging. Defaults to 0.001.</span>

<span class="sd">    Returns:</span>
<span class="sd">        vtk.vtkDataObject: merged surface as polydata. </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">surf1</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
        <span class="n">ppfull</span> <span class="o">=</span> <span class="n">appendPolyDataList</span><span class="p">(</span><span class="n">surf1</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ppfull</span> <span class="o">=</span> <span class="n">appendPolyData</span><span class="p">(</span><span class="n">surf1</span><span class="p">,</span> <span class="n">surf2</span><span class="p">)</span>
        <span class="n">surf1</span> <span class="o">=</span> <span class="p">[</span><span class="n">surf1</span><span class="p">,</span> <span class="n">surf2</span><span class="p">]</span>
    <span class="n">oo</span> <span class="o">=</span> <span class="n">getOutline</span><span class="p">(</span><span class="n">ppfull</span><span class="p">)</span>
    <span class="n">ii</span> <span class="o">=</span> <span class="n">buildRawImageDataFromOutline</span><span class="p">(</span><span class="n">oo</span><span class="p">,</span> <span class="n">res</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k1</span><span class="p">,</span> <span class="n">iSurf</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">surf1</span><span class="p">):</span>
        <span class="n">tf1</span> <span class="o">=</span> <span class="n">filterGetEnclosedPts</span><span class="p">(</span><span class="n">ii</span><span class="p">,</span> <span class="n">iSurf</span><span class="p">,</span> <span class="s1">&#39;tf&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">k1</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">A</span> <span class="o">=</span> <span class="n">tf1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">A</span> <span class="o">=</span> <span class="n">A</span><span class="o">|</span><span class="n">tf1</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">ii</span><span class="o">.</span><span class="n">GetDimensions</span><span class="p">(),</span> <span class="s1">&#39;F&#39;</span><span class="p">)</span>
    <span class="n">addNpArray</span><span class="p">(</span><span class="n">ii</span><span class="p">,</span> <span class="n">A</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">),</span> <span class="s1">&#39;Inside&#39;</span><span class="p">,</span> <span class="n">SET_SCALAR</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">IS_3D</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">getConnectedRegionLargest</span><span class="p">(</span><span class="n">contourFilter</span><span class="p">(</span><span class="n">ii</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span></div>



<span class="c1"># ======================================================================================================================</span>
<span class="c1">#           TRIANGLE AREA &amp; NORMAL</span>
<span class="c1"># ======================================================================================================================</span>
<div class="viewcode-block" id="getTriangleAreaAndNormal">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getTriangleAreaAndNormal">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getTriangleAreaAndNormal</span><span class="p">(</span><span class="n">triCell</span><span class="p">):</span>
    <span class="c1"># return area_float, normal_float3</span>
    <span class="n">cellPts</span> <span class="o">=</span> <span class="n">triCell</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span>
    <span class="n">area</span> <span class="o">=</span> <span class="n">triCell</span><span class="o">.</span><span class="n">ComputeArea</span><span class="p">()</span>
    <span class="n">normal</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">triCell</span><span class="o">.</span><span class="n">ComputeNormal</span><span class="p">(</span><span class="n">cellPts</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">cellPts</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">cellPts</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">normal</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">area</span><span class="p">,</span> <span class="n">normal</span><span class="p">)</span></div>



<span class="k">def</span><span class="w"> </span><span class="nf">__getTriangleCenterAndNormal</span><span class="p">(</span><span class="n">triCell</span><span class="p">):</span>
    <span class="c1"># return area_float, normal_float3</span>
    <span class="n">cellPts</span> <span class="o">=</span> <span class="n">triCell</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span>
    <span class="c1"># cp = triCell.GetCenter()</span>
    <span class="n">cp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">((</span><span class="n">cellPts</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">cellPts</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">cellPts</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">2</span><span class="p">)),</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">normal</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">triCell</span><span class="o">.</span><span class="n">ComputeNormal</span><span class="p">(</span><span class="n">cellPts</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">cellPts</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">cellPts</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">normal</span><span class="p">)</span>  <span class="c1"># this is mag 1.0</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">cp</span><span class="p">,</span> <span class="n">normal</span><span class="p">)</span>


<div class="viewcode-block" id="addNormalsToPolyData">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.addNormalsToPolyData">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">addNormalsToPolyData</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">REV</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">SPLITTING</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">MANIFOLD</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add normals to polydata.</span>
<span class="sd">    This is a wrapper around vtkPolyDataNormals.</span>
<span class="sd">    See the vtk documentation for more details.</span>

<span class="sd">    :param data: vtkPolyData</span>
<span class="sd">    :param REV: bool - reverse normals</span>
<span class="sd">    :param SPLITTING: bool - split normals</span>
<span class="sd">    :param MANIFOLD: bool - manifold normals</span>
<span class="sd">    :return: vtkPolyData with normals</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">normFilter</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataNormals</span><span class="p">()</span>
    <span class="n">normFilter</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">normFilter</span><span class="o">.</span><span class="n">SetFeatureAngle</span><span class="p">(</span><span class="mf">60.0</span><span class="p">)</span>
    <span class="n">normFilter</span><span class="o">.</span><span class="n">SetNonManifoldTraversal</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">MANIFOLD</span><span class="p">))</span>
    <span class="n">normFilter</span><span class="o">.</span><span class="n">AutoOrientNormalsOn</span><span class="p">()</span>
    <span class="n">normFilter</span><span class="o">.</span><span class="n">SetSplitting</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">SPLITTING</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">REV</span><span class="p">:</span>
        <span class="n">normFilter</span><span class="o">.</span><span class="n">FlipNormalsOn</span><span class="p">()</span>
    <span class="n">normFilter</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">normFilter</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<span class="c1"># ======================================================================================================================</span>
<span class="c1">#           EDGES</span>
<span class="c1"># ======================================================================================================================</span>
<div class="viewcode-block" id="getBoundaryEdges">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getBoundaryEdges">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getBoundaryEdges</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get boundary edges of polydata.</span>
<span class="sd">    This is a wrapper around vtkFeatureEdges.</span>
<span class="sd">    See the vtk documentation for more details.</span>

<span class="sd">    :param data: vtkPolyData</span>
<span class="sd">    :return: vtkPolyData with boundary edges</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fef</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkFeatureEdges</span><span class="p">()</span>
    <span class="n">fef</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">fef</span><span class="o">.</span><span class="n">BoundaryEdgesOn</span><span class="p">()</span>
    <span class="n">fef</span><span class="o">.</span><span class="n">ManifoldEdgesOff</span><span class="p">()</span>
    <span class="n">fef</span><span class="o">.</span><span class="n">NonManifoldEdgesOff</span><span class="p">()</span>
    <span class="n">fef</span><span class="o">.</span><span class="n">FeatureEdgesOff</span><span class="p">()</span>
    <span class="n">fef</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">fef</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="getEdges">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getEdges">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getEdges</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">FEATURE</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">fef</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkFeatureEdges</span><span class="p">()</span>
    <span class="n">fef</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">fef</span><span class="o">.</span><span class="n">BoundaryEdgesOn</span><span class="p">()</span>
    <span class="n">fef</span><span class="o">.</span><span class="n">ManifoldEdgesOn</span><span class="p">()</span>
    <span class="n">fef</span><span class="o">.</span><span class="n">NonManifoldEdgesOn</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">FEATURE</span><span class="p">:</span>
        <span class="n">fef</span><span class="o">.</span><span class="n">FeatureEdgesOn</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">fef</span><span class="o">.</span><span class="n">FeatureEdgesOff</span><span class="p">()</span>
    <span class="n">fef</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">fef</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="getConnectedCellIds">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getConnectedCellIds">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getConnectedCellIds</span><span class="p">(</span><span class="n">dataMesh</span><span class="p">,</span> <span class="n">searchId</span><span class="p">):</span>
    <span class="n">connectedCells</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkIdList</span><span class="p">()</span>
    <span class="n">dataMesh</span><span class="o">.</span><span class="n">BuildLinks</span><span class="p">()</span>
    <span class="n">dataMesh</span><span class="o">.</span><span class="n">GetPointCells</span><span class="p">(</span><span class="n">searchId</span><span class="p">,</span> <span class="n">connectedCells</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">connectedCells</span></div>


<span class="c1"># ======================================================================================================================</span>
<span class="c1">#           VOLUME FILTERS</span>
<span class="c1"># ======================================================================================================================</span>
<div class="viewcode-block" id="extractStructuredSubGrid">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.extractStructuredSubGrid">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">extractStructuredSubGrid</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ijkMinMax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sampleRate</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">TO_INCLUDE_BOUNDARY</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extract a structured subgrid from a vtkDataObject.</span>
<span class="sd">    This is a wrapper around vtkExtractGrid.</span>
<span class="sd">    See the vtk documentation for more details.</span>

<span class="sd">    :param data: vtkDataObject</span>
<span class="sd">    :param ijkMinMax: tuple of ints - min and max indices</span>
<span class="sd">    :param sampleRate: tuple of ints - sample rate</span>
<span class="sd">    :param TO_INCLUDE_BOUNDARY: bool - include boundary</span>
<span class="sd">    :return: vtkDataObject</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">sampleRate</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">sampleRate</span> <span class="o">=</span> <span class="p">(</span><span class="n">sampleRate</span><span class="p">,</span> <span class="n">sampleRate</span><span class="p">,</span> <span class="n">sampleRate</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ijkMinMax</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">ijkMinMax</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">GetExtent</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkImageData</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">extractVOI</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ijkMinMax</span><span class="p">,</span> <span class="n">sampleRate</span><span class="o">=</span><span class="n">sampleRate</span><span class="p">)</span>
    <span class="n">extractGrid</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkExtractGrid</span><span class="p">()</span>
    <span class="n">extractGrid</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">extractGrid</span><span class="o">.</span><span class="n">SetVOI</span><span class="p">(</span><span class="n">ijkMinMax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ijkMinMax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">ijkMinMax</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">ijkMinMax</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                       <span class="n">ijkMinMax</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">ijkMinMax</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
    <span class="n">extractGrid</span><span class="o">.</span><span class="n">SetSampleRate</span><span class="p">(</span><span class="n">sampleRate</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">sampleRate</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">sampleRate</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">TO_INCLUDE_BOUNDARY</span><span class="p">:</span>
        <span class="n">extractGrid</span><span class="o">.</span><span class="n">IncludeBoundaryOn</span><span class="p">()</span>
    <span class="n">extractGrid</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">extractGrid</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="extractVOI">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.extractVOI">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">extractVOI</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ijkMinMax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sampleRate</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extract a volume of interest from a vtkImageData.</span>
<span class="sd">    This is a wrapper around vtkExtractVOI.</span>
<span class="sd">    See the vtk documentation for more details.</span>

<span class="sd">    :param data: vtkImageData</span>
<span class="sd">    :param ijkMinMax: tuple of ints - min and max indices</span>
<span class="sd">    :param sampleRate: tuple of ints - sample rate</span>
<span class="sd">    :return: vtkDataObject</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">extractGrid</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkExtractVOI</span><span class="p">()</span>
    <span class="n">extractGrid</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">ijkMinMaxOrig</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">GetExtent</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">ijkMinMax</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">ijkMinMax</span> <span class="o">=</span> <span class="n">ijkMinMaxOrig</span>
    <span class="n">ijkMinMax</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ijkMinMax</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k1</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]:</span>
        <span class="n">ijkMinMax</span><span class="p">[</span><span class="n">k1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">ijkMinMax</span><span class="p">[</span><span class="n">k1</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k2</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]:</span>
        <span class="n">ijkMinMax</span><span class="p">[</span><span class="n">k2</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">ijkMinMax</span><span class="p">[</span><span class="n">k2</span><span class="p">],</span> <span class="n">ijkMinMaxOrig</span><span class="p">[</span><span class="n">k2</span><span class="p">])</span>
    <span class="n">extractGrid</span><span class="o">.</span><span class="n">SetVOI</span><span class="p">(</span><span class="n">ijkMinMax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ijkMinMax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">ijkMinMax</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">ijkMinMax</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                       <span class="n">ijkMinMax</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">ijkMinMax</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
    <span class="n">extractGrid</span><span class="o">.</span><span class="n">SetSampleRate</span><span class="p">(</span><span class="n">sampleRate</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">sampleRate</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">sampleRate</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="c1"># extractGrid.IncludeBoundaryOn()</span>
    <span class="n">extractGrid</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">extractGrid</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="extractVOI_fromFov">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.extractVOI_fromFov">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">extractVOI_fromFov</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">fovData</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extract a volume of interest from a vtkImageData.</span>
<span class="sd">    This is a wrapper around vtkExtractVOI.</span>
<span class="sd">    See the vtk documentation for more details.</span>
<span class="sd">    Locally this runs extractVOI using the bounds of the fovData.</span>

<span class="sd">    :param data: vtkImageData</span>
<span class="sd">    :param fovData: vtkDataObject - volume of interest</span>
<span class="sd">    :return: vtkImageData</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fovData</span> <span class="o">=</span> <span class="n">cleanData</span><span class="p">(</span><span class="n">fovData</span><span class="p">)</span> <span class="c1"># To prevent surprises</span>
    <span class="n">bounds</span> <span class="o">=</span> <span class="n">fovData</span><span class="o">.</span><span class="n">GetBounds</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">isVTS</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
        <span class="n">extent</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">GetExtent</span><span class="p">()</span>
        <span class="n">points</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span>
        <span class="n">dims</span> <span class="o">=</span> <span class="n">__getDimensions</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="c1"># Initialize min/max indices</span>
        <span class="n">imin</span><span class="p">,</span> <span class="n">imax</span> <span class="o">=</span> <span class="n">extent</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">extent</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">jmin</span><span class="p">,</span> <span class="n">jmax</span> <span class="o">=</span> <span class="n">extent</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">extent</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">kmin</span><span class="p">,</span> <span class="n">kmax</span> <span class="o">=</span> <span class="n">extent</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">extent</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
        <span class="c1"># Check each point</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">extent</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">extent</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">extent</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">extent</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">extent</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">extent</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>                    
                    <span class="n">idx</span> <span class="o">=</span> <span class="p">(</span><span class="n">k</span> <span class="o">-</span> <span class="n">extent</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span> <span class="o">*</span> <span class="n">dims</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">dims</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> \
                         <span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="n">extent</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">*</span> <span class="n">dims</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> \
                         <span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="n">extent</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                    <span class="k">if</span> <span class="n">idx</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">idx</span> <span class="o">&gt;=</span> <span class="n">points</span><span class="o">.</span><span class="n">GetNumberOfPoints</span><span class="p">():</span>
                        <span class="k">continue</span>  <span class="c1"># Invalid index</span>
                    <span class="n">point</span> <span class="o">=</span> <span class="n">points</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">point</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">point</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span>
                        <span class="n">point</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">and</span> <span class="n">point</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="ow">and</span>
                        <span class="n">point</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="ow">and</span> <span class="n">point</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">bounds</span><span class="p">[</span><span class="mi">5</span><span class="p">]):</span>
                        <span class="n">imin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">imin</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
                        <span class="n">imax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">imax</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
                        <span class="n">jmin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">jmin</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
                        <span class="n">jmax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">jmax</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
                        <span class="n">kmin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">kmin</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
                        <span class="n">kmax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">kmax</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">extractStructuredSubGrid</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="p">[</span><span class="n">imin</span><span class="p">,</span> <span class="n">imax</span><span class="p">,</span> <span class="n">jmin</span><span class="p">,</span> <span class="n">jmax</span><span class="p">,</span> <span class="n">kmin</span><span class="p">,</span> <span class="n">kmax</span><span class="p">])</span>
    <span class="n">bb</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">k1</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">k2</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
            <span class="k">for</span> <span class="n">k3</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]:</span>
                <span class="n">pt</span> <span class="o">=</span> <span class="p">[</span><span class="n">bounds</span><span class="p">[</span><span class="n">k1</span><span class="p">],</span> <span class="n">bounds</span><span class="p">[</span><span class="n">k2</span><span class="p">],</span> <span class="n">bounds</span><span class="p">[</span><span class="n">k3</span><span class="p">]]</span>
                <span class="n">bb</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt</span><span class="p">)</span>
    <span class="n">ti</span><span class="p">,</span> <span class="n">tj</span><span class="p">,</span> <span class="n">tk</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">X</span> <span class="ow">in</span> <span class="n">bb</span><span class="p">:</span>
        <span class="n">ijk</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">ComputeStructuredCoordinates</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">ijk</span><span class="p">,</span> <span class="n">pp</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k0</span><span class="p">,</span> <span class="n">tt</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">ijk</span><span class="p">,</span> <span class="p">[</span><span class="n">ti</span><span class="p">,</span> <span class="n">tj</span><span class="p">,</span> <span class="n">tk</span><span class="p">]):</span>
            <span class="n">tt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">tt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">k0</span><span class="p">)</span>
            <span class="n">tt</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">tt</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">k0</span><span class="p">)</span>
    <span class="n">tijk</span> <span class="o">=</span> <span class="p">[</span><span class="n">ti</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ti</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">tj</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">tj</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">tk</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">tk</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
    <span class="k">return</span> <span class="n">extractVOI</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">tijk</span><span class="p">)</span></div>



<div class="viewcode-block" id="filterNullOutsideSurface">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterNullOutsideSurface">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterNullOutsideSurface</span><span class="p">(</span><span class="n">vtkObj</span><span class="p">,</span> <span class="n">surfObj</span><span class="p">,</span> <span class="n">arrayListToNull</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tfArray</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Null out arrays outside a surface.</span>
<span class="sd">    This uses filterGetPointsInsideSurface to get a mask and then nulls out arrays outside the surface.</span>
<span class="sd">    See the vtk documentation for more details.</span>

<span class="sd">    :param vtkObj: vtkImageData or similar - data to null</span>
<span class="sd">    :param surfObj: vtkPolyData - surface</span>
<span class="sd">    :param arrayListToNull: list of strings - arrays to null</span>
<span class="sd">    :param tfArray: numpy array - mask</span>
<span class="sd">    :return: vtkPolyData</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">tfArray</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">tfArray</span> <span class="o">=</span> <span class="n">filterGetEnclosedPts</span><span class="p">(</span><span class="n">vtkObj</span><span class="p">,</span> <span class="n">surfObj</span><span class="p">,</span> <span class="s1">&#39;tf&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">arrayListToNull</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">arrayListToNull</span> <span class="o">=</span> <span class="n">getArrayNames</span><span class="p">(</span><span class="n">vtkObj</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">iA</span> <span class="ow">in</span> <span class="n">arrayListToNull</span><span class="p">:</span>
        <span class="n">aO</span> <span class="o">=</span> <span class="n">getArrayAsNumpy</span><span class="p">(</span><span class="n">vtkObj</span><span class="p">,</span> <span class="n">iA</span><span class="p">)</span>
        <span class="c1"># Handle both 1D and 2D arrays</span>
        <span class="k">if</span> <span class="n">aO</span><span class="o">.</span><span class="n">ndim</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">aO</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">aO</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">tfArray</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">aO</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">aO</span><span class="p">,</span> <span class="n">tfArray</span><span class="p">)</span>
        <span class="n">addNpArray</span><span class="p">(</span><span class="n">vtkObj</span><span class="p">,</span> <span class="n">aO</span><span class="p">,</span> <span class="n">iA</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">vtkObj</span></div>



<div class="viewcode-block" id="filterNullInsideSurface">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterNullInsideSurface">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterNullInsideSurface</span><span class="p">(</span><span class="n">vtkObj</span><span class="p">,</span> <span class="n">surfObj</span><span class="p">,</span> <span class="n">arrayListToNull</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nullVal</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Null out arrays inside a surface.</span>
<span class="sd">    This uses filterGetPointsInsideSurface to get a mask and then nulls out arrays inside the surface.</span>
<span class="sd">    See the vtk documentation for more details.</span>

<span class="sd">    :param vtkObj: vtkImageData or similar - data to null</span>
<span class="sd">    :param surfObj: vtkPolyData - surface</span>
<span class="sd">    :param arrayListToNull: list of strings - arrays to null</span>
<span class="sd">    :param nullVal: float - value to null</span>
<span class="sd">    :return: vtkPolyData</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tfA</span> <span class="o">=</span> <span class="n">filterGetEnclosedPts</span><span class="p">(</span><span class="n">vtkObj</span><span class="p">,</span> <span class="n">surfObj</span><span class="p">,</span> <span class="s1">&#39;tf&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">arrayListToNull</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">arrayListToNull</span> <span class="o">=</span> <span class="n">getArrayNames</span><span class="p">(</span><span class="n">vtkObj</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">iA</span> <span class="ow">in</span> <span class="n">arrayListToNull</span><span class="p">:</span>
        <span class="n">a0</span> <span class="o">=</span> <span class="n">getArrayAsNumpy</span><span class="p">(</span><span class="n">vtkObj</span><span class="p">,</span> <span class="n">iA</span><span class="p">)</span>
        <span class="n">a0</span><span class="p">[</span><span class="n">tfA</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">nullVal</span>
        <span class="c1"># Handle both 1D and 2D arrays</span>
        <span class="k">if</span> <span class="n">a0</span><span class="o">.</span><span class="n">ndim</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">addNpArray</span><span class="p">(</span><span class="n">vtkObj</span><span class="p">,</span> <span class="n">a0</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">iA</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">addNpArray</span><span class="p">(</span><span class="n">vtkObj</span><span class="p">,</span> <span class="n">a0</span><span class="p">,</span> <span class="n">iA</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">vtkObj</span></div>



<span class="c1"># ======================================================================================================================</span>
<span class="c1">#           RESAMPLE</span>
<span class="c1"># ======================================================================================================================</span>
<div class="viewcode-block" id="filterResampleToDataset">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterResampleToDataset">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterResampleToDataset</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">destData</span><span class="p">,</span> <span class="n">PASS_POINTS</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Resample data from src onto destData</span>
<span class="sd">    This is a wrapper around vtkProbeFilter.</span>
<span class="sd">    See the vtk documentation for more details.</span>

<span class="sd">    :param src: source vtkObj</span>
<span class="sd">    :param destData: destination vtkObj</span>
<span class="sd">    :param PASS_POINTS: bool [False] set true to pass point data from &#39;destData&#39; to output</span>
<span class="sd">    :return: destData with interpolated point data from src</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pf</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkProbeFilter</span><span class="p">()</span>
    <span class="n">pf</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">destData</span><span class="p">)</span>
    <span class="n">pf</span><span class="o">.</span><span class="n">SetSourceData</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">PASS_POINTS</span><span class="p">:</span>
        <span class="n">pf</span><span class="o">.</span><span class="n">PassPointArraysOn</span><span class="p">()</span>
    <span class="n">pf</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">pf</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="filterResampleToImage">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterResampleToImage">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterResampleToImage</span><span class="p">(</span><span class="n">vtsObj</span><span class="p">,</span> <span class="n">dims</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bounder</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Resample a vtkStructuredGrid or similar to an image.</span>
<span class="sd">    This is a wrapper around vtkResampleToImage.</span>
<span class="sd">    See the vtk documentation for more details.</span>

<span class="sd">    :param vtsObj: vtkStructuredGrid or similar</span>
<span class="sd">    :param dims: tuple of ints - dimensions of image. Default is to use the bounds of the vtsObj and calculated resolution.</span>
<span class="sd">    :param bounder: vtkPolyData - bounding box. Default is to use the bounds of the vtsObj.</span>
<span class="sd">    :return: vtkImageData</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rif</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkResampleToImage</span><span class="p">()</span>
    <span class="n">rif</span><span class="o">.</span><span class="n">SetInputDataObject</span><span class="p">(</span><span class="n">vtsObj</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">dims</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">outline</span> <span class="o">=</span> <span class="n">getOutline</span><span class="p">(</span><span class="n">vtsObj</span><span class="p">)</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">getVtsResolution</span><span class="p">(</span><span class="n">vtsObj</span><span class="p">)</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">buildRawImageDataFromOutline</span><span class="p">(</span><span class="n">outline</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">res</span><span class="p">),</span> <span class="n">pad</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">filterResampleToDataset</span><span class="p">(</span><span class="n">vtsObj</span><span class="p">,</span> <span class="n">img</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">_</span> <span class="o">=</span> <span class="n">dims</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="n">dims</span> <span class="o">=</span> <span class="p">[</span><span class="n">dims</span><span class="p">,</span> <span class="n">dims</span><span class="p">,</span> <span class="n">dims</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">bounder</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">rif</span><span class="o">.</span><span class="n">UseInputBoundsOff</span><span class="p">()</span>
        <span class="n">rif</span><span class="o">.</span><span class="n">SetSamplingBounds</span><span class="p">(</span><span class="n">bounder</span><span class="o">.</span><span class="n">GetBounds</span><span class="p">())</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">rif</span><span class="o">.</span><span class="n">UseInputBoundsOn</span><span class="p">()</span>
    <span class="n">rif</span><span class="o">.</span><span class="n">SetSamplingDimensions</span><span class="p">(</span><span class="n">dims</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">dims</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">dims</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">rif</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">rif</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="getAxesDirectionCosinesForNormal">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getAxesDirectionCosinesForNormal">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getAxesDirectionCosinesForNormal</span><span class="p">(</span><span class="n">normalVector</span><span class="p">,</span> <span class="n">guidingVector</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A good option is to set guidingVec to None for first and then to u for all others</span>
<span class="sd">    :param normalVector:</span>
<span class="sd">    :param guidingVector:</span>
<span class="sd">    :return:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">guidingVector</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">normalVector</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">normalVector</span><span class="p">[</span><span class="mi">1</span><span class="p">])):</span>
            <span class="n">factor</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">normalVector</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">normalVector</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">normalVector</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">normalVector</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="n">u0</span> <span class="o">=</span> <span class="o">-</span><span class="n">normalVector</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">factor</span>
            <span class="n">u1</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="n">u2</span> <span class="o">=</span> <span class="n">normalVector</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">factor</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">factor</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">normalVector</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">normalVector</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">normalVector</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">normalVector</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="n">u0</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="n">u1</span> <span class="o">=</span> <span class="n">normalVector</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">factor</span>
            <span class="n">u2</span> <span class="o">=</span> <span class="o">-</span><span class="n">normalVector</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">factor</span>
        <span class="n">u</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">u0</span><span class="p">,</span> <span class="n">u1</span><span class="p">,</span> <span class="n">u2</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">u</span> <span class="o">=</span> <span class="n">ftk</span><span class="o">.</span><span class="n">getVectorComponentNormalToRefVec</span><span class="p">(</span><span class="n">guidingVector</span><span class="p">,</span> <span class="n">normalVector</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">u</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">u</span> <span class="o">=</span> <span class="n">guidingVector</span>
        <span class="n">u</span> <span class="o">=</span> <span class="n">u</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cross</span><span class="p">(</span><span class="n">normalVector</span><span class="p">,</span> <span class="n">u</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">normalVector</span></div>




<div class="viewcode-block" id="filterResliceImage">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterResliceImage">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterResliceImage</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">normalVector</span><span class="p">,</span> <span class="n">guidingVector</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                       <span class="n">slabNumberOfSlices</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                       <span class="n">LINEAR_INTERPOLATION</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">MIP</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                       <span class="n">OUTPUT_DIM</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This returns a reslice</span>
<span class="sd">        add .GetOutput() to get the slice as imagedata</span>
<span class="sd">    EXAMPLE:</span>
<span class="sd">            ii = vtkfilters.filterResliceImage(vtiObj, X, n, [0,0,1])</span>
<span class="sd">            iI = ii.GetOutput()</span>
<span class="sd">            axT = ii.GetResliceAxes()</span>
<span class="sd">            c = contourFilter(iI, 450)</span>
<span class="sd">            c = filterTransformPolyData(c, matrix=axT)</span>
<span class="sd">    :param vtiObj: vtiObject to reslice</span>
<span class="sd">    :param X: loaction of slice center</span>
<span class="sd">    :param normalVector: normal vector defining slice</span>
<span class="sd">    :param guidingVector: 3_tuple - inplane vector to define slice x-axis [default None - will choose]</span>
<span class="sd">    :param slabNumberOfSlices: int - to make a thick slice [default=1]</span>
<span class="sd">    :param LINEAR_INTERPOLATION: bool - set true to have linear interpolation [default cubic]</span>
<span class="sd">    :param MIP: bool - set true for thick slice to show MIP [default mean]</span>
<span class="sd">    :param OUTPUT_DIM: int - set 3 for volume [default 2]</span>
<span class="sd">    :return: vtk.vtkImageReslice object</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">reslice</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkImageReslice</span><span class="p">()</span>
    <span class="n">reslice</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">)</span>
    <span class="n">reslice</span><span class="o">.</span><span class="n">SetOutputDimensionality</span><span class="p">(</span><span class="n">OUTPUT_DIM</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">OUTPUT_DIM</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">ss</span> <span class="o">=</span> <span class="n">vtiObj</span><span class="o">.</span><span class="n">GetSpacing</span><span class="p">()</span>
        <span class="n">reslice</span><span class="o">.</span><span class="n">SetOutputSpacing</span><span class="p">(</span><span class="n">ss</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ss</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">ss</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">slabNumberOfSlices</span><span class="p">)</span>
        <span class="n">reslice</span><span class="o">.</span><span class="n">SetSlabSliceSpacingFraction</span><span class="p">(</span><span class="mf">1.0</span><span class="o">/</span><span class="n">slabNumberOfSlices</span><span class="p">)</span>
    <span class="n">reslice</span><span class="o">.</span><span class="n">AutoCropOutputOn</span><span class="p">()</span>
    <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">normalVector</span> <span class="o">=</span> <span class="n">getAxesDirectionCosinesForNormal</span><span class="p">(</span><span class="n">normalVector</span><span class="p">,</span> <span class="n">guidingVector</span><span class="p">)</span>
    <span class="n">reslice</span><span class="o">.</span><span class="n">SetResliceAxesDirectionCosines</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">normalVector</span><span class="p">)</span>
    <span class="n">reslice</span><span class="o">.</span><span class="n">SetResliceAxesOrigin</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">LINEAR_INTERPOLATION</span><span class="p">:</span>
        <span class="n">reslice</span><span class="o">.</span><span class="n">SetInterpolationModeToLinear</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">reslice</span><span class="o">.</span><span class="n">SetInterpolationModeToCubic</span><span class="p">()</span>
    <span class="n">reslice</span><span class="o">.</span><span class="n">SetSlabNumberOfSlices</span><span class="p">(</span><span class="n">slabNumberOfSlices</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">MIP</span><span class="p">:</span>
        <span class="n">reslice</span><span class="o">.</span><span class="n">SetSlabModeToMax</span><span class="p">()</span> <span class="c1"># default is mean</span>
    <span class="n">reslice</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">reslice</span></div>



<div class="viewcode-block" id="filterVtiMedian">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterVtiMedian">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterVtiMedian</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">,</span> <span class="n">filterKernalSize</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">mf</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkImageMedian3D</span><span class="p">()</span>
    <span class="n">mf</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">mf</span><span class="o">.</span><span class="n">SetKernelSize</span><span class="p">(</span><span class="n">filterKernalSize</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">filterKernalSize</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">filterKernalSize</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="n">mf</span><span class="o">.</span><span class="n">SetKernelSize</span><span class="p">(</span><span class="n">filterKernalSize</span><span class="p">,</span><span class="n">filterKernalSize</span><span class="p">,</span><span class="n">filterKernalSize</span><span class="p">)</span>
    <span class="n">mf</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">mf</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="filterImageGradient">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterImageGradient">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterImageGradient</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">arrayNameToCalcGradient</span><span class="p">,</span> <span class="n">outputArrayName</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; </span>
<span class="sd">    Calculate the gradient of an image array.</span>
<span class="sd">    (du/dx, du/dy, du/dz, dv/dx, dv/dy, dv/dz, dw/dx, dw/dy, dw/dz)</span>

<span class="sd">    :param data: vtkImageData</span>
<span class="sd">    :param arrayNameToCalcGradient: string - name of array to calculate gradient</span>
<span class="sd">    :param outputArrayName: string - name of output array (default is arrayNameToCalcGradient + &#39;-Gradient&#39;)</span>

<span class="sd">    :return: vtkImageData with gradient array</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">outputArrayName</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">outputArrayName</span> <span class="o">=</span> <span class="n">arrayNameToCalcGradient</span> <span class="o">+</span> <span class="s1">&#39;-Gradient&#39;</span>
    <span class="n">gradientFilter</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkGradientFilter</span><span class="p">()</span>
    <span class="n">gradientFilter</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">gradientFilter</span><span class="o">.</span><span class="n">SetInputArrayToProcess</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">arrayNameToCalcGradient</span><span class="p">)</span>
    <span class="n">gradientFilter</span><span class="o">.</span><span class="n">SetResultArrayName</span><span class="p">(</span><span class="n">outputArrayName</span><span class="p">)</span>
    <span class="n">gradientFilter</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">gradientFilter</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="filterAnisotropicDiffusion">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterAnisotropicDiffusion">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterAnisotropicDiffusion</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">,</span> <span class="n">diffusionThreshold</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">diffusionFactor</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="n">filtAD</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkImageAnisotropicDiffusion3D</span><span class="p">()</span>
    <span class="n">filtAD</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">)</span>
    <span class="n">filtAD</span><span class="o">.</span><span class="n">SetNumberOfIterations</span><span class="p">(</span><span class="n">iterations</span><span class="p">)</span>
    <span class="n">filtAD</span><span class="o">.</span><span class="n">SetDiffusionFactor</span><span class="p">(</span><span class="n">diffusionFactor</span><span class="p">)</span>
    <span class="n">filtAD</span><span class="o">.</span><span class="n">SetDiffusionThreshold</span><span class="p">(</span><span class="n">diffusionThreshold</span><span class="p">)</span>
    <span class="n">filtAD</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">filtAD</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="filterSurfaceToImageStencil">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterSurfaceToImageStencil">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterSurfaceToImageStencil</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">,</span> <span class="n">surf3D</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="c1"># Create stencil from surface</span>
    <span class="n">poly_to_stencil</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataToImageStencil</span><span class="p">()</span>
    <span class="n">poly_to_stencil</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">surf3D</span><span class="p">)</span>
    <span class="n">poly_to_stencil</span><span class="o">.</span><span class="n">SetOutputOrigin</span><span class="p">(</span><span class="n">vtiObj</span><span class="o">.</span><span class="n">GetOrigin</span><span class="p">())</span>
    <span class="n">poly_to_stencil</span><span class="o">.</span><span class="n">SetOutputSpacing</span><span class="p">(</span><span class="n">vtiObj</span><span class="o">.</span><span class="n">GetSpacing</span><span class="p">())</span>
    <span class="n">poly_to_stencil</span><span class="o">.</span><span class="n">SetOutputWholeExtent</span><span class="p">(</span><span class="n">vtiObj</span><span class="o">.</span><span class="n">GetExtent</span><span class="p">())</span>
    <span class="n">poly_to_stencil</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="c1"># Create image from stencil</span>
    <span class="n">stencil_to_image</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkImageStencilToImage</span><span class="p">()</span>
    <span class="n">stencil_to_image</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">poly_to_stencil</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
    <span class="n">stencil_to_image</span><span class="o">.</span><span class="n">SetOutsideValue</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">stencil_to_image</span><span class="o">.</span><span class="n">SetInsideValue</span><span class="p">(</span><span class="n">fill_value</span><span class="p">)</span>
    <span class="n">stencil_to_image</span><span class="o">.</span><span class="n">SetOutputScalarType</span><span class="p">(</span><span class="n">vtk</span><span class="o">.</span><span class="n">VTK_UNSIGNED_CHAR</span><span class="p">)</span>
    <span class="n">stencil_to_image</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="n">stencilImage</span> <span class="o">=</span> <span class="n">stencil_to_image</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">stencilImage</span></div>



<div class="viewcode-block" id="filterMaskImageBySurface">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterMaskImageBySurface">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterMaskImageBySurface</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">,</span> <span class="n">surf3D</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">arrayName</span><span class="o">=</span><span class="s2">&quot;LabelMap&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a binary mask from a VTK image and a closed surface. </span>
<span class="sd">    The mask is added as an array to the input image.</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        image_data: vtkImageData - The reference image that defines the output dimensions and spacing</span>
<span class="sd">        surface: vtkPolyData - The closed surface to create mask from</span>
<span class="sd">        fill_value: Value to use for the mask (default=1)</span>
<span class="sd">        arrayName: Name of the array to use for the mask (default=&quot;LabelMap&quot;)</span>
<span class="sd">    Returns:</span>
<span class="sd">        vtkImageData with same dimensions as input but containing binary mask</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">stencilImage</span> <span class="o">=</span> <span class="n">filterSurfaceToImageStencil</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">,</span> <span class="n">surf3D</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="n">fill_value</span><span class="p">)</span>
    <span class="c1"># Add mask as array to input image</span>
    <span class="k">if</span> <span class="n">arrayName</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">getArrayNames</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">):</span>
        <span class="n">addNpArray</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">,</span> <span class="n">getArrayAsNumpy</span><span class="p">(</span><span class="n">stencilImage</span><span class="p">,</span> <span class="n">getScalarsArrayName</span><span class="p">(</span><span class="n">stencilImage</span><span class="p">)),</span> <span class="n">arrayName</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">A</span> <span class="o">=</span> <span class="n">getArrayAsNumpy</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">)</span>
        <span class="n">AS</span> <span class="o">=</span> <span class="n">getArrayAsNumpy</span><span class="p">(</span><span class="n">stencilImage</span><span class="p">,</span> <span class="n">getScalarsArrayName</span><span class="p">(</span><span class="n">stencilImage</span><span class="p">))</span>
        <span class="n">A</span><span class="p">[</span><span class="n">AS</span><span class="o">==</span><span class="n">fill_value</span><span class="p">]</span> <span class="o">=</span> <span class="n">fill_value</span>
        <span class="n">setArrayFromNumpy</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">vtiObj</span></div>



<div class="viewcode-block" id="filterGetPointsInsideSurface">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterGetPointsInsideSurface">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterGetPointsInsideSurface</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">surfaceData</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    classify points as inside(t) or outside(f)</span>
<span class="sd">    :param data: vtkObj</span>
<span class="sd">    :param surfaceData: closed polydata</span>
<span class="sd">    :return: vtkPolyData of points inside surface</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">unstructData</span> <span class="o">=</span> <span class="n">filterGetEnclosedPts</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">surfaceData</span><span class="p">,</span> <span class="s1">&#39;UNSTRUCT&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">buildPolydataFromXYZ</span><span class="p">(</span><span class="n">getPtsAsNumpy</span><span class="p">(</span><span class="n">unstructData</span><span class="p">))</span></div>

<div class="viewcode-block" id="filterGetPointIDsInsideSurface">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterGetPointIDsInsideSurface">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterGetPointIDsInsideSurface</span><span class="p">(</span><span class="n">vtkObj</span><span class="p">,</span> <span class="n">surf3D</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">filterGetEnclosedPts</span><span class="p">(</span><span class="n">vtkObj</span><span class="p">,</span> <span class="n">surf3D</span><span class="p">,</span> <span class="s1">&#39;ID&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="filterGetPolydataInsideSurface">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterGetPolydataInsideSurface">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterGetPolydataInsideSurface</span><span class="p">(</span><span class="n">vtkObj</span><span class="p">,</span> <span class="n">surf3D</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">filterGetEnclosedPts</span><span class="p">(</span><span class="n">vtkObj</span><span class="p">,</span> <span class="n">surf3D</span><span class="p">,</span> <span class="s1">&#39;POLYDATA&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="filterGetEnclosedPts">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterGetEnclosedPts">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterGetEnclosedPts</span><span class="p">(</span><span class="n">vtkObj</span><span class="p">,</span> <span class="n">surf3D</span><span class="p">,</span> <span class="n">RETURNTYPE</span><span class="o">=</span><span class="s2">&quot;POLYDATA&quot;</span><span class="p">,</span> <span class="n">tol</span><span class="o">=</span><span class="mf">0.0000000001</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all pts from vtkObj enclosed by surface.</span>
<span class="sd">    :param vtkObj: A vtkObj</span>
<span class="sd">    :param surf3D: A closed polydata surface</span>
<span class="sd">    :param RETURNTYPE: string - Options: &#39;POLYDATA&#39; | &#39;tf&#39; | &#39;ID&#39; | &#39;UNSTRUCT&#39;</span>
<span class="sd">    :param tol: default [0.00001]</span>
<span class="sd">    :return: polydata of points | np.array of true/false | list of IDs</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">tol</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">vtkObj</span><span class="o">.</span><span class="n">GetSpacing</span><span class="p">())</span> <span class="o">*</span> <span class="mf">0.0001</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="n">tol</span><span class="o">=</span><span class="n">tol</span>
    <span class="n">enclosedPts</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkSelectEnclosedPoints</span><span class="p">()</span>
    <span class="n">enclosedPts</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">vtkObj</span><span class="p">)</span>
    <span class="n">enclosedPts</span><span class="o">.</span><span class="n">SetSurfaceData</span><span class="p">(</span><span class="n">surf3D</span><span class="p">)</span>
    <span class="n">enclosedPts</span><span class="o">.</span><span class="n">SetTolerance</span><span class="p">(</span><span class="n">tol</span><span class="p">)</span>
    <span class="c1"># enclosedPts.SetCheckSurface(1)</span>
    <span class="n">enclosedPts</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">RETURNTYPE</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;polydata&quot;</span><span class="p">:</span>
        <span class="n">tt</span> <span class="o">=</span> <span class="n">getDataWithThreshold</span><span class="p">(</span><span class="n">enclosedPts</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">(),</span> <span class="s2">&quot;SelectedPoints&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tt</span>
    <span class="k">elif</span> <span class="n">RETURNTYPE</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;unstruct&quot;</span><span class="p">:</span>
        <span class="n">tt</span> <span class="o">=</span> <span class="n">getDataWithThreshold</span><span class="p">(</span><span class="n">enclosedPts</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">(),</span> <span class="s2">&quot;SelectedPoints&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tt</span>
    <span class="k">elif</span> <span class="n">RETURNTYPE</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;tf&quot;</span><span class="p">:</span>
        <span class="n">selectedA</span> <span class="o">=</span> <span class="n">getArrayAsNumpy</span><span class="p">(</span><span class="n">enclosedPts</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">(),</span> <span class="s2">&quot;SelectedPoints&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">selectedA</span> <span class="o">&gt;</span> <span class="mf">0.5</span>
    <span class="k">elif</span> <span class="n">RETURNTYPE</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span>
        <span class="n">selectedA</span> <span class="o">=</span> <span class="n">getArrayAsNumpy</span><span class="p">(</span><span class="n">enclosedPts</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">(),</span> <span class="s2">&quot;SelectedPoints&quot;</span><span class="p">)</span>
        <span class="n">tf</span> <span class="o">=</span> <span class="n">selectedA</span> <span class="o">&gt;</span> <span class="mf">0.5</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">argwhere</span><span class="p">(</span><span class="n">tf</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">enclosedPts</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>


<div class="viewcode-block" id="filterGetArrayValuesWithinSurface">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.filterGetArrayValuesWithinSurface">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">filterGetArrayValuesWithinSurface</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">surf3D</span><span class="p">,</span> <span class="n">arrayName</span><span class="p">):</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">getArrayAsNumpy</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">arrayName</span><span class="o">=</span><span class="n">arrayName</span><span class="p">)</span>
    <span class="n">ids2</span> <span class="o">=</span> <span class="n">filterGetPointIDsInsideSurface</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">surf3D</span><span class="o">=</span><span class="n">surf3D</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">A</span><span class="p">[</span><span class="n">ids2</span><span class="p">]</span></div>



<div class="viewcode-block" id="getDataWithThreshold">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getDataWithThreshold">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getDataWithThreshold</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">thresholdArrayName</span><span class="p">,</span> <span class="n">thresholdLower</span><span class="p">,</span> <span class="n">thresholdUpper</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get data within a threshold.</span>
<span class="sd">    This is a wrapper around vtkThreshold.</span>
<span class="sd">    See the vtk documentation for more details.</span>

<span class="sd">    :param data: vtkImageData or similar</span>
<span class="sd">    :param thresholdArrayName: string - name of array to threshold</span>
<span class="sd">    :param thresholdLower: float - lower threshold</span>
<span class="sd">    :param thresholdUpper: float - upper threshold</span>
<span class="sd">    :return: vtkUnstructuredGrid</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">thresholder</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkThreshold</span><span class="p">()</span>
    <span class="n">thresholder</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">thresholder</span><span class="o">.</span><span class="n">SetLowerThreshold</span><span class="p">(</span><span class="n">thresholdLower</span><span class="p">)</span>
    <span class="n">thresholder</span><span class="o">.</span><span class="n">SetUpperThreshold</span><span class="p">(</span><span class="n">thresholdUpper</span><span class="p">)</span>
    <span class="n">thresholder</span><span class="o">.</span><span class="n">SetInputArrayToProcess</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">thresholdArrayName</span><span class="p">)</span>
    <span class="n">thresholder</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">thresholder</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="countPointsInVti">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.countPointsInVti">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">countPointsInVti</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">,</span> <span class="n">objWithPoints</span><span class="p">,</span> <span class="n">npArray</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">countArrayName</span><span class="o">=</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">weightingArray</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add cell array &quot;count&quot; to vti with count of points from objWithPoints per cell</span>
<span class="sd">        </span>
<span class="sd">    </span>
<span class="sd">    :param vtiObj: vtkImageData or similar</span>
<span class="sd">    :param objWithPoints: vtkPolyData or similar</span>
<span class="sd">    :param npArray: numpy array - array to add count points to. default None</span>
<span class="sd">    :param countArrayName: string - name of array to add - default &quot;count&quot;</span>
<span class="sd">    :param weightingArray: string - name of array to weight points by - default None</span>
<span class="sd">    :return: vtkImageData with count array</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cellLocator</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkCellLocator</span><span class="p">()</span>
    <span class="n">cellLocator</span><span class="o">.</span><span class="n">SetDataSet</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">)</span>
    <span class="n">cellLocator</span><span class="o">.</span><span class="n">BuildLocator</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">getArrayId</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">,</span> <span class="n">countArrayName</span><span class="p">,</span> <span class="n">pointData</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">vtiObj</span><span class="o">.</span><span class="n">GetNumberOfCells</span><span class="p">())</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">A</span> <span class="o">=</span> <span class="n">getArrayAsNumpy</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">,</span> <span class="n">countArrayName</span><span class="p">,</span> <span class="n">pointData</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">weightingArray</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">weightingArray</span> <span class="o">=</span> <span class="n">getArrayAsNumpy</span><span class="p">(</span><span class="n">objWithPoints</span><span class="p">,</span> <span class="n">weightingArray</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">weightingArray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">objWithPoints</span><span class="o">.</span><span class="n">GetNumberOfPoints</span><span class="p">())</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">objWithPoints</span><span class="o">.</span><span class="n">GetNumberOfPoints</span><span class="p">()):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">objWithPoints</span><span class="o">.</span><span class="n">GetPoints</span><span class="p">()</span><span class="o">.</span><span class="n">GetPoint</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">cellId</span> <span class="o">=</span> <span class="n">cellLocator</span><span class="o">.</span><span class="n">FindCell</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cellId</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># FindCell returns -1 if point not found</span>
            <span class="k">if</span> <span class="n">npArray</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">A</span><span class="p">[</span><span class="n">cellId</span><span class="p">]</span><span class="o">+=</span><span class="mi">1</span> <span class="o">*</span> <span class="n">weightingArray</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">A</span><span class="p">[</span><span class="n">cellId</span><span class="p">]</span><span class="o">+=</span><span class="n">npArray</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">weightingArray</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">setArrayFromNumpy</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">countArrayName</span><span class="p">,</span> <span class="n">pointData</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">vtiObj</span> <span class="o">=</span> <span class="n">cellToPointData</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">)</span>
    <span class="n">setArrayAsScalars</span><span class="p">(</span><span class="n">vtiObj</span><span class="p">,</span> <span class="n">countArrayName</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">vtiObj</span></div>







<span class="c1"># ======================================================================================================================</span>
<span class="c1">#           VTK CONNECTED REGION FILTERS</span>
<span class="c1"># ======================================================================================================================</span>
<span class="k">def</span><span class="w"> </span><span class="nf">__getConnectedRegionLargest_UnStruct</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyData</span><span class="p">:</span>
    <span class="n">connectFilter</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkConnectivityFilter</span><span class="p">()</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">SetExtractionModeToLargestRegion</span><span class="p">()</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">AddSpecifiedRegion</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">connectFilter</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span>


<div class="viewcode-block" id="getConnectedRegionLargest">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getConnectedRegionLargest">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getConnectedRegionLargest</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyData</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the largest connected region from a vtkDataObject.</span>
<span class="sd">    </span>
<span class="sd">    :param data: vtkDataObject</span>
<span class="sd">    :return: vtkPolyData</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="o">.</span><span class="n">IsA</span><span class="p">(</span><span class="s1">&#39;vtkPolyData&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">__getConnectedRegionLargest_UnStruct</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">connectFilter</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataConnectivityFilter</span><span class="p">()</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">SetExtractionModeToLargestRegion</span><span class="p">()</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">AddSpecifiedRegion</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">connectFilter</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="getConnectedRegionContaining">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getConnectedRegionContaining">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getConnectedRegionContaining</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">vtkId</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyData</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the connected region containing a given vtkId.</span>
<span class="sd">    </span>
<span class="sd">    :param data: vtkDataObject</span>
<span class="sd">    :param vtkId: int</span>
<span class="sd">    :return: vtkPolyData</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">connectFilter</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataConnectivityFilter</span><span class="p">()</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">AddSeed</span><span class="p">(</span><span class="n">vtkId</span><span class="p">)</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">connectFilter</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="getConnectedRegionClosestToX">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getConnectedRegionClosestToX">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getConnectedRegionClosestToX</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">X</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the connected region closest to a given point.</span>
<span class="sd">    </span>
<span class="sd">    :param data: vtkDataObject</span>
<span class="sd">    :param X: numpy array - point coordinates</span>
<span class="sd">    :return: vtkDataObject - vtkPolyData or vtkUnstructuredGrid</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkUnstructuredGrid</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">getConnectedRegionClosestToX_UnStruct</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">X</span><span class="p">)</span>
    <span class="n">connectFilter</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataConnectivityFilter</span><span class="p">()</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">SetExtractionModeToClosestPointRegion</span><span class="p">()</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">SetClosestPoint</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">connectFilter</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="getConnectedRegionClosestToX_UnStruct">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getConnectedRegionClosestToX_UnStruct">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getConnectedRegionClosestToX_UnStruct</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">X</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">:</span>
    <span class="n">connectFilter</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkConnectivityFilter</span><span class="p">()</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">SetExtractionModeToClosestPointRegion</span><span class="p">()</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">SetClosestPoint</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">connectFilter</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">()</span></div>



<div class="viewcode-block" id="getConnectedRegionAll">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getConnectedRegionAll">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getConnectedRegionAll</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">minPts</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyData</span><span class="p">]:</span>
    <span class="n">connectFilter</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataConnectivityFilter</span><span class="p">()</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">SetInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">SetExtractionModeToSpecifiedRegions</span><span class="p">()</span>
    <span class="n">connectFilter</span><span class="o">.</span><span class="n">InitializeSpecifiedRegionList</span><span class="p">()</span>
    <span class="n">output</span><span class="p">,</span> <span class="n">c1</span> <span class="o">=</span> <span class="p">[],</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">connectFilter</span><span class="o">.</span><span class="n">AddSpecifiedRegion</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
        <span class="n">connectFilter</span><span class="o">.</span><span class="n">Update</span><span class="p">()</span>
        <span class="n">thisRegion</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyData</span><span class="p">()</span>
        <span class="n">thisRegion</span><span class="o">.</span><span class="n">DeepCopy</span><span class="p">(</span><span class="n">connectFilter</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">thisRegion</span><span class="o">.</span><span class="n">GetNumberOfCells</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">output</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">thisRegion</span><span class="p">)</span>
        <span class="n">connectFilter</span><span class="o">.</span><span class="n">DeleteSpecifiedRegion</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
        <span class="n">c1</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="c1">##</span>
    <span class="n">output</span> <span class="o">=</span> <span class="p">[</span><span class="n">cleanData</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">DO_POINT_MERGING</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">output</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">minPts</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">output</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">output</span> <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">GetNumberOfPoints</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="n">minPts</span><span class="p">]</span>
    <span class="n">outputS</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">pp</span> <span class="p">:</span> <span class="n">pp</span><span class="o">.</span><span class="n">GetNumberOfPoints</span><span class="p">(),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">outputS</span></div>



<div class="viewcode-block" id="getConnectedRegionMinDistToX">
<a class="viewcode-back" href="../../api/vtkfilters.html#ngawari.vtkfilters.getConnectedRegionMinDistToX">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">getConnectedRegionMinDistToX</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataObject</span><span class="p">,</span> <span class="n">X</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">minNPts</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyData</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Like closest to X - but min dist on pt by pt (rather than closest center point</span>
<span class="sd">    :param data:</span>
<span class="sd">    :param X:</span>
<span class="sd">    :param minNPts: default 10</span>
<span class="sd">    :return:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">allRegions</span> <span class="o">=</span> <span class="n">getConnectedRegionAll</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">minNPts</span><span class="p">)</span>
    <span class="n">ID</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">minDD</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">ftk</span><span class="o">.</span><span class="n">distPointPoints</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">getPtsAsNumpy</span><span class="p">(</span><span class="n">allRegions</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
    <span class="k">for</span> <span class="n">k1</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">allRegions</span><span class="p">)):</span>
        <span class="n">dd</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">ftk</span><span class="o">.</span><span class="n">distPointPoints</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">getPtsAsNumpy</span><span class="p">(</span><span class="n">allRegions</span><span class="p">[</span><span class="n">k1</span><span class="p">])))</span>
        <span class="k">if</span> <span class="n">dd</span> <span class="o">&lt;</span> <span class="n">minDD</span><span class="p">:</span>
            <span class="n">minDD</span> <span class="o">=</span> <span class="n">dd</span>
            <span class="n">ID</span> <span class="o">=</span> <span class="n">k1</span>
    <span class="k">return</span> <span class="n">allRegions</span><span class="p">[</span><span class="n">ID</span><span class="p">]</span></div>





</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Fraser M. Callaghan.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>